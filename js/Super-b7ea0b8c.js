import{L as e,aC as a,a as t,r as s,f as l,s as o,j as r,y as n,k as i,P as c,w as p,W as u,Z as d,$ as m,U as v,V as h,a1 as x}from"./index-f20dec1b.js";import{v as g,L as y}from"./directive-905d142f.js";const f={install(e){e.directive("loading",g),e.config.globalProperties.$loading=y},directive:g,service:y},P=new e({baseURL:"https://api.openai.com"+{}.VITE_APP_OPENAPI,headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},interceptors:{requestInterceptors:e=>(f.service({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e),responseInterceptors:e=>e}});class V{static getCompletion(e){return a=this,t=null,s=function*(){return P.instance({url:"/completions",method:"post",data:{model:"text-davinci-003",prompt:e,max_tokens:1e3,temperature:0}})},new Promise(((e,l)=>{var o=e=>{try{n(s.next(e))}catch(a){l(a)}},r=e=>{try{n(s.throw(e))}catch(a){l(a)}},n=a=>a.done?e(a.value):Promise.resolve(a.value).then(o,r);n((s=s.apply(a,t)).next())}));var a,t,s}}const _={class:"super"},w=(e=>(v("data-v-d925c3e9"),e=e(),h(),e))((()=>r("h3",null,"当前页面只有super才能看到",-1))),k={class:"mt-[240px] flex flex-col"},C=x(t({__name:"Super",setup(e){const a=s("你好"),t=s(""),v=()=>{V.getCompletion(a.value).then((e=>{const a=e.choices[0].text;t.value=a.replace(/[\r\n]/g,"")}))};return(e,s)=>{const h=d,x=m;return l(),o("div",_,[w,r("div",k,[n(h,{modelValue:i(a),"onUpdate:modelValue":s[0]||(s[0]=e=>c(a)?a.value=e:null),rows:3,type:"textarea",placeholder:"Please input"},null,8,["modelValue"]),n(x,{class:"my-4",type:"primary",size:"large",onClick:v},{default:p((()=>[u("发送")])),_:1}),n(h,{modelValue:i(t),"onUpdate:modelValue":s[1]||(s[1]=e=>c(t)?t.value=e:null),rows:10,type:"textarea",placeholder:"result..."},null,8,["modelValue"])])])}}}),[["__scopeId","data-v-d925c3e9"]]);export{C as default};
