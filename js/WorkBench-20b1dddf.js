var t,e=Object.defineProperty,i=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(t,i,n)=>i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[i]=n,l=(t,e)=>{for(var i in e||(e={}))r.call(e,i)&&a(t,i,e[i]);if(s)for(var i of s(e))o.call(e,i)&&a(t,i,e[i]);return t},c=(t,e)=>i(t,n(e)),d=(t,e,i)=>(a(t,"symbol"!=typeof e?e+"":e,i),i);import{a as h,r as u,o as f,f as p,g,w as m,j as v,y as b,W as y,ab as x,ac as w,F as _,ad as E,O as S,k as A,$ as D,U as C,V as M,a1 as k,ae as T,af as R,s as O}from"./index-f20dec1b.js";import{E as P}from"./el-card-4a0f5bbb.js";import{E as N}from"./el-link-80c026fe.js";import{l as I,x as L,y as z,_ as H,j as F,D as V,G as B,d as j}from"./preact.module-1889502f.js";
/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function W(t){return t+.5|0}const U=(t,e,i)=>Math.max(Math.min(t,i),e);function $(t){return U(W(2.55*t),0,255)}function Y(t){return U(W(255*t),0,255)}function G(t){return U(W(t/2.55)/100,0,1)}function q(t){return U(W(100*t),0,100)}const Q={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Z=[..."0123456789ABCDEF"],X=t=>Z[15&t],J=t=>Z[(240&t)>>4]+Z[15&t],K=t=>(240&t)>>4==(15&t),tt=t=>K(t.r)&&K(t.g)&&K(t.b)&&K(t.a);const et=(t,e)=>t<255?e(t):"";const it=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function nt(t,e,i){const n=e*Math.min(i,1-i),s=(e,s=(e+t/30)%12)=>i-n*Math.max(Math.min(s-3,9-s,1),-1);return[s(0),s(8),s(4)]}function st(t,e,i){const n=(n,s=(n+t/60)%6)=>i-i*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function rt(t,e,i){const n=nt(t,1,.5);let s;for(e+i>1&&(s=1/(e+i),e*=s,i*=s),s=0;s<3;s++)n[s]*=1-e-i,n[s]+=e;return n}function ot(t){const e=t.r/255,i=t.g/255,n=t.b/255,s=Math.max(e,i,n),r=Math.min(e,i,n),o=(s+r)/2;let a,l,c;return s!==r&&(c=s-r,l=o>.5?c/(2-s-r):c/(s+r),a=function(t,e,i,n,s){return t===s?(e-i)/n+(e<i?6:0):e===s?(i-t)/n+2:(t-e)/n+4}(e,i,n,c,s),a=60*a+.5),[0|a,l||0,o]}function at(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(Y)}function lt(t,e,i){return at(nt,t,e,i)}function ct(t){return(t%360+360)%360}function dt(t){const e=it.exec(t);let i,n=255;if(!e)return;e[5]!==i&&(n=e[6]?$(+e[5]):Y(+e[5]));const s=ct(+e[2]),r=+e[3]/100,o=+e[4]/100;return i="hwb"===e[1]?function(t,e,i){return at(rt,t,e,i)}(s,r,o):"hsv"===e[1]?function(t,e,i){return at(st,t,e,i)}(s,r,o):lt(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}const ht={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},ut={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let ft;function pt(t){ft||(ft=function(){const t={},e=Object.keys(ut),i=Object.keys(ht);let n,s,r,o,a;for(n=0;n<e.length;n++){for(o=a=e[n],s=0;s<i.length;s++)r=i[s],a=a.replace(r,ht[r]);r=parseInt(ut[o],16),t[a]=[r>>16&255,r>>8&255,255&r]}return t}(),ft.transparent=[0,0,0,0]);const e=ft[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const gt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const mt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,vt=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function bt(t,e,i){if(t){let n=ot(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=lt(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function yt(t,e){return t?Object.assign(e||{},t):t}function xt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Y(t[3]))):(e=yt(t,{r:0,g:0,b:0,a:1})).a=Y(e.a),e}function wt(t){return"r"===t.charAt(0)?function(t){const e=gt.exec(t);let i,n,s,r=255;if(e){if(e[7]!==i){const t=+e[7];r=e[8]?$(t):U(255*t,0,255)}return i=+e[1],n=+e[3],s=+e[5],i=255&(e[2]?$(i):U(i,0,255)),n=255&(e[4]?$(n):U(n,0,255)),s=255&(e[6]?$(s):U(s,0,255)),{r:i,g:n,b:s,a:r}}}(t):dt(t)}class _t{constructor(t){if(t instanceof _t)return t;const e=typeof t;let i;var n,s,r;"object"===e?i=xt(t):"string"===e&&(r=(n=t).length,"#"===n[0]&&(4===r||5===r?s={r:255&17*Q[n[1]],g:255&17*Q[n[2]],b:255&17*Q[n[3]],a:5===r?17*Q[n[4]]:255}:7!==r&&9!==r||(s={r:Q[n[1]]<<4|Q[n[2]],g:Q[n[3]]<<4|Q[n[4]],b:Q[n[5]]<<4|Q[n[6]],a:9===r?Q[n[7]]<<4|Q[n[8]]:255})),i=s||pt(t)||wt(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=yt(this._rgb);return t&&(t.a=G(t.a)),t}set rgb(t){this._rgb=xt(t)}rgbString(){return this._valid?(t=this._rgb)&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${G(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`):void 0;var t}hexString(){return this._valid?(t=this._rgb,e=tt(t)?X:J,t?"#"+e(t.r)+e(t.g)+e(t.b)+et(t.a,e):void 0):void 0;var t,e}hslString(){return this._valid?function(t){if(!t)return;const e=ot(t),i=e[0],n=q(e[1]),s=q(e[2]);return t.a<255?`hsla(${i}, ${n}%, ${s}%, ${G(t.a)})`:`hsl(${i}, ${n}%, ${s}%)`}(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,n=t.rgb;let s;const r=e===s?.5:e,o=2*r-1,a=i.a-n.a,l=((o*a==-1?o:(o+a)/(1+o*a))+1)/2;s=1-l,i.r=255&l*i.r+s*n.r+.5,i.g=255&l*i.g+s*n.g+.5,i.b=255&l*i.b+s*n.b+.5,i.a=r*i.a+(1-r)*n.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,i){const n=vt(G(t.r)),s=vt(G(t.g)),r=vt(G(t.b));return{r:Y(mt(n+i*(vt(G(e.r))-n))),g:Y(mt(s+i*(vt(G(e.g))-s))),b:Y(mt(r+i*(vt(G(e.b))-r))),a:t.a+i*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new _t(this.rgb)}alpha(t){return this._rgb.a=Y(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=W(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return bt(this._rgb,2,t),this}darken(t){return bt(this._rgb,2,-t),this}saturate(t){return bt(this._rgb,1,t),this}desaturate(t){return bt(this._rgb,1,-t),this}rotate(t){return function(t,e){var i=ot(t);i[0]=ct(i[0]+e),i=lt(i),t.r=i[0],t.g=i[1],t.b=i[2]}(this._rgb,t),this}}
/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Et(){}const St=(()=>{let t=0;return()=>t++})();function At(t){return null==t}function Dt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function Ct(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function Mt(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function kt(t,e){return Mt(t)?t:e}function Tt(t,e){return void 0===t?e:t}const Rt=(t,e)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ot(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function Pt(t,e,i,n){let s,r,o;if(Dt(t))if(r=t.length,n)for(s=r-1;s>=0;s--)e.call(i,t[s],s);else for(s=0;s<r;s++)e.call(i,t[s],s);else if(Ct(t))for(o=Object.keys(t),r=o.length,s=0;s<r;s++)e.call(i,t[o[s]],o[s])}function Nt(t,e){let i,n,s,r;if(!t||!e||t.length!==e.length)return!1;for(i=0,n=t.length;i<n;++i)if(s=t[i],r=e[i],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function It(t){if(Dt(t))return t.map(It);if(Ct(t)){const e=Object.create(null),i=Object.keys(t),n=i.length;let s=0;for(;s<n;++s)e[i[s]]=It(t[i[s]]);return e}return t}function Lt(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function zt(t,e,i,n){if(!Lt(t))return;const s=e[t],r=i[t];Ct(s)&&Ct(r)?Ht(s,r,n):e[t]=It(r)}function Ht(t,e,i){const n=Dt(e)?e:[e],s=n.length;if(!Ct(t))return t;const r=(i=i||{}).merger||zt;let o;for(let a=0;a<s;++a){if(o=n[a],!Ct(o))continue;const e=Object.keys(o);for(let n=0,s=e.length;n<s;++n)r(e[n],t,o,i)}return t}function Ft(t,e){return Ht(t,e,{merger:Vt})}function Vt(t,e,i){if(!Lt(t))return;const n=e[t],s=i[t];Ct(n)&&Ct(s)?Ft(n,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=It(s))}const Bt={
// Chart.helpers.core resolveObjectKey should resolve empty key to root object
"":t=>t
// default resolvers
,x:t=>t.x,y:t=>t.y};function jt(t,e){const i=Bt[e]||(Bt[e]=function(t){const e=function(t){const e=t.split("."),i=[];let n="";for(const s of e)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}(t);return t=>{for(const i of e){if(""===i)break;t=t&&t[i]}return t}}(e));return i(t)}function Wt(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Ut=t=>void 0!==t,$t=t=>"function"==typeof t,Yt=(t,e)=>{if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0};const Gt=Math.PI,qt=2*Gt,Qt=qt+Gt,Zt=Number.POSITIVE_INFINITY,Xt=Gt/180,Jt=Gt/2,Kt=Gt/4,te=2*Gt/3,ee=Math.log10,ie=Math.sign;function ne(t,e,i){return Math.abs(t-e)<i}function se(t){const e=Math.round(t);t=ne(t,e,t/1e3)?e:t;const i=Math.pow(10,Math.floor(ee(t))),n=t/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function re(t){return!isNaN(parseFloat(t))&&isFinite(t)}function oe(t,e,i){let n,s,r;for(n=0,s=t.length;n<s;n++)r=t[n][i],isNaN(r)||(e.min=Math.min(e.min,r),e.max=Math.max(e.max,r))}function ae(t){return t*(Gt/180)}function le(t){return t*(180/Gt)}function ce(t){if(!Mt(t))return;let e=1,i=0;for(;Math.round(t*e)/e!==t;)e*=10,i++;return i}function de(t,e){const i=e.x-t.x,n=e.y-t.y,s=Math.sqrt(i*i+n*n);let r=Math.atan2(n,i);return r<-.5*Gt&&(r+=qt),{angle:r,distance:s}}function he(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function ue(t,e){return(t-e+Qt)%qt-Gt}function fe(t){return(t%qt+qt)%qt}function pe(t,e,i,n){const s=fe(t),r=fe(e),o=fe(i),a=fe(r-s),l=fe(o-s),c=fe(s-r),d=fe(s-o);return s===r||s===o||n&&r===o||a>l&&c<d}function ge(t,e,i){return Math.max(e,Math.min(i,t))}function me(t,e,i,n=1e-6){return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function ve(t,e,i){i=i||(i=>t[i]<e);let n,s=t.length-1,r=0;for(;s-r>1;)n=r+s>>1,i(n)?r=n:s=n;return{lo:r,hi:s}}const be=(t,e,i,n)=>ve(t,i,n?n=>{const s=t[n][e];return s<i||s===i&&t[n+1][e]===i}:n=>t[n][e]<i),ye=(t,e,i)=>ve(t,i,(n=>t[n][e]>=i));const xe=["push","pop","shift","splice","unshift"];function we(t,e){const i=t._chartjs;if(!i)return;const n=i.listeners,s=n.indexOf(e);-1!==s&&n.splice(s,1),n.length>0||(xe.forEach((e=>{delete t[e]})),delete t._chartjs)}function _e(t){const e=new Set;let i,n;for(i=0,n=t.length;i<n;++i)e.add(t[i]);return e.size===n?t:Array.from(e)}const Ee="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function Se(t,e){let i=[],n=!1;return function(...s){i=s,n||(n=!0,Ee.call(window,(()=>{n=!1,t.apply(e,i)})))}}const Ae=t=>"start"===t?"left":"end"===t?"right":"center",De=(t,e,i)=>"start"===t?e:"end"===t?i:(e+i)/2;function Ce(t,e,i){const n=e.length;let s=0,r=n;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:d,minDefined:h,maxDefined:u}=o.getUserBounds();h&&(s=ge(Math.min(
// @ts-expect-error Need to type _parsed
be(a,o.axis,c).lo,
// @ts-expect-error Need to fix types on _lookupByKey
i?n:be(e,l,o.getPixelForValue(c)).lo),0,n-1)),r=u?ge(Math.max(
// @ts-expect-error Need to type _parsed
be(a,o.axis,d,!0).hi+1,
// @ts-expect-error Need to fix types on _lookupByKey
i?0:be(e,l,o.getPixelForValue(d),!0).hi+1),s,n)-s:n-s}return{start:s,count:r}}function Me(t){const{xScale:e,yScale:i,_scaleRanges:n}=t,s={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};if(!n)return t._scaleRanges=s,!0;const r=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,s),r}const ke=t=>0===t||1===t,Te=(t,e,i)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*qt/i),Re=(t,e,i)=>Math.pow(2,-10*t)*Math.sin((t-e)*qt/i)+1,Oe={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Jt),easeOutSine:t=>Math.sin(t*Jt),easeInOutSine:t=>-.5*(Math.cos(Gt*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>ke(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>ke(t)?t:Te(t,.075,.3),easeOutElastic:t=>ke(t)?t:Re(t,.075,.3),easeInOutElastic(t){const e=.1125;return ke(t)?t:t<.5?.5*Te(2*t,e,.45):.5+.5*Re(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-Oe.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:t=>t<.5?.5*Oe.easeInBounce(2*t):.5*Oe.easeOutBounce(2*t-1)+.5};function Pe(t){if(t&&"object"==typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function Ne(t){return Pe(t)?t:new _t(t)}function Ie(t){return Pe(t)?t:new _t(t).saturate(.5).darken(.1).hexString()}const Le=["x","y","borderWidth","radius","tension"],ze=["color","borderColor","backgroundColor"];const He=new Map;function Fe(t,e,i){return function(t,e){e=e||{};const i=t+JSON.stringify(e);let n=He.get(i);return n||(n=new Intl.NumberFormat(t,e),He.set(i,n)),n}(e,i).format(t)}const Ve={values:t=>Dt(t)?t:""+t,numeric(t,e,i){if(0===t)return"0";const n=this.chart.options.locale;let s,r=t;if(i.length>1){const e=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(e<1e-4||e>1e15)&&(s="scientific"),r=function(t,e){let i=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(i)>=1&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)}const o=ee(Math.abs(r)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Fe(t,n,l)},logarithmic(t,e,i){if(0===t)return"0";const n=i[e].significand||t/Math.pow(10,Math.floor(ee(t)));return[1,2,3,5,10,15].includes(n)||e>.8*i.length?Ve.numeric.call(this,t,e,i):""}};var Be={formatters:Ve};const je=Object.create(null),We=Object.create(null);function Ue(t,e){if(!e)return t;const i=e.split(".");for(let n=0,s=i.length;n<s;++n){const e=i[n];t=t[e]||(t[e]=Object.create(null))}return t}function $e(t,e,i){return"string"==typeof e?Ht(Ue(t,e),i):Ht(Ue(t,""),e)}class Ye{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>Ie(e.backgroundColor),this.hoverBorderColor=(t,e)=>Ie(e.borderColor),this.hoverColor=(t,e)=>Ie(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return $e(this,t,e)}get(t){return Ue(this,t)}describe(t,e){return $e(We,t,e)}override(t,e){return $e(je,t,e)}route(t,e,i,n){const s=Ue(this,t),r=Ue(this,i),o="_"+e;Object.defineProperties(s,{[o]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=r[n];return Ct(t)?Object.assign({},e,t):Tt(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Ge=new Ye({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:ze},numbers:{type:"number",properties:Le}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Be.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function qe(t,e,i,n,s){let r=e[s];return r||(r=e[s]=t.measureText(s).width,i.push(s)),r>n&&(n=r),n}function Qe(t,e,i,n){let s=(n=n||{}).data=n.data||{},r=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(s=n.data={},r=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const a=i.length;let l,c,d,h,u;for(l=0;l<a;l++)if(h=i[l],null!=h&&!0!==Dt(h))o=qe(t,s,r,o,h);else if(Dt(h))for(c=0,d=h.length;c<d;c++)u=h[c],null==u||Dt(u)||(o=qe(t,s,r,o,u));t.restore();const f=r.length/2;if(f>i.length){for(l=0;l<f;l++)delete s[r[l]];r.splice(0,f)}return o}function Ze(t,e,i){const n=t.currentDevicePixelRatio,s=0!==i?Math.max(i/2,.5):0;return Math.round((e-s)*n)/n+s}function Xe(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Je(t,e,i,n){Ke(t,e,i,n,null)}function Ke(t,e,i,n,s){let r,o,a,l,c,d,h,u;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*Xt;if(f&&"object"==typeof f&&(r=f.toString(),"[object HTMLImageElement]"===r||"[object HTMLCanvasElement]"===r))return t.save(),t.translate(i,n),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:s?t.ellipse(i,n,s/2,g,0,0,qt):t.arc(i,n,g,0,qt),t.closePath();break;case"triangle":d=s?s/2:g,t.moveTo(i+Math.sin(m)*d,n-Math.cos(m)*g),m+=te,t.lineTo(i+Math.sin(m)*d,n-Math.cos(m)*g),m+=te,t.lineTo(i+Math.sin(m)*d,n-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+Kt)*l,h=Math.cos(m+Kt)*(s?s/2-c:l),a=Math.sin(m+Kt)*l,u=Math.sin(m+Kt)*(s?s/2-c:l),t.arc(i-h,n-a,c,m-Gt,m-Jt),t.arc(i+u,n-o,c,m-Jt,m),t.arc(i+h,n+a,c,m,m+Jt),t.arc(i-u,n+o,c,m+Jt,m+Gt),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,d=s?s/2:l,t.rect(i-d,n-l,2*d,2*l);break}m+=Kt;case"rectRot":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),t.moveTo(i-h,n-a),t.lineTo(i+u,n-o),t.lineTo(i+h,n+a),t.lineTo(i-u,n+o),t.closePath();break;case"crossRot":m+=Kt;case"cross":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),t.moveTo(i-h,n-a),t.lineTo(i+h,n+a),t.moveTo(i+u,n-o),t.lineTo(i-u,n+o);break;case"star":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),t.moveTo(i-h,n-a),t.lineTo(i+h,n+a),t.moveTo(i+u,n-o),t.lineTo(i-u,n+o),m+=Kt,h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,u=Math.sin(m)*(s?s/2:g),t.moveTo(i-h,n-a),t.lineTo(i+h,n+a),t.moveTo(i+u,n-o),t.lineTo(i-u,n+o);break;case"line":o=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(i-o,n-a),t.lineTo(i+o,n+a);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(m)*(s?s/2:g),n+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function ti(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function ei(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function ii(t){t.restore()}function ni(t,e,i,n,s){if(!e)return t.lineTo(i.x,i.y);if("middle"===s){const n=(e.x+i.x)/2;t.lineTo(n,e.y),t.lineTo(n,i.y)}else"after"===s!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y);t.lineTo(i.x,i.y)}function si(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function ri(t,e,i,n,s,r={}){const o=Dt(e)?e:[e],a=r.strokeWidth>0&&""!==r.strokeColor;let l,c;for(t.save(),t.font=s.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]);At(e.rotation)||t.rotate(e.rotation);e.color&&(t.fillStyle=e.color);e.textAlign&&(t.textAlign=e.textAlign);e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&ai(t,r.backdrop),a&&(r.strokeColor&&(t.strokeStyle=r.strokeColor),At(r.strokeWidth)||(t.lineWidth=r.strokeWidth),t.strokeText(c,i,n,r.maxWidth)),t.fillText(c,i,n,r.maxWidth),oi(t,i,n,c,r),n+=s.lineHeight;t.restore()}function oi(t,e,i,n,s){if(s.strikethrough||s.underline){const r=t.measureText(n),o=e-r.actualBoundingBoxLeft,a=e+r.actualBoundingBoxRight,l=i-r.actualBoundingBoxAscent,c=i+r.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(o,d),t.lineTo(a,d),t.stroke()}}function ai(t,e){const i=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=i}function li(t,e){const{x:i,y:n,w:s,h:r,radius:o}=e;t.arc(i+o.topLeft,n+o.topLeft,o.topLeft,-Jt,Gt,!0),t.lineTo(i,n+r-o.bottomLeft),t.arc(i+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,Gt,Jt,!0),t.lineTo(i+s-o.bottomRight,n+r),t.arc(i+s-o.bottomRight,n+r-o.bottomRight,o.bottomRight,Jt,0,!0),t.lineTo(i+s,n+o.topRight),t.arc(i+s-o.topRight,n+o.topRight,o.topRight,0,-Jt,!0),t.lineTo(i+o.topLeft,n)}const ci=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,di=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hi(t,e){const i=(""+t).match(ci);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}const ui=t=>+t||0;function fi(t,e){const i={},n=Ct(e),s=n?Object.keys(e):e,r=Ct(t)?n?i=>Tt(t[i],t[e[i]]):e=>t[e]:()=>t;for(const o of s)i[o]=ui(r(o));return i}function pi(t){return fi(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gi(t){return fi(t,["topLeft","topRight","bottomLeft","bottomRight"])}function mi(t){const e=pi(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vi(t,e){t=t||{},e=e||Ge.font;let i=Tt(t.size,e.size);"string"==typeof i&&(i=parseInt(i,10));let n=Tt(t.style,e.style);n&&!(""+n).match(di)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const s={family:Tt(t.family,e.family),lineHeight:hi(Tt(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:Tt(t.weight,e.weight),string:""};return s.string=function(t){return!t||At(t.size)||At(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(s),s}function bi(t,e,i,n){let s,r,o,a=!0;for(s=0,r=t.length;s<r;++s)if(o=t[s],void 0!==o&&(void 0!==e&&"function"==typeof o&&(o=o(e),a=!1),void 0!==i&&Dt(o)&&(o=o[i%o.length],a=!1),void 0!==o))return n&&!a&&(n.cacheable=!1),o}function yi(t,e){return Object.assign(Object.create(t),e)}function xi(t,e=[""],i=t,n,s=(()=>t[0])){Ut(n)||(n=Ri("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:s,override:s=>xi([s,...t],e,i,n)};return new Proxy(r,{deleteProperty:(e,i)=>(delete e[i],delete e._keys,delete t[0][i],!0),get:(i,n)=>Ai(i,n,(()=>function(t,e,i,n){let s;for(const r of e)if(s=Ri(Ei(r,t),i),Ut(s))return Si(t,s)?ki(i,n,t,s):s}(n,e,t,i))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>Oi(t).includes(e),ownKeys:t=>Oi(t),set(t,e,i){const n=t._storage||(t._storage=s());return t[e]=n[e]=i,delete t._keys,!0}})}function wi(t,e,i,n){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:i,_stack:new Set,_descriptors:_i(t,n),setContext:e=>wi(t,e,i,n),override:s=>wi(t.override(s),e,i,n)};return new Proxy(s,{deleteProperty:(e,i)=>(delete e[i],delete t[i],!0),get:(t,e,i)=>Ai(t,e,(()=>function(t,e,i){const{_proxy:n,_context:s,_subProxy:r,_descriptors:o}=t;let a=n[e];$t(a)&&o.isScriptable(e)&&(a=function(t,e,i,n){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=i;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t),e=e(r,o||n),a.delete(t),Si(t,e)&&(e=ki(s._scopes,s,t,e));return e}(e,a,t,i));Dt(a)&&a.length&&(a=function(t,e,i,n){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=i;if(Ut(r.index)&&n(t))e=e[r.index%e.length];else if(Ct(e[0])){const i=e,n=s._scopes.filter((t=>t!==i));e=[];for(const l of i){const i=ki(n,s,t,l);e.push(wi(i,r,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));Si(e,a)&&(a=wi(a,s,r&&r[e],o));return a}(t,e,i))),getOwnPropertyDescriptor:(e,i)=>e._descriptors.allKeys?Reflect.has(t,i)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,i),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,i)=>Reflect.has(t,i),ownKeys:()=>Reflect.ownKeys(t),set:(e,i,n)=>(t[i]=n,delete e[i],!0)})}function _i(t,e={scriptable:!0,indexable:!0}){const{_scriptable:i=e.scriptable,_indexable:n=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:i,indexable:n,isScriptable:$t(i)?i:()=>i,isIndexable:$t(n)?n:()=>n}}const Ei=(t,e)=>t?t+Wt(e):e,Si=(t,e)=>Ct(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function Ai(t,e,i){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const n=i();return t[e]=n,n}function Di(t,e,i){return $t(t)?t(e,i):t}const Ci=(t,e)=>!0===t?e:"string"==typeof t?jt(e,t):void 0;function Mi(t,e,i,n,s){for(const r of e){const e=Ci(i,r);if(e){t.add(e);const r=Di(e._fallback,i,s);if(Ut(r)&&r!==i&&r!==n)return r}else if(!1===e&&Ut(n)&&i!==n)return null}return!1}function ki(t,e,i,n){const s=e._rootScopes,r=Di(e._fallback,i,n),o=[...t,...s],a=new Set;a.add(n);let l=Ti(a,o,i,r||i,n);return null!==l&&((!Ut(r)||r===i||(l=Ti(a,o,r,l,n),null!==l))&&xi(Array.from(a),[""],s,r,(()=>function(t,e,i){const n=t._getTarget();e in n||(n[e]={});const s=n[e];if(Dt(s)&&Ct(i))return i;return s||{}}(e,i,n))))}function Ti(t,e,i,n,s){for(;i;)i=Mi(t,e,i,n,s);return i}function Ri(t,e){for(const i of e){if(!i)continue;const e=i[t];if(Ut(e))return e}}function Oi(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const i of t)for(const t of Object.keys(i).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function Pi(t,e,i,n){const{iScale:s}=t,{key:r="r"}=this._parsing,o=new Array(n);let a,l,c,d;for(a=0,l=n;a<l;++a)c=a+i,d=e[c],o[a]={r:s.parse(jt(d,r),c)};return o}const Ni=Number.EPSILON||1e-14,Ii=(t,e)=>e<t.length&&!t[e].skip&&t[e],Li=t=>"x"===t?"y":"x";function zi(t,e,i,n){const s=t.skip?e:t,r=e,o=i.skip?e:i,a=he(r,s),l=he(o,r);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=n*c,u=n*d;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+u*(o.x-s.x),y:r.y+u*(o.y-s.y)}}}function Hi(t,e="x"){const i=Li(e),n=t.length,s=Array(n).fill(0),r=Array(n);let o,a,l,c=Ii(t,0);for(o=0;o<n;++o)if(a=l,l=c,c=Ii(t,o+1),l){if(c){const t=c[e]-l[e];s[o]=0!==t?(c[i]-l[i])/t:0}r[o]=a?c?ie(s[o-1])!==ie(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}!function(t,e,i){const n=t.length;let s,r,o,a,l,c=Ii(t,0);for(let d=0;d<n-1;++d)l=c,c=Ii(t,d+1),l&&c&&(ne(e[d],0,Ni)?i[d]=i[d+1]=0:(s=i[d]/e[d],r=i[d+1]/e[d],a=Math.pow(s,2)+Math.pow(r,2),a<=9||(o=3/Math.sqrt(a),i[d]=s*o*e[d],i[d+1]=r*o*e[d])))}(t,s,r),function(t,e,i="x"){const n=Li(i),s=t.length;let r,o,a,l=Ii(t,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Ii(t,c+1),!a)continue;const s=a[i],d=a[n];o&&(r=(s-o[i])/3,a[`cp1${i}`]=s-r,a[`cp1${n}`]=d-r*e[c]),l&&(r=(l[i]-s)/3,a[`cp2${i}`]=s+r,a[`cp2${n}`]=d+r*e[c])}}(t,r,e)}function Fi(t,e,i){return Math.max(Math.min(t,i),e)}function Vi(t,e,i,n,s){let r,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)Hi(t,s);else{let i=n?t[t.length-1]:t[0];for(r=0,o=t.length;r<o;++r)a=t[r],l=zi(i,a,t[Math.min(r+1,o-(n?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,i=a}e.capBezierPoints&&function(t,e){let i,n,s,r,o,a=ti(t[0],e);for(i=0,n=t.length;i<n;++i)o=r,r=a,a=i<n-1&&ti(t[i+1],e),r&&(s=t[i],o&&(s.cp1x=Fi(s.cp1x,e.left,e.right),s.cp1y=Fi(s.cp1y,e.top,e.bottom)),a&&(s.cp2x=Fi(s.cp2x,e.left,e.right),s.cp2y=Fi(s.cp2y,e.top,e.bottom)))}(t,i)}function Bi(){return"undefined"!=typeof window&&"undefined"!=typeof document}function ji(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function Wi(t,e,i){let n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}const Ui=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const $i=["top","right","bottom","left"];function Yi(t,e,i){const n={};i=i?"-"+i:"";for(let s=0;s<4;s++){const r=$i[s];n[r]=parseFloat(t[e+"-"+r+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Gi=(t,e,i)=>(t>0||e>0)&&(!i||!i.shadowRoot);function qi(t,e){if("native"in t)return t;const{canvas:i,currentDevicePixelRatio:n}=e,s=Ui(i),r="border-box"===s.boxSizing,o=Yi(s,"padding"),a=Yi(s,"border","width"),{x:l,y:c,box:d}=function(t,e){const i=t.touches,n=i&&i.length?i[0]:t,{offsetX:s,offsetY:r}=n;let o,a,l=!1;if(Gi(s,r,t.target))o=s,a=r;else{const t=e.getBoundingClientRect();o=n.clientX-t.left,a=n.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,i),h=o.left+(d&&a.left),u=o.top+(d&&a.top);let{width:f,height:p}=e;return r&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*i.width/n),y:Math.round((c-u)/p*i.height/n)}}const Qi=t=>Math.round(10*t)/10;function Zi(t,e,i,n){const s=Ui(t),r=Yi(s,"margin"),o=Wi(s.maxWidth,t,"clientWidth")||Zt,a=Wi(s.maxHeight,t,"clientHeight")||Zt,l=function(t,e,i){let n,s;if(void 0===e||void 0===i){const r=ji(t);if(r){const t=r.getBoundingClientRect(),o=Ui(r),a=Yi(o,"border","width"),l=Yi(o,"padding");e=t.width-l.width-a.width,i=t.height-l.height-a.height,n=Wi(o.maxWidth,r,"clientWidth"),s=Wi(o.maxHeight,r,"clientHeight")}else e=t.clientWidth,i=t.clientHeight}return{width:e,height:i,maxWidth:n||Zt,maxHeight:s||Zt}}(t,e,i);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const t=Yi(s,"border","width"),e=Yi(s,"padding");c-=e.width+t.width,d-=e.height+t.height}c=Math.max(0,c-r.width),d=Math.max(0,n?c/n:d-r.height),c=Qi(Math.min(c,o,l.maxWidth)),d=Qi(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Qi(c/2));return(void 0!==e||void 0!==i)&&n&&l.height&&d>l.height&&(d=l.height,c=Qi(Math.floor(d*n))),{width:c,height:d}}function Xi(t,e,i){const n=e||1,s=Math.floor(t.height*n),r=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==n||o.height!==s||o.width!==r)&&(t.currentDevicePixelRatio=n,o.height=s,o.width=r,t.ctx.setTransform(n,0,0,n,0,0),!0)}const Ji=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(fv){}return t}();function Ki(t,e){const i=function(t,e){return Ui(t).getPropertyValue(e)}(t,e),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function tn(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function en(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:"middle"===n?i<.5?t.y:e.y:"after"===n?i<1?t.y:e.y:i>0?e.y:t.y}}function nn(t,e,i,n){const s={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=tn(t,s,i),a=tn(s,r,i),l=tn(r,e,i),c=tn(o,a,i),d=tn(a,l,i);return tn(c,d,i)}const sn=function(t,e){return{x:i=>t+t+e-i,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}},rn=function(){return{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}};function on(t,e,i){return t?sn(e,i):rn()}function an(t,e){let i,n;"ltr"!==e&&"rtl"!==e||(i=t.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function ln(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function cn(t){return"angle"===t?{between:pe,compare:ue,normalize:fe}:{between:me,compare:(t,e)=>t-e,normalize:t=>t}}function dn({start:t,end:e,count:i,loop:n,style:s}){return{start:t%i,end:e%i,loop:n&&(e-t+1)%i==0,style:s}}function hn(t,e,i){if(!i)return[t];const{property:n,start:s,end:r}=i,o=e.length,{compare:a,between:l,normalize:c}=cn(n),{start:d,end:h,loop:u,style:f}=function(t,e,i){const{property:n,start:s,end:r}=i,{between:o,normalize:a}=cn(n),l=e.length;let c,d,{start:h,end:u,loop:f}=t;if(f){for(h+=l,u+=l,c=0,d=l;c<d&&o(a(e[h%l][n]),s,r);++c)h--,u--;h%=l,u%=l}return u<h&&(u+=l),{start:h,end:u,loop:f,style:t.style}}(t,e,i),p=[];let g,m,v,b=!1,y=null;const x=()=>b||l(s,v,g)&&0!==a(s,v),w=()=>!b||0===a(r,g)||l(r,v,g);for(let _=d,E=d;_<=h;++_)m=e[_%o],m.skip||(g=c(m[n]),g!==v&&(b=l(g,s,r),null===y&&x()&&(y=0===a(g,s)?_:E),null!==y&&w()&&(p.push(dn({start:y,end:_,loop:u,count:o,style:f})),y=null),E=_,v=g));return null!==y&&p.push(dn({start:y,end:h,loop:u,count:o,style:f})),p}function un(t,e){const i=[],n=t.segments;for(let s=0;s<n.length;s++){const r=hn(n[s],t.points,e);r.length&&i.push(...r)}return i}function fn(t,e,i,n){return n&&n.setContext&&i?function(t,e,i,n){const s=t._chart.getContext(),r=pn(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=i.length,c=[];let d=r,h=e[0].start,u=h;function f(t,e,n,s){const r=a?-1:1;if(t!==e){for(t+=l;i[t%l].skip;)t-=r;for(;i[e%l].skip;)e+=r;t%l!=e%l&&(c.push({start:t%l,end:e%l,loop:n,style:s}),d=s,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=i[h%l];for(u=h+1;u<=p.end;u++){const r=i[u%l];t=pn(n.setContext(yi(s,{type:"segment",p0:e,p1:r,p0DataIndex:(u-1)%l,p1DataIndex:u%l,datasetIndex:o}))),gn(t,d)&&f(h,u-1,p.loop,d),e=r,d=t}h<u-1&&f(h,u-1,p.loop,d)}return c}(t,e,i,n):e}function pn(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function gn(t,e){return e&&JSON.stringify(t)!==JSON.stringify(e)}
/*!
 * Chart.js v4.2.1
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class mn{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,n){const s=e.listeners[n],r=e.duration;s.forEach((n=>n({chart:t,initial:e.initial,numSteps:r,currentStep:Math.min(i-e.start,r)})))}_refresh(){this._request||(this._running=!0,this._request=Ee.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(t=Date.now()){let e=0;this._charts.forEach(((i,n)=>{if(!i.running||!i.items.length)return;const s=i.items;let r,o=s.length-1,a=!1;for(;o>=0;--o)r=s[o],r._active?(r._total>i.duration&&(i.duration=r._total),r.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(n.draw(),this._notify(n,i,t,"progress")),s.length||(i.running=!1,this._notify(n,i,t,"complete"),i.initial=!1),e+=s.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let n=i.length-1;for(;n>=0;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var vn=new mn;const bn="transparent",yn={boolean:(t,e,i)=>i>.5?e:t,color(t,e,i){const n=Ne(t||bn),s=n.valid&&Ne(e||bn);return s&&s.valid?s.mix(n,i).hexString():e},number:(t,e,i)=>t+(e-t)*i};class xn{constructor(t,e,i,n){const s=e[i];n=bi([t.to,n,s,t.from]);const r=bi([t.from,s,n]);this._active=!0,this._fn=t.fn||yn[t.type||typeof r],this._easing=Oe[t.easing]||Oe.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=r,this._to=n,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const n=this._target[this._prop],s=i-this._start,r=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=bi([t.to,e,n,t.from]),this._from=bi([t.from,n,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,n=this._prop,s=this._from,r=this._loop,o=this._to;let a;if(this._active=s!==o&&(r||e<i),!this._active)return this._target[n]=o,void this._notify(!0);e<0?this._target[n]=s:(a=e/i%2,a=r&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[n]=this._fn(s,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,i)=>{t.push({res:e,rej:i})}))}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let n=0;n<i.length;n++)i[n][e]()}}class wn{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ct(t))return;const e=Object.keys(Ge.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach((n=>{const s=t[n];if(!Ct(s))return;const r={};for(const t of e)r[t]=s[t];(Dt(s.properties)&&s.properties||[n]).forEach((t=>{t!==n&&i.has(t)||i.set(t,r)}))}))}_animateOptions(t,e){const i=e.options,n=function(t,e){if(!e)return;let i=t.options;if(!i)return void(t.options=e);i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}}));return i}(t,i);if(!n)return[];const s=this._createAnimations(n,i);return i.$shared&&function(t,e){const i=[],n=Object.keys(e);for(let s=0;s<n.length;s++){const e=t[n[s]];e&&e.active()&&i.push(e.wait())}return Promise.all(i)}(t.options.$animations,i).then((()=>{t.options=i}),(()=>{})),s}_createAnimations(t,e){const i=this._properties,n=[],s=t.$animations||(t.$animations={}),r=Object.keys(e),o=Date.now();let a;for(a=r.length-1;a>=0;--a){const l=r[a];if("$"===l.charAt(0))continue;if("options"===l){n.push(...this._animateOptions(t,e));continue}const c=e[l];let d=s[l];const h=i.get(l);if(d){if(h&&d.active()){d.update(h,c,o);continue}d.cancel()}h&&h.duration?(s[l]=d=new xn(h,t,l,c),n.push(d)):t[l]=c}return n}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const i=this._createAnimations(t,e);return i.length?(vn.add(this._chart,i),!0):void 0}}function _n(t,e){const i=t&&t.options||{},n=i.reverse,s=void 0===i.min?e:0,r=void 0===i.max?e:0;return{start:n?r:s,end:n?s:r}}function En(t,e){const i=[],n=t._getSortedDatasetMetas(e);let s,r;for(s=0,r=n.length;s<r;++s)i.push(n[s].index);return i}function Sn(t,e,i,n={}){const s=t.keys,r="single"===n.mode;let o,a,l,c;if(null!==e){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===i){if(n.all)continue;break}c=t.values[l],Mt(c)&&(r||0===e||ie(e)===ie(c))&&(e+=c)}return e}}function An(t,e){const i=t&&t.options.stacked;return i||void 0===i&&void 0!==e.stack}function Dn(t,e,i){const n=t[e]||(t[e]={});return n[i]||(n[i]={})}function Cn(t,e,i,n){for(const s of e.getMatchingVisibleMetas(n).reverse()){const e=t[s.index];if(i&&e>0||!i&&e<0)return s.index}return null}function Mn(t,e){const{chart:i,_cachedMeta:n}=t,s=i._stacks||(i._stacks={}),{iScale:r,vScale:o,index:a}=n,l=r.axis,c=o.axis,d=function(t,e,i){return`${t.id}.${e.id}.${i.stack||i.type}`}(r,o,n),h=e.length;let u;for(let f=0;f<h;++f){const t=e[f],{[l]:i,[c]:r}=t;u=(t._stacks||(t._stacks={}))[c]=Dn(s,d,i),u[a]=r,u._top=Cn(u,o,!0,n.type),u._bottom=Cn(u,o,!1,n.type);(u._visualValues||(u._visualValues={}))[a]=r}}function kn(t,e){const i=t.scales;return Object.keys(i).filter((t=>i[t].axis===e)).shift()}function Tn(t,e){const i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[n]||void 0===e[n][i])return;delete e[n][i],void 0!==e[n]._visualValues&&void 0!==e[n]._visualValues[i]&&delete e[n]._visualValues[i]}}}const Rn=t=>"reset"===t||"none"===t,On=(t,e)=>e?t:Object.assign({},t);class Pn{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=An(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Tn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),n=(t,e,i,n)=>"x"===t?e:"r"===t?n:i,s=e.xAxisID=Tt(i.xAxisID,kn(t,"x")),r=e.yAxisID=Tt(i.yAxisID,kn(t,"y")),o=e.rAxisID=Tt(i.rAxisID,kn(t,"r")),a=e.indexAxis,l=e.iAxisID=n(a,s,r,o),c=e.vAxisID=n(a,r,s,o);e.xScale=this.getScaleForId(s),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&we(this._data,this),t._stacked&&Tn(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Ct(e))this._data=function(t){const e=Object.keys(t),i=new Array(e.length);let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n],i[n]={x:r,y:t[r]};return i}(e);else if(i!==e){if(i){we(i,this);const t=this._cachedMeta;Tn(t),t._parsed=[]}e&&Object.isExtensible(e)&&(s=this,(n=e)._chartjs?n._chartjs.listeners.push(s):(Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),xe.forEach((t=>{const e="_onData"+Wt(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...t){const s=i.apply(this,t);return n._chartjs.listeners.forEach((i=>{"function"==typeof i[e]&&i[e](...t)})),s}})})))),this._syncList=[],this._data=e}var n,s}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let n=!1;this._dataCheck();const s=e._stacked;e._stacked=An(e.vScale,e),e.stack!==i.stack&&(n=!0,Tn(e),e.stack=i.stack),this._resyncElements(t),(n||s!==e._stacked)&&Mn(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:n}=this,{iScale:s,_stacked:r}=i,o=s.axis;let a,l,c,d=0===t&&e===n.length||i._sorted,h=t>0&&i._parsed[t-1];if(!1===this._parsing)i._parsed=n,i._sorted=!0,c=n;else{c=Dt(n[t])?this.parseArrayData(i,n,t,e):Ct(n[t])?this.parseObjectData(i,n,t,e):this.parsePrimitiveData(i,n,t,e);const s=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)i._parsed[a+t]=l=c[a],d&&(s()&&(d=!1),h=l);i._sorted=d}r&&Mn(this,c)}parsePrimitiveData(t,e,i,n){const{iScale:s,vScale:r}=t,o=s.axis,a=r.axis,l=s.getLabels(),c=s===r,d=new Array(n);let h,u,f;for(h=0,u=n;h<u;++h)f=h+i,d[h]={[o]:c||s.parse(l[f],f),[a]:r.parse(e[f],f)};return d}parseArrayData(t,e,i,n){const{xScale:s,yScale:r}=t,o=new Array(n);let a,l,c,d;for(a=0,l=n;a<l;++a)c=a+i,d=e[c],o[a]={x:s.parse(d[0],c),y:r.parse(d[1],c)};return o}parseObjectData(t,e,i,n){const{xScale:s,yScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(n);let c,d,h,u;for(c=0,d=n;c<d;++c)h=c+i,u=e[h],l[c]={x:s.parse(jt(u,o),h),y:r.parse(jt(u,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const n=this.chart,s=this._cachedMeta,r=e[t.axis];return Sn({keys:En(n,!0),values:e._stacks[t.axis]._visualValues},r,s.index,{mode:i})}updateRangeFromParsed(t,e,i,n){const s=i[e.axis];let r=null===s?NaN:s;const o=n&&i._stacks[e.axis];n&&o&&(n.values=o,r=Sn(n,s,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,e){const i=this._cachedMeta,n=i._parsed,s=i._sorted&&t===i.iScale,r=n.length,o=this._getOtherScale(t),a=((t,e,i)=>t&&!e.hidden&&e._stacked&&{keys:En(i,!0),values:null})(e,i,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(t){const{min:e,max:i,minDefined:n,maxDefined:s}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}(o);let h,u;function f(){u=n[h];const e=u[o.axis];return!Mt(u[t.axis])||c>e||d<e}for(h=0;h<r&&(f()||(this.updateRangeFromParsed(l,t,u,a),!s));++h);if(s)for(h=r-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,u,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let n,s,r;for(n=0,s=e.length;n<s;++n)r=e[n][t.axis],Mt(r)&&i.push(r);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,n=e.vScale,s=this.getParsed(t);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:n?""+n.getLabelForValue(s[n.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,i,n,s;return Ct(t)?(e=t.top,i=t.right,n=t.bottom,s=t.left):e=i=n=s=t,{top:e,right:i,bottom:n,left:s,disabled:!1===t}}(Tt(this.options.clip,function(t,e,i){if(!1===i)return!1;const n=_n(t,i),s=_n(e,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,n=i.data||[],s=e.chartArea,r=[],o=this._drawStart||0,a=this._drawCount||n.length-o,l=this.options.drawActiveElementsOnTop;let c;for(i.dataset&&i.dataset.draw(t,s,o,a),c=o;c<o+a;++c){const e=n[c];e.hidden||(e.active&&l?r.push(e):e.draw(t,s))}for(c=0;c<r.length;++c)r[c].draw(t,s)}getStyle(t,e){const i=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const n=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];s=e.$context||(e.$context=function(t,e,i){return yi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:i,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),s.parsed=this.getParsed(t),s.raw=n.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=function(t,e){return yi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=n,s.index=s.datasetIndex=this.index;return s.active=!!e,s.mode=i,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const n="active"===e,s=this._cachedDataOpts,r=t+"-"+e,o=s[r],a=this.enableOptionSharing&&Ut(i);if(o)return On(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),d=n?[`${t}Hover`,"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),u=Object.keys(Ge.elements[t]),f=l.resolveNamedOptions(h,u,(()=>this.getContext(i,n,e)),d);return f.$shared&&(f.$shared=a,s[r]=Object.freeze(On(f,a))),f}_resolveAnimations(t,e,i){const n=this.chart,s=this._cachedDataOpts,r=`animation-${e}`,o=s[r];if(o)return o;let a;if(!1!==n.options.animation){const n=this.chart.config,s=n.datasetAnimationScopeKeys(this._type,e),r=n.getOptionScopes(this.getDataset(),s);a=n.createResolver(r,this.getContext(t,i,e))}const l=new wn(n,a&&a.animations);return a&&a._cacheable&&(s[r]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Rn(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,s=this.getSharedOptions(i),r=this.includeOptions(e,s)||s!==n;return this.updateSharedOptions(s,e,i),{sharedOptions:s,includeOptions:r}}updateElement(t,e,i,n){Rn(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}updateSharedOptions(t,e,i){t&&!Rn(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,n){t.active=n;const s=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(s)||s})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const n=i.length,s=e.length,r=Math.min(s,n);r&&this.parse(0,r),s>n?this._insertElements(n,s-n,t):s<n&&this._removeElements(s,n-s)}_insertElements(t,e,i=!0){const n=this._cachedMeta,s=n.data,r=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=r;o--)t[o]=t[o-e]};for(a(s),o=t;o<r;++o)s[o]=new this.dataElementType;this._parsing&&a(n._parsed),this.parse(t,e),i&&this.updateElements(s,t,e,"reset")}updateElements(t,e,i,n){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const n=i._parsed.splice(t,e);i._stacked&&Tn(i,n)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,n]=t;this[e](i,n)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Nn(t){const e=t.iScale,i=function(t,e){if(!t._cache.$bar){const i=t.getMatchingVisibleMetas(e);let n=[];for(let e=0,s=i.length;e<s;e++)n=n.concat(i[e].controller.getAllParsedValues(t));t._cache.$bar=_e(n.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let n,s,r,o,a=e._length;const l=()=>{32767!==r&&-32768!==r&&(Ut(o)&&(a=Math.min(a,Math.abs(r-o)||a)),o=r)};for(n=0,s=i.length;n<s;++n)r=e.getPixelForValue(i[n]),l();for(o=void 0,n=0,s=e.ticks.length;n<s;++n)r=e.getPixelForTick(n),l();return a}function In(t,e,i,n){return Dt(t)?function(t,e,i,n){const s=i.parse(t[0],n),r=i.parse(t[1],n),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[i.axis]=c,e._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}(t,e,i,n):e[i.axis]=i.parse(t,n),e}function Ln(t,e,i,n){const s=t.iScale,r=t.vScale,o=s.getLabels(),a=s===r,l=[];let c,d,h,u;for(c=i,d=i+n;c<d;++c)u=e[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(In(u,h,r,c));return l}function zn(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function Hn(t,e,i,n){let s=e.borderSkipped;const r={};if(!s)return void(t.borderSkipped=r);if(!0===s)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:d}=function(t){let e,i,n,s,r;return t.horizontal?(e=t.base>t.x,i="left",n="right"):(e=t.base<t.y,i="bottom",n="top"),e?(s="end",r="start"):(s="start",r="end"),{start:i,end:n,reverse:e,top:s,bottom:r}}(t);"middle"===s&&i&&(t.enableBorderRadius=!0,(i._top||0)===n?s=c:(i._bottom||0)===n?s=d:(r[Fn(d,o,a,l)]=!0,s=c)),r[Fn(s,o,a,l)]=!0,t.borderSkipped=r}function Fn(t,e,i,n){var s,r,o;return n?(o=i,t=Vn(t=(s=t)===(r=e)?o:s===o?r:s,i,e)):t=Vn(t,e,i),t}function Vn(t,e,i){return"start"===t?e:"end"===t?i:t}function Bn(t,{inflateAmount:e},i){t.inflateAmount="auto"===e?1===i?.33:0:e}d(Pn,"defaults",{}),d(Pn,"datasetElementType",null),d(Pn,"dataElementType",null);class jn extends Pn{parsePrimitiveData(t,e,i,n){return Ln(t,e,i,n)}parseArrayData(t,e,i,n){return Ln(t,e,i,n)}parseObjectData(t,e,i,n){const{iScale:s,vScale:r}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===s.axis?o:a,c="x"===r.axis?o:a,d=[];let h,u,f,p;for(h=i,u=i+n;h<u;++h)p=e[h],f={},f[s.axis]=s.parse(jt(p,l),h),d.push(In(jt(p,c),f,r,h));return d}updateRangeFromParsed(t,e,i,n){super.updateRangeFromParsed(t,e,i,n);const s=i._custom;s&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:n}=e,s=this.getParsed(t),r=s._custom,o=zn(r)?"["+r.start+", "+r.end+"]":""+n.getLabelForValue(s[n.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,n){const s="reset"===n,{index:r,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(e,n);for(let u=e;u<e+i;u++){const e=this.getParsed(u),i=s||At(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(u),f=this._calculateBarIndexPixels(u,c),p=(e._stacks||{})[o.axis],g={horizontal:l,base:i.base,enableBorderRadius:!p||zn(e._custom)||r===p._top||r===p._bottom,x:l?i.head:f.center,y:l?f.center:i.head,height:l?f.size:Math.abs(i.size),width:l?Math.abs(i.size):f.size};h&&(g.options=d||this.resolveDataElementOptions(u,t[u].active?"active":n));const m=g.options||t[u].options;Hn(g,m,p,r),Bn(g,m,c.ratio),this.updateElement(t[u],u,g,n)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,n=i.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),s=i.options.stacked,r=[],o=t=>{const i=t.controller.getParsed(e),n=i&&i[t.vScale.axis];if(At(n)||isNaN(n))return!0};for(const a of n)if((void 0===e||!o(a))&&((!1===s||-1===r.indexOf(a.stack)||void 0===s&&void 0===a.stack)&&r.push(a.stack),a.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const n=this._getStacks(t,i),s=void 0!==e?n.indexOf(e):-1;return-1===s?n.length-1:s}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,n=[];let s,r;for(s=0,r=e.data.length;s<r;++s)n.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const o=t.barThickness;return{min:o||Nn(e),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:n},options:{base:s,minBarLength:r}}=this,o=s||0,a=this.getParsed(t),l=a._custom,c=zn(l);let d,h,u=a[e.axis],f=0,p=i?this.applyStack(e,a,i):u;p!==u&&(f=p-u,p=u),c&&(u=l.barStart,p=l.barEnd-l.barStart,0!==u&&ie(u)!==ie(l.barEnd)&&(f=0),f+=u);const g=At(s)||c?f:s;let m=e.getPixelForValue(g);if(d=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=d-m,Math.abs(h)<r){h=function(t,e,i){return 0!==t?ie(t):(e.isHorizontal()?1:-1)*(e.min>=i?1:-1)}(h,e,o)*r,u===o&&(m-=h/2);const t=e.getPixelForDecimal(0),s=e.getPixelForDecimal(1),l=Math.min(t,s),f=Math.max(t,s);m=Math.max(Math.min(m,f),l),d=m+h,i&&!c&&(a._stacks[e.axis]._visualValues[n]=e.getValueForPixel(d)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=ie(h)*e.getLineWidthForValue(o)/2;m+=t,h-=t}return{size:h,base:m,head:d,center:d+h/2}}_calculateBarIndexPixels(t,e){const i=e.scale,n=this.options,s=n.skipNull,r=Tt(n.maxBarThickness,1/0);let o,a;if(e.grouped){const i=s?this._getStackCount(t):e.stackCount,l="flex"===n.barThickness?function(t,e,i,n){const s=e.pixels,r=s[t];let o=t>0?s[t-1]:null,a=t<s.length-1?s[t+1]:null;const l=i.categoryPercentage;null===o&&(o=r-(null===a?e.end-e.start:a-r)),null===a&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:i.barPercentage,start:c}}(t,e,n,i):function(t,e,i,n){const s=i.barThickness;let r,o;return At(s)?(r=e.min*i.categoryPercentage,o=i.barPercentage):(r=s*n,o=1),{chunk:r/n,ratio:o,start:e.pixels[t]-r/2}}(t,e,n,i),c=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(r,l.chunk*l.ratio)}else o=i.getPixelForValue(this.getParsed(t)[i.axis],t),a=Math.min(r,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length;let s=0;for(;s<n;++s)null!==this.getParsed(s)[e.axis]&&i[s].draw(this._ctx)}}d(jn,"id","bar"),d(jn,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),d(jn,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Wn extends Pn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,n){const s=super.parsePrimitiveData(t,e,i,n);for(let r=0;r<s.length;r++)s[r]._custom=this.resolveDataElementOptions(r+i).radius;return s}parseArrayData(t,e,i,n){const s=super.parseArrayData(t,e,i,n);for(let r=0;r<s.length;r++){const t=e[i+r];s[r]._custom=Tt(t[2],this.resolveDataElementOptions(r+i).radius)}return s}parseObjectData(t,e,i,n){const s=super.parseObjectData(t,e,i,n);for(let r=0;r<s.length;r++){const t=e[i+r];s[r]._custom=Tt(t&&t.r&&+t.r,this.resolveDataElementOptions(r+i).radius)}return s}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=e,r=this.getParsed(t),o=n.getLabelForValue(r.x),a=s.getLabelForValue(r.y),l=r._custom;return{label:i[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,n){const s="reset"===n,{iScale:r,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,n),c=r.axis,d=o.axis;for(let h=e;h<e+i;h++){const e=t[h],i=!s&&this.getParsed(h),u={},f=u[c]=s?r.getPixelForDecimal(.5):r.getPixelForValue(i[c]),p=u[d]=s?o.getBasePixel():o.getPixelForValue(i[d]);u.skip=isNaN(f)||isNaN(p),l&&(u.options=a||this.resolveDataElementOptions(h,e.active?"active":n),s&&(u.options.radius=0)),this.updateElement(e,h,u,n)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let n=super.resolveDataElementOptions(t,e);n.$shared&&(n=Object.assign({},n,{$shared:!1}));const s=n.radius;return"active"!==e&&(n.radius=0),n.radius+=Tt(i&&i._custom,s),n}}d(Wn,"id","bubble"),d(Wn,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),d(Wn,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class Un extends Pn{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{let s,r,o=t=>+i[t];if(Ct(i[t])){const{key:t="value"}=this._parsing;o=e=>+jt(i[e],t)}for(s=t,r=t+e;s<r;++s)n._parsed[s]=o(s)}}_getRotation(){return ae(this.options.rotation-90)}_getCircumference(){return ae(this.options.circumference)}_getRotationExtents(){let t=qt,e=-qt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const n=this.chart.getDatasetMeta(i).controller,s=n._getRotation(),r=n._getCircumference();t=Math.min(t,s),e=Math.max(e,s+r)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,n=this._cachedMeta,s=n.data,r=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(i.width,i.height)-r)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"==typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,i){let n=1,s=1,r=0,o=0;if(e<qt){const a=t,l=a+e,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),u=Math.sin(l),f=(t,e,n)=>pe(t,a,l,!0)?1:Math.max(e,e*i,n,n*i),p=(t,e,n)=>pe(t,a,l,!0)?-1:Math.min(e,e*i,n,n*i),g=f(0,c,h),m=f(Jt,d,u),v=p(Gt,c,h),b=p(Gt+Jt,d,u);n=(g-v)/2,s=(m-b)/2,r=-(g+v)/2,o=-(m+b)/2}return{ratioX:n,ratioY:s,offsetX:r,offsetY:o}}(u,h,a),v=(i.width-r)/f,b=(i.height-r)/p,y=Math.max(Math.min(v,b)/2,0),x=Rt(this.options.radius,y),w=(x-Math.max(x*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*x,this.offsetY=m*x,n.total=this.calculateTotal(),this.outerRadius=x-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(s,0,s.length,t)}_circumference(t,e){const i=this.options,n=this._cachedMeta,s=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*s/qt)}updateElements(t,e,i,n){const s="reset"===n,r=this.chart,o=r.chartArea,a=r.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,d=s&&a.animateScale,h=d?0:this.innerRadius,u=d?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,n);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,s);for(g=e;g<e+i;++g){const e=this._circumference(g,s),i=t[g],r={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:u,innerRadius:h};p&&(r.options=f||this.resolveDataElementOptions(g,i.active?"active":n)),m+=e,this.updateElement(i,g,r,n)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i,n=0;for(i=0;i<e.length;i++){const s=t._parsed[i];null===s||isNaN(s)||!this.chart.getDataVisibility(i)||e[i].hidden||(n+=Math.abs(s))}return n}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?qt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=Fe(e._parsed[t],i.options.locale);return{label:n[t]||"",value:s}}getMaxBorderWidth(t){let e=0;const i=this.chart;let n,s,r,o,a;if(!t)for(n=0,s=i.data.datasets.length;n<s;++n)if(i.isDatasetVisible(n)){r=i.getDatasetMeta(n),t=r.data,o=r.controller;break}if(!t)return 0;for(n=0,s=t.length;n<s;++n)a=o.resolveDataElementOptions(n),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,n=t.length;i<n;++i){const t=this.resolveDataElementOptions(i);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Tt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}d(Un,"id","doughnut"),d(Un,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),d(Un,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t}),d(Un,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,s)=>{const r=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class $n extends Pn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:n=[],_dataset:s}=e,r=this.chart._animationsDisabled;let{start:o,count:a}=Ce(e,n,r);this._drawStart=o,this._drawCount=a,Me(e)&&(o=0,a=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:l},t),this.updateElements(n,o,a,t)}updateElements(t,e,i,n){const s="reset"===n,{iScale:r,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(e,n),h=r.axis,u=o.axis,{spanGaps:f,segment:p}=this.options,g=re(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||s||"none"===n,v=e+i,b=t.length;let y=e>0&&this.getParsed(e-1);for(let x=0;x<b;++x){const i=t[x],f=m?i:{};if(x<e||x>=v){f.skip=!0;continue}const b=this.getParsed(x),w=At(b[u]),_=f[h]=r.getPixelForValue(b[h],x),E=f[u]=s||w?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,b,a):b[u],x);f.skip=isNaN(_)||isNaN(E)||w,f.stop=x>0&&Math.abs(b[h]-y[h])>g,p&&(f.parsed=b,f.raw=l.data[x]),d&&(f.options=c||this.resolveDataElementOptions(x,i.active?"active":n)),m||this.updateElement(i,x,f,n),y=b}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,n=t.data||[];if(!n.length)return i;const s=n[0].size(this.resolveDataElementOptions(0)),r=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,s,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}d($n,"id","line"),d($n,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),d($n,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Yn extends Pn{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,n=i.data.labels||[],s=Fe(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:s}}parseObjectData(t,e,i,n){return Pi.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,i)=>{const n=this.getParsed(i).r;!isNaN(n)&&this.chart.getDataVisibility(i)&&(n<e.min&&(e.min=n),n>e.max&&(e.max=n))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,n=Math.min(e.right-e.left,e.bottom-e.top),s=Math.max(n/2,0),r=(s-Math.max(i.cutoutPercentage?s/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=s-r*this.index,this.innerRadius=this.outerRadius-r}updateElements(t,e,i,n){const s="reset"===n,r=this.chart,o=r.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,d=a.getIndexAngle(0)-.5*Gt;let h,u=d;const f=360/this.countVisibleElements();for(h=0;h<e;++h)u+=this._computeAngle(h,n,f);for(h=e;h<e+i;h++){const e=t[h];let i=u,p=u+this._computeAngle(h,n,f),g=r.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;u=p,s&&(o.animateScale&&(g=0),o.animateRotate&&(i=p=d));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:i,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":n)};this.updateElement(e,h,m,n)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&e++})),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?ae(this.resolveDataElementOptions(t,e).angle||i):0}}d(Yn,"id","polarArea"),d(Yn,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),d(Yn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:n}}=t.legend.options;return e.labels.map(((e,s)=>{const r=t.getDatasetMeta(0).controller.getStyle(s);return{text:e,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,fontColor:n,lineWidth:r.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(s),index:s}}))}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Gn extends Un{}d(Gn,"id","pie"),d(Gn,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class qn extends Pn{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,n){return Pi.bind(this)(t,e,i,n)}update(t){const e=this._cachedMeta,i=e.dataset,n=e.data||[],s=e.iScale.getLabels();if(i.points=n,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const r={_loop:!0,_fullLoop:s.length===n.length,options:e};this.updateElement(i,void 0,r,t)}this.updateElements(n,0,n.length,t)}updateElements(t,e,i,n){const s=this._cachedMeta.rScale,r="reset"===n;for(let o=e;o<e+i;o++){const e=t[o],i=this.resolveDataElementOptions(o,e.active?"active":n),a=s.getPointPositionForValue(o,this.getParsed(o).r),l=r?s.xCenter:a.x,c=r?s.yCenter:a.y,d={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:i};this.updateElement(e,o,d,n)}}}d(qn,"id","radar"),d(qn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),d(qn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Qn extends Pn{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:n,yScale:s}=e,r=this.getParsed(t),o=n.getLabelForValue(r.x),a=s.getLabelForValue(r.y);return{label:i[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,n=this.chart._animationsDisabled;let{start:s,count:r}=Ce(e,i,n);if(this._drawStart=s,this._drawCount=r,Me(e)&&(s=0,r=i.length),this.options.showLine){const{dataset:s,_dataset:r}=e;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=i;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(s,void 0,{animated:!n,options:o},t)}this.updateElements(i,s,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,n){const s="reset"===n,{iScale:r,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,n),d=this.getSharedOptions(c),h=this.includeOptions(n,d),u=r.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=re(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||"none"===n;let b=e>0&&this.getParsed(e-1);for(let y=e;y<e+i;++y){const e=t[y],i=this.getParsed(y),c=v?e:{},p=At(i[f]),x=c[u]=r.getPixelForValue(i[u],y),w=c[f]=s||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,i,a):i[f],y);c.skip=isNaN(x)||isNaN(w)||p,c.stop=y>0&&Math.abs(i[u]-b[u])>m,g&&(c.parsed=i,c.raw=l.data[y]),h&&(c.options=d||this.resolveDataElementOptions(y,e.active?"active":n)),v||this.updateElement(e,y,c,n),b=i}this.updateSharedOptions(d,n,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let i=e.length-1;i>=0;--i)t=Math.max(t,e[i].size(this.resolveDataElementOptions(i))/2);return t>0&&t}const i=t.dataset,n=i.options&&i.options.borderWidth||0;if(!e.length)return n;const s=e[0].size(this.resolveDataElementOptions(0)),r=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(n,s,r)/2}}d(Qn,"id","scatter"),d(Qn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),d(Qn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Zn=Object.freeze({__proto__:null,BarController:jn,BubbleController:Wn,DoughnutController:Un,LineController:$n,PolarAreaController:Yn,PieController:Gn,RadarController:qn,ScatterController:Qn});function Xn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jn{
/**
  * Override default date adapter methods.
  * Accepts type parameter to define options type.
  * @example
  * Chart._adapters._date.override<{myAdapterOption: string}>({
  *   init() {
  *     console.log(this.options.myAdapterOption);
  *   }
  * })
  */
static override(t){Object.assign(Jn.prototype,t)}constructor(t){this.options=t||{}}
// eslint-disable-next-line @typescript-eslint/no-empty-function
init(){}formats(){return Xn()}parse(){return Xn()}format(){return Xn()}add(){return Xn()}diff(){return Xn()}startOf(){return Xn()}endOf(){return Xn()}}var Kn=Jn;function ts(t,e,i,n){const{controller:s,data:r,_sorted:o}=t,a=s._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&r.length){const t=a._reversePixels?ye:be;if(!n)return t(r,e,i);if(s._sharedOptions){const n=r[0],s="function"==typeof n.getRange&&n.getRange(e);if(s){const n=t(r,e,i-s),o=t(r,e,i+s);return{lo:n.lo,hi:o.hi}}}}return{lo:0,hi:r.length-1}}function es(t,e,i,n,s){const r=t.getSortedVisibleDatasetMetas(),o=i[e];for(let a=0,l=r.length;a<l;++a){const{index:t,data:i}=r[a],{lo:l,hi:c}=ts(r[a],e,o,s);for(let e=l;e<=c;++e){const s=i[e];s.skip||n(s,t,e)}}}function is(t,e,i,n,s){const r=[];if(!s&&!t.isPointInArea(e))return r;return es(t,i,e,(function(i,o,a){(s||ti(i,t.chartArea,0))&&i.inRange(e.x,e.y,n)&&r.push({element:i,datasetIndex:o,index:a})}),!0),r}function ns(t,e,i,n,s,r){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),i=-1!==t.indexOf("y");return function(t,n){const s=e?Math.abs(t.x-n.x):0,r=i?Math.abs(t.y-n.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(r,2))}}(i);let l=Number.POSITIVE_INFINITY;return es(t,i,e,(function(i,c,d){const h=i.inRange(e.x,e.y,s);if(n&&!h)return;const u=i.getCenterPoint(s);if(!(!!r||t.isPointInArea(u))&&!h)return;const f=a(e,u);f<l?(o=[{element:i,datasetIndex:c,index:d}],l=f):f===l&&o.push({element:i,datasetIndex:c,index:d})})),o}function ss(t,e,i,n,s,r){return r||t.isPointInArea(e)?"r"!==i||n?ns(t,e,i,n,s,r):function(t,e,i,n){let s=[];return es(t,i,e,(function(t,i,r){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],n),{angle:l}=de(t,{x:e.x,y:e.y});pe(l,o,a)&&s.push({element:t,datasetIndex:i,index:r})})),s}(t,e,i,s):[]}function rs(t,e,i,n,s){const r=[],o="x"===i?"inXRange":"inYRange";let a=!1;return es(t,i,e,((t,n,l)=>{t[o](e[i],s)&&(r.push({element:t,datasetIndex:n,index:l}),a=a||t.inRange(e.x,e.y,s))})),n&&!a?[]:r}var os={evaluateInteractionItems:es,modes:{index(t,e,i,n){const s=qi(e,t),r=i.axis||"x",o=i.includeInvisible||!1,a=i.intersect?is(t,s,r,n,o):ss(t,s,r,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,i,n){const s=qi(e,t),r=i.axis||"xy",o=i.includeInvisible||!1;let a=i.intersect?is(t,s,r,n,o):ss(t,s,r,!1,n,o);if(a.length>0){const e=a[0].datasetIndex,i=t.getDatasetMeta(e).data;a=[];for(let t=0;t<i.length;++t)a.push({element:i[t],datasetIndex:e,index:t})}return a},point:(t,e,i,n)=>is(t,qi(e,t),i.axis||"xy",n,i.includeInvisible||!1),nearest(t,e,i,n){const s=qi(e,t),r=i.axis||"xy",o=i.includeInvisible||!1;return ss(t,s,r,i.intersect,n,o)},x:(t,e,i,n)=>rs(t,qi(e,t),"x",i.intersect,n),y:(t,e,i,n)=>rs(t,qi(e,t),"y",i.intersect,n)}};const as=["left","top","right","bottom"];function ls(t,e){return t.filter((t=>t.pos===e))}function cs(t,e){return t.filter((t=>-1===as.indexOf(t.pos)&&t.box.axis===e))}function ds(t,e){return t.sort(((t,i)=>{const n=e?i:t,s=e?t:i;return n.weight===s.weight?n.index-s.index:n.weight-s.weight}))}function hs(t,e){const i=function(t){const e={};for(const i of t){const{stack:t,pos:n,stackWeight:s}=i;if(!t||!as.includes(n))continue;const r=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=s}return e}(t),{vBoxMaxWidth:n,hBoxMaxHeight:s}=e;let r,o,a;for(r=0,o=t.length;r<o;++r){a=t[r];const{fullSize:o}=a.box,l=i[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*n:o&&e.availableWidth,a.height=s):(a.width=n,a.height=c?c*s:o&&e.availableHeight)}return i}function us(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function fs(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function ps(t,e,i,n){const{pos:s,box:r}=i,o=t.maxPadding;if(!Ct(s)){i.size&&(t[s]-=i.size);const e=n[i.stack]||{size:0,count:1};e.size=Math.max(e.size,i.horizontal?r.height:r.width),i.size=e.size/e.count,t[s]+=i.size}r.getPadding&&fs(o,r.getPadding());const a=Math.max(0,e.outerWidth-us(o,t,"left","right")),l=Math.max(0,e.outerHeight-us(o,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,i.horizontal?{same:c,other:d}:{same:d,other:c}}function gs(t,e){const i=e.maxPadding;function n(t){const n={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{n[t]=Math.max(e[t],i[t])})),n}return n(t?["left","right"]:["top","bottom"])}function ms(t,e,i,n){const s=[];let r,o,a,l,c,d;for(r=0,o=t.length,c=0;r<o;++r){a=t[r],l=a.box,l.update(a.width||e.w,a.height||e.h,gs(a.horizontal,e));const{same:o,other:h}=ps(e,i,a,n);c|=o&&s.length,d=d||h,l.fullSize||s.push(a)}return c&&ms(s,e,i,n)||d}function vs(t,e,i,n,s){t.top=i,t.left=e,t.right=e+n,t.bottom=i+s,t.width=n,t.height=s}function bs(t,e,i,n){const s=i.padding;let{x:r,y:o}=e;for(const a of t){const t=a.box,l=n[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const n=e.w*c,r=l.size||t.height;Ut(l.start)&&(o=l.start),t.fullSize?vs(t,s.left,o,i.outerWidth-s.right-s.left,r):vs(t,e.left+l.placed,o,n,r),l.start=o,l.placed+=n,o=t.bottom}else{const n=e.h*c,o=l.size||t.width;Ut(l.start)&&(r=l.start),t.fullSize?vs(t,r,s.top,o,i.outerHeight-s.bottom-s.top):vs(t,r,e.top+l.placed,o,n),l.start=r,l.placed+=n,r=t.right}}e.x=r,e.y=o}var ys={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update(t,e,i,n){if(!t)return;const s=mi(t.options.layout.padding),r=Math.max(e-s.width,0),o=Math.max(i-s.height,0),a=function(t){const e=function(t){const e=[];let i,n,s,r,o,a;for(i=0,n=(t||[]).length;i<n;++i)s=t[i],({position:r,options:{stack:o,stackWeight:a=1}}=s),e.push({index:i,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return e}(t),i=ds(e.filter((t=>t.box.fullSize)),!0),n=ds(ls(e,"left"),!0),s=ds(ls(e,"right")),r=ds(ls(e,"top"),!0),o=ds(ls(e,"bottom")),a=cs(e,"x"),l=cs(e,"y");return{fullSize:i,leftAndTop:n.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:ls(e,"chartArea"),vertical:n.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;Pt(t.boxes,(t=>{"function"==typeof t.beforeLayout&&t.beforeLayout()}));const d=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:i,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/d,hBoxMaxHeight:o/2}),u=Object.assign({},s);fs(u,mi(n));const f=Object.assign({maxPadding:u,w:r,h:o,x:s.left,y:s.top},s),p=hs(l.concat(c),h);ms(a.fullSize,f,h,p),ms(l,f,h,p),ms(c,f,h,p)&&ms(l,f,h,p),function(t){const e=t.maxPadding;function i(i){const n=Math.max(e[i]-t[i],0);return t[i]+=n,n}t.y+=i("top"),t.x+=i("left"),i("right"),i("bottom")}(f),bs(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,bs(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Pt(a.chartArea,(e=>{const i=e.box;Object.assign(i,t.chartArea),i.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class xs{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}isAttached(t){return!0}updateConfig(t){}}class ws extends xs{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _s="$chartjs",Es={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ss=t=>null===t||""===t;const As=!!Ji&&{passive:!0};function Ds(t,e,i){t.canvas.removeEventListener(e,i,As)}function Cs(t,e){for(const i of t)if(i===e||i.contains(e))return!0}function Ms(t,e,i){const n=t.canvas,s=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||Cs(i.addedNodes,n),e=e&&!Cs(i.removedNodes,n);e&&i()}));return s.observe(document,{childList:!0,subtree:!0}),s}function ks(t,e,i){const n=t.canvas,s=new MutationObserver((t=>{let e=!1;for(const i of t)e=e||Cs(i.removedNodes,n),e=e&&!Cs(i.addedNodes,n);e&&i()}));return s.observe(document,{childList:!0,subtree:!0}),s}const Ts=new Map;let Rs=0;function Os(){const t=window.devicePixelRatio;t!==Rs&&(Rs=t,Ts.forEach(((e,i)=>{i.currentDevicePixelRatio!==t&&e()})))}function Ps(t,e,i){const n=t.canvas,s=n&&ji(n);if(!s)return;const r=Se(((t,e)=>{const n=s.clientWidth;i(t,e),n<s.clientWidth&&i()}),window),o=new ResizeObserver((t=>{const e=t[0],i=e.contentRect.width,n=e.contentRect.height;0===i&&0===n||r(i,n)}));return o.observe(s),function(t,e){Ts.size||window.addEventListener("resize",Os),Ts.set(t,e)}(t,r),o}function Ns(t,e,i){i&&i.disconnect(),"resize"===e&&function(t){Ts.delete(t),Ts.size||window.removeEventListener("resize",Os)}(t)}function Is(t,e,i){const n=t.canvas,s=Se((e=>{null!==t.ctx&&i(function(t,e){const i=Es[t.type]||t.type,{x:n,y:s}=qi(t,e);return{type:i,chart:e,native:t,x:void 0!==n?n:null,y:void 0!==s?s:null}}(e,t))}),t);return function(t,e,i){t.addEventListener(e,i,As)}(n,e,s),s}class Ls extends xs{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(function(t,e){const i=t.style,n=t.getAttribute("height"),s=t.getAttribute("width");if(t[_s]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",Ss(s)){const e=Ki(t,"width");void 0!==e&&(t.width=e)}if(Ss(n))if(""===t.style.height)t.height=t.width/(e||2);else{const e=Ki(t,"height");void 0!==e&&(t.height=e)}}(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[_s])return!1;const i=e[_s].initial;["height","width"].forEach((t=>{const n=i[t];At(n)?e.removeAttribute(t):e.setAttribute(t,n)}));const n=i.style||{};return Object.keys(n).forEach((t=>{e.style[t]=n[t]})),e.width=e.width,delete e[_s],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const n=t.$proxies||(t.$proxies={}),s={attach:Ms,detach:ks,resize:Ps}[e]||Is;n[e]=s(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),n=i[e];if(!n)return;({attach:Ns,detach:Ns,resize:Ns}[e]||Ds)(t,e,n),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,n){return Zi(t,e,i,n)}isAttached(t){const e=ji(t);return!(!e||!e.isConnected)}}let zs=(t=class{constructor(){d(this,"active",!1)}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return re(this.x)&&re(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const n={};return t.forEach((t=>{n[t]=i[t]&&i[t].active()?i[t]._to:this[t]})),n}},d(t,"defaults",{}),d(t,"defaultRoutes"),t);function Hs(t,e){const i=t.options.ticks,n=function(t){const e=t.options.offset,i=t._tickSize(),n=t._length/i+(e?0:1),s=t._maxLength/i;return Math.floor(Math.min(n,s))}(t),s=Math.min(i.maxTicksLimit||n,n),r=i.major.enabled?function(t){const e=[];let i,n;for(i=0,n=t.length;i<n;i++)t[i].major&&e.push(i);return e}(e):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return function(t,e,i,n){let s,r=0,o=i[0];for(n=Math.ceil(n),s=0;s<t.length;s++)s===o&&(e.push(t[s]),r++,o=i[r*n])}(e,c,r,o/s),c;const d=function(t,e,i){const n=function(t){const e=t.length;let i,n;if(e<2)return!1;for(n=t[0],i=1;i<e;++i)if(t[i]-t[i-1]!==n)return!1;return n}(t),s=e.length/i;if(!n)return Math.max(s,1);const r=function(t){const e=[],i=Math.sqrt(t);let n;for(n=1;n<i;n++)t%n==0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort(((t,e)=>t-e)).pop(),e}(n);for(let o=0,a=r.length-1;o<a;o++){const t=r[o];if(t>s)return t}return Math.max(s,1)}(r,e,s);if(o>0){let t,i;const n=o>1?Math.round((l-a)/(o-1)):null;for(Fs(e,c,d,At(n)?0:a-n,a),t=0,i=o-1;t<i;t++)Fs(e,c,d,r[t],r[t+1]);return Fs(e,c,d,l,At(n)?e.length:l+n),c}return Fs(e,c,d),c}function Fs(t,e,i,n,s){const r=Tt(n,0),o=Math.min(Tt(s,t.length),t.length);let a,l,c,d=0;for(i=Math.ceil(i),s&&(a=s-n,i=a/Math.floor(a/i)),c=r;c<0;)d++,c=Math.round(r+d*i);for(l=Math.max(r,0);l<o;l++)l===c&&(e.push(t[l]),d++,c=Math.round(r+d*i))}const Vs=t=>"left"===t?"right":"right"===t?"left":t,Bs=(t,e,i)=>"top"===e||"left"===e?t[e]+i:t[e]-i,js=(t,e)=>Math.min(e||t,t);function Ws(t,e){const i=[],n=t.length/e,s=t.length;let r=0;for(;r<s;r+=n)i.push(t[Math.floor(r)]);return i}function Us(t,e,i){const n=t.ticks.length,s=Math.min(e,n-1),r=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(s);if(!(i&&(l=1===n?Math.max(c-r,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(s-1))/2,c+=s<e?l:-l,c<r-a||c>o+a)))return c}function $s(t){return t.drawTicks?t.tickLength:0}function Ys(t,e){if(!t.display)return 0;const i=vi(t.font,e),n=mi(t.padding);return(Dt(t.text)?t.text.length:1)*i.lineHeight+n.height}function Gs(t,e,i){let n=Ae(t);return(i&&"right"!==e||!i&&"right"===e)&&(n=Vs(n)),n}class qs extends zs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:n}=this;return t=kt(t,Number.POSITIVE_INFINITY),e=kt(e,Number.NEGATIVE_INFINITY),i=kt(i,Number.POSITIVE_INFINITY),n=kt(n,Number.NEGATIVE_INFINITY),{min:kt(t,i),max:kt(e,n),minDefined:Mt(t),maxDefined:Mt(e)}}getMinMax(t){let e,{min:i,max:n,minDefined:s,maxDefined:r}=this.getUserBounds();if(s&&r)return{min:i,max:n};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),s||(i=Math.min(i,e.min)),r||(n=Math.max(n,e.max));return i=r&&i>n?n:i,n=s&&i>n?i:n,{min:kt(i,kt(n,i)),max:kt(n,kt(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ot(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:n,grace:s,ticks:r}=this.options,o=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,i){const{min:n,max:s}=t,r=Rt(e,(s-n)/2),o=(t,e)=>i&&0===t?0:t+e;return{min:o(n,-Math.abs(r)),max:o(s,r)}}(this,s,n),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?Ws(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||"auto"===r.source)&&(this.ticks=Hs(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ot(this.options.afterUpdate,[this])}beforeSetDimensions(){Ot(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ot(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ot(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ot(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,n,s;for(i=0,n=t.length;i<n;i++)s=t[i],s.label=Ot(e.callback,[s.value,i,t],this)}afterTickToLabelConversion(){Ot(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ot(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=js(this.ticks.length,t.ticks.maxTicksLimit),n=e.minRotation||0,s=e.maxRotation;let r,o,a,l=n;if(!this._isVisible()||!e.display||n>=s||i<=1||!this.isHorizontal())return void(this.labelRotation=n);const c=this._getLabelSizes(),d=c.widest.width,h=c.highest.height,u=ge(this.chart.width-d,0,this.maxWidth);r=t.offset?this.maxWidth/i:u/(i-1),d+6>r&&(r=u/(i-(t.offset?.5:1)),o=this.maxHeight-$s(t.grid)-e.padding-Ys(t.title,this.chart.options.font),a=Math.sqrt(d*d+h*h),l=le(Math.min(Math.asin(ge((c.highest.height+6)/r,-1,1)),Math.asin(ge(o/a,-1,1))-Math.asin(ge(h/a,-1,1)))),l=Math.max(n,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ot(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ot(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:n,grid:s}}=this,r=this._isVisible(),o=this.isHorizontal();if(r){const r=Ys(n,e.options.font);if(o?(t.width=this.maxWidth,t.height=$s(s)+r):(t.height=this.maxHeight,t.width=$s(s)+r),i.display&&this.ticks.length){const{first:e,last:n,widest:s,highest:r}=this._getLabelSizes(),a=2*i.padding,l=ae(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(o){const e=i.mirror?0:d*s.width+c*r.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=i.mirror?0:c*s.width+d*r.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,n,d,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,n){const{ticks:{align:s,padding:r},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;a?l?(d=n*t.width,h=i*e.height):(d=i*t.height,h=n*e.width):"start"===s?h=e.width:"end"===s?d=t.width:"inner"!==s&&(d=t.width/2,h=e.width/2),this.paddingLeft=Math.max((d-o+r)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+r)*this.width/(this.width-c),0)}else{let i=e.height/2,n=t.height/2;"start"===s?(i=0,n=t.height):"end"===s&&(i=e.height,n=0),this.paddingTop=i+r,this.paddingBottom=n+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ot(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)At(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Ws(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:n,_longestTextCache:s}=this,r=[],o=[],a=Math.floor(e/js(e,i));let l,c,d,h,u,f,p,g,m,v,b,y=0,x=0;for(l=0;l<e;l+=a){if(h=t[l].label,u=this._resolveTickFontOptions(l),n.font=f=u.string,p=s[f]=s[f]||{data:{},gc:[]},g=u.lineHeight,m=v=0,At(h)||Dt(h)){if(Dt(h))for(c=0,d=h.length;c<d;++c)b=h[c],At(b)||Dt(b)||(m=qe(n,p.data,p.gc,m,b),v+=g)}else m=qe(n,p.data,p.gc,m,h),v=g;r.push(m),o.push(v),y=Math.max(m,y),x=Math.max(v,x)}!function(t,e){Pt(t,(t=>{const i=t.gc,n=i.length/2;let s;if(n>e){for(s=0;s<n;++s)delete t.data[i[s]];i.splice(0,n)}}))}(s,e);const w=r.indexOf(y),_=o.indexOf(x),E=t=>({width:r[t]||0,height:o[t]||0});return{first:E(0),last:E(e-1),widest:E(w),highest:E(_),widths:r,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return ge(this._alignToPixels?Ze(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=function(t,e,i){return yi(t,{tick:i,index:e,type:"tick"})}(this.getContext(),t,i))}return this.$context||(this.$context=yi(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=ae(this.labelRotation),i=Math.abs(Math.cos(e)),n=Math.abs(Math.sin(e)),s=this._getLabelSizes(),r=t.autoSkipPadding||0,o=s?s.widest.width+r:0,a=s?s.highest.height+r:0;return this.isHorizontal()?a*i>o*n?o/i:a/n:a*n<o*i?a/i:o/n}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,n=this.options,{grid:s,position:r,border:o}=n,a=s.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),d=$s(s),h=[],u=o.setContext(this.getContext()),f=u.display?u.width:0,p=f/2,g=function(t){return Ze(i,t,f)};let m,v,b,y,x,w,_,E,S,A,D,C;if("top"===r)m=g(this.bottom),w=this.bottom-d,E=m-p,A=g(t.top)+p,C=t.bottom;else if("bottom"===r)m=g(this.top),A=t.top,C=g(t.bottom)-p,w=m+p,E=this.top+d;else if("left"===r)m=g(this.right),x=this.right-d,_=m-p,S=g(t.left)+p,D=t.right;else if("right"===r)m=g(this.left),S=t.left,D=g(t.right)-p,x=m+p,_=this.left+d;else if("x"===e){if("center"===r)m=g((t.top+t.bottom)/2+.5);else if(Ct(r)){const t=Object.keys(r)[0],e=r[t];m=g(this.chart.scales[t].getPixelForValue(e))}A=t.top,C=t.bottom,w=m+p,E=w+d}else if("y"===e){if("center"===r)m=g((t.left+t.right)/2);else if(Ct(r)){const t=Object.keys(r)[0],e=r[t];m=g(this.chart.scales[t].getPixelForValue(e))}x=m-p,_=x-d,S=t.left,D=t.right}const M=Tt(n.ticks.maxTicksLimit,c),k=Math.max(1,Math.ceil(c/M));for(v=0;v<c;v+=k){const t=this.getContext(v),e=s.setContext(t),n=o.setContext(t),r=e.lineWidth,c=e.color,d=n.dash||[],u=n.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;b=Us(this,v,a),void 0!==b&&(y=Ze(i,b,r),l?x=_=S=D=y:w=E=A=C=y,h.push({tx1:x,ty1:w,tx2:_,ty2:E,x1:S,y1:A,x2:D,y2:C,width:r,color:c,borderDash:d,borderDashOffset:u,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,i=this.options,{position:n,ticks:s}=i,r=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:d}=s,h=$s(i.grid),u=h+c,f=d?-c:u,p=-ae(this.labelRotation),g=[];let m,v,b,y,x,w,_,E,S,A,D,C,M="middle";if("top"===n)w=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===n)w=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===n){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,x=t.x}else if("right"===n){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,x=t.x}else if("x"===e){if("center"===n)w=(t.top+t.bottom)/2+u;else if(Ct(n)){const t=Object.keys(n)[0],e=n[t];w=this.chart.scales[t].getPixelForValue(e)+u}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===n)x=(t.left+t.right)/2-u;else if(Ct(n)){const t=Object.keys(n)[0],e=n[t];x=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?M="top":"end"===a&&(M="bottom"));const k=this._getLabelSizes();for(m=0,v=o.length;m<v;++m){b=o[m],y=b.label;const t=s.setContext(this.getContext(m));E=this.getPixelForTick(m)+s.labelOffset,S=this._resolveTickFontOptions(m),A=S.lineHeight,D=Dt(y)?y.length:1;const e=D/2,i=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,u=_;if(r?(x=E,"inner"===_&&(u=m===v-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===n?"near"===l||0!==p?-D*A+A/2:"center"===l?-k.highest.height/2-e*A+A:-k.highest.height+A/2:"near"===l||0!==p?A/2:"center"===l?k.highest.height/2-e*A:k.highest.height-D*A,d&&(C*=-1),0===p||t.showLabelBackdrop||(x+=A/2*Math.sin(p))):(w=E,C=(1-D)*A/2),t.showLabelBackdrop){const e=mi(t.backdropPadding),i=k.heights[m],n=k.widths[m];let s=C-e.top,r=0-e.left;switch(M){case"middle":s-=i/2;break;case"bottom":s-=i}switch(_){case"center":r-=n/2;break;case"right":r-=n}h={left:r,top:s,width:n+e.width,height:i+e.height,color:t.backdropColor}}g.push({label:y,font:S,textOffset:C,options:{rotation:p,color:i,strokeColor:a,strokeWidth:c,textAlign:u,textBaseline:M,translation:[x,w],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ae(this.labelRotation))return"top"===t?"left":"right";let i="center";return"start"===e.align?i="left":"end"===e.align?i="right":"inner"===e.align&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:n,padding:s}}=this.options,r=t+s,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?n?(l=this.right+s,"near"===i?a="left":"center"===i?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-r,"near"===i?a="right":"center"===i?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?n?(l=this.left+s,"near"===i?a="right":"center"===i?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+r,"near"===i?a="left":"center"===i?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:n,width:s,height:r}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,s,r),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const i=this.ticks.findIndex((e=>e.value===t));if(i>=0){return e.setContext(this.getContext(i)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,i=this.ctx,n=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,r;const o=(t,e,n)=>{n.width&&n.color&&(i.save(),i.lineWidth=n.width,i.strokeStyle=n.color,i.setLineDash(n.borderDash||[]),i.lineDashOffset=n.borderDashOffset,i.beginPath(),i.moveTo(t.x,t.y),i.lineTo(e.x,e.y),i.stroke(),i.restore())};if(e.display)for(s=0,r=n.length;s<r;++s){const t=n[s];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:n}}=this,s=i.setContext(this.getContext()),r=i.display?s.width:0;if(!r)return;const o=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,d,h;this.isHorizontal()?(l=Ze(t,this.left,r)-r/2,c=Ze(t,this.right,o)+o/2,d=h=a):(d=Ze(t,this.top,r)-r/2,h=Ze(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=s.width,e.strokeStyle=s.color,e.beginPath(),e.moveTo(l,d),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,i=this._computeLabelArea();i&&ei(e,i);const n=this.getLabelItems(t);for(const s of n){const t=s.options,i=s.font;ri(e,s.label,0,s.textOffset,i,t)}i&&ii(e)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:n}}=this;if(!i.display)return;const s=vi(i.font),r=mi(i.padding),o=i.align;let a=s.lineHeight/2;"bottom"===e||"center"===e||Ct(e)?(a+=r.bottom,Dt(i.text)&&(a+=s.lineHeight*(i.text.length-1))):a+=r.top;const{titleX:l,titleY:c,maxWidth:d,rotation:h}=function(t,e,i,n){const{top:s,left:r,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let h,u,f,p=0;const g=o-s,m=a-r;if(t.isHorizontal()){if(u=De(n,r,a),Ct(i)){const t=Object.keys(i)[0],n=i[t];f=d[t].getPixelForValue(n)+g-e}else f="center"===i?(c.bottom+c.top)/2+g-e:Bs(t,i,e);h=a-r}else{if(Ct(i)){const t=Object.keys(i)[0],n=i[t];u=d[t].getPixelForValue(n)-m+e}else u="center"===i?(c.left+c.right)/2-m+e:Bs(t,i,e);f=De(n,o,s),p="left"===i?-Jt:Jt}return{titleX:u,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);ri(t,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:h,textAlign:Gs(o,e,n),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Tt(t.grid&&t.grid.z,-1),n=Tt(t.border&&t.border.z,0);return this._isVisible()&&this.draw===qs.prototype.draw?[{z:i,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:n,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[];let s,r;for(s=0,r=e.length;s<r;++s){const r=e[s];r[i]!==this.id||t&&r.type!==t||n.push(r)}return n}_resolveTickFontOptions(t){return vi(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qs{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;(function(t){return"id"in t&&"defaults"in t})(e)&&(i=this.register(e));const n=this.items,s=t.id,r=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in n||(n[s]=t,function(t,e,i){const n=Ht(Object.create(null),[i?Ge.get(i):{},Ge.get(e),t.defaults]);Ge.set(e,n),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((i=>{const n=i.split("."),s=n.pop(),r=[t].concat(n).join("."),o=e[i].split("."),a=o.pop(),l=o.join(".");Ge.route(r,s,l,a)}))}(e,t.defaultRoutes);t.descriptors&&Ge.describe(e,t.descriptors)}(t,r,i),this.override&&Ge.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in Ge[n]&&(delete Ge[n][i],this.override&&delete je[i])}}class Zs{constructor(){this.controllers=new Qs(Pn,"datasets",!0),this.elements=new Qs(zs,"elements"),this.plugins=new Qs(Object,"plugins"),this.scales=new Qs(qs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach((e=>{const n=i||this._getRegistryForType(e);i||n.isForType(e)||n===this.plugins&&e.id?this._exec(t,n,e):Pt(e,(e=>{const n=i||this._getRegistryForType(e);this._exec(t,n,e)}))}))}_exec(t,e,i){const n=Wt(t);Ot(i["before"+n],[],i),e[t](i),Ot(i["after"+n],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const n=e.get(t);if(void 0===n)throw new Error('"'+t+'" is not a registered '+i+".");return n}}var Xs=new Zs;class Js{constructor(){this._init=[]}notify(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=n?this._descriptors(t).filter(n):this._descriptors(t),r=this._notify(s,t,e,i);return"afterDestroy"===e&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,e,i,n){n=n||{};for(const s of t){const t=s.plugin;if(!1===Ot(t[i],[e,n,s.options],t)&&n.cancelable)return!1}return!0}invalidate(){At(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,n=Tt(i.options&&i.options.plugins,{}),s=function(t){const e={},i=[],n=Object.keys(Xs.plugins.items);for(let r=0;r<n.length;r++)i.push(Xs.getPlugin(n[r]));const s=t.plugins||[];for(let r=0;r<s.length;r++){const t=s[r];-1===i.indexOf(t)&&(i.push(t),e[t.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==n||e?function(t,{plugins:e,localIds:i},n,s){const r=[],o=t.getContext();for(const a of e){const e=a.id,l=Ks(n[e],s);null!==l&&r.push({plugin:a,options:tr(t.config,{plugin:a,local:i[e]},l,o)})}return r}(t,s,n,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,n=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}function Ks(t,e){return e||!1!==t?!0===t?{}:t:null}function tr(t,{plugin:e,local:i},n,s){const r=t.pluginScopeKeys(e),o=t.getOptionScopes(n,r);return i&&e.defaults&&o.push(e.defaults),t.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function er(t,e){const i=Ge.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function ir(t,e){if("x"===t||"y"===t||"r"===t)return t;var i;if(t=e.axis||("top"===(i=e.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&ir(t[0].toLowerCase(),e))return t;throw new Error(`Cannot determine type of '${name}' axis. Please provide 'axis' or 'position' option.`)}function nr(t){const e=t.options||(t.options={});e.plugins=Tt(e.plugins,{}),e.scales=function(t,e){const i=je[t.type]||{scales:{}},n=e.scales||{},s=er(t.type,e),r=Object.create(null);return Object.keys(n).forEach((t=>{const e=n[t];if(!Ct(e))return console.error(`Invalid scale configuration for scale: ${t}`);if(e._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const o=ir(t,e),a=function(t,e){return t===e?"_index_":"_value_"}(o,s),l=i.scales||{};r[t]=Ft(Object.create(null),[{axis:o},e,l[o],l[a]])})),t.data.datasets.forEach((i=>{const s=i.type||t.type,o=i.indexAxis||er(s,e),a=(je[s]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let i=t;return"_index_"===t?i=e:"_value_"===t&&(i="x"===e?"y":"x"),i}(t,o),s=i[e+"AxisID"]||e;r[s]=r[s]||Object.create(null),Ft(r[s],[{axis:e},n[s],a[t]])}))})),Object.keys(r).forEach((t=>{const e=r[t];Ft(e,[Ge.scales[e.type],Ge.scale])})),r}(t,e)}function sr(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const rr=new Map,or=new Set;function ar(t,e){let i=rr.get(t);return i||(i=e(),rr.set(t,i),or.add(i)),i}const lr=(t,e,i)=>{const n=jt(e,i);void 0!==n&&t.add(n)};class cr{constructor(t){this._config=function(t){return(t=t||{}).data=sr(t.data),nr(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sr(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),nr(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ar(t,(()=>[[`datasets.${t}`,""]]))}datasetAnimationScopeKeys(t,e){return ar(`${t}.transition.${e}`,(()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]]))}datasetElementScopeKeys(t,e){return ar(`${t}-${e}`,(()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]]))}pluginScopeKeys(t){const e=t.id;return ar(`${this.type}-plugin-${e}`,(()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const i=this._scopeCache;let n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}getOptionScopes(t,e,i){const{options:n,type:s}=this,r=this._cachedScopes(t,i),o=r.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>lr(a,t,e)))),e.forEach((t=>lr(a,n,t))),e.forEach((t=>lr(a,je[s]||{},t))),e.forEach((t=>lr(a,Ge,t))),e.forEach((t=>lr(a,We,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),or.has(e)&&r.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,je[e]||{},Ge.datasets[e]||{},{type:e},Ge,We]}resolveNamedOptions(t,e,i,n=[""]){const s={$shared:!0},{resolver:r,subPrefixes:o}=dr(this._resolverCache,t,n);let a=r;if(function(t,e){const{isScriptable:i,isIndexable:n}=_i(t);for(const s of e){const e=i(s),r=n(s),o=(r||e)&&t[s];if(e&&($t(o)||hr(o))||r&&Dt(o))return!0}return!1}(r,e)){s.$shared=!1;a=wi(r,i=$t(i)?i():i,this.createResolver(t,i,o))}for(const l of e)s[l]=a[l];return s}createResolver(t,e,i=[""],n){const{resolver:s}=dr(this._resolverCache,t,i);return Ct(e)?wi(s,e,void 0,n):s}}function dr(t,e,i){let n=t.get(e);n||(n=new Map,t.set(e,n));const s=i.join();let r=n.get(s);if(!r){r={resolver:xi(e,i),subPrefixes:i.filter((t=>!t.toLowerCase().includes("hover")))},n.set(s,r)}return r}const hr=t=>Ct(t)&&Object.getOwnPropertyNames(t).reduce(((e,i)=>e||$t(t[i])),!1);const ur=["top","bottom","left","right","chartArea"];function fr(t,e){return"top"===t||"bottom"===t||-1===ur.indexOf(t)&&"x"===e}function pr(t,e){return function(i,n){return i[t]===n[t]?i[e]-n[e]:i[t]-n[t]}}function gr(t){const e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),Ot(i&&i.onComplete,[t],e)}function mr(t){const e=t.chart,i=e.options.animation;Ot(i&&i.onProgress,[t],e)}function vr(t){return Bi()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const br={},yr=t=>{const e=vr(t);return Object.values(br).filter((t=>t.canvas===e)).pop()};function xr(t,e,i){const n=Object.keys(t);for(const s of n){const n=+s;if(n>=e){const r=t[s];delete t[s],(i>0||n>e)&&(t[n+i]=r)}}}class wr{static register(...t){Xs.add(...t),_r()}static unregister(...t){Xs.remove(...t),_r()}constructor(t,e){const i=this.config=new cr(e),n=vr(t),s=yr(n);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const r=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||function(t){return!Bi()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?ws:Ls}(n)),this.platform.updateConfig(i);const o=this.platform.acquireContext(n,r.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=St(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Js,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let i;return function(...n){return e?(clearTimeout(i),i=setTimeout(t,e,n)):t.apply(this,n),e}}((t=>this.update(t)),r.resizeDelay||0),this._dataChanges=[],br[this.id]=this,o&&a?(vn.listen(this,"complete",gr),vn.listen(this,"progress",mr),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:n,_aspectRatio:s}=this;return At(t)?e&&s?s:n?i/n:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Xs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Xi(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xe(this.canvas,this.ctx),this}stop(){return vn.stop(this),this}resize(t,e){vn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,n=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(n,t,e,s),o=i.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Xi(this,o,!0)&&(this.notifyPlugins("resize",{size:r}),Ot(i.onResize,[this,r],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){Pt(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,n=Object.keys(i).reduce(((t,e)=>(t[e]=!1,t)),{});let s=[];e&&(s=s.concat(Object.keys(e).map((t=>{const i=e[t],n=ir(t,i),s="r"===n,r="x"===n;return{options:i,dposition:s?"chartArea":r?"bottom":"left",dtype:s?"radialLinear":r?"category":"linear"}})))),Pt(s,(e=>{const s=e.options,r=s.id,o=ir(r,s),a=Tt(s.type,e.dtype);void 0!==s.position&&fr(s.position,o)===fr(e.dposition)||(s.position=e.dposition),n[r]=!0;let l=null;if(r in i&&i[r].type===a)l=i[r];else{l=new(Xs.getScale(a))({id:r,type:a,ctx:this.ctx,chart:this}),i[l.id]=l}l.init(s,t)})),Pt(n,((t,e)=>{t||delete i[e]})),Pt(i,(t=>{ys.configure(this,t,t.options),ys.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(((t,e)=>t.index-e.index)),i>e){for(let t=e;t<i;++t)this._destroyDatasetMeta(t);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(pr("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,i)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(i)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,n;for(this._removeUnreferencedMetasets(),i=0,n=e.length;i<n;i++){const n=e[i];let s=this.getDatasetMeta(i);const r=n.type||this.config.type;if(s.type&&s.type!==r&&(this._destroyDatasetMeta(i),s=this.getDatasetMeta(i)),s.type=r,s.indexAxis=n.indexAxis||er(r,this.options),s.order=n.order||0,s.index=i,s.label=""+n.label,s.visible=this.isDatasetVisible(i),s.controller)s.controller.updateIndex(i),s.controller.linkScales();else{const e=Xs.getController(r),{datasetElementType:n,dataElementType:o}=Ge.datasets[r];Object.assign(e,{dataElementType:Xs.getElement(o),datasetElementType:n&&Xs.getElement(n)}),s.controller=new e(this,i),t.push(s.controller)}}return this._updateMetasets(),t}_resetElements(){Pt(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),n=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!n&&-1===s.indexOf(t);t.buildOrUpdateElements(e),r=Math.max(+t.getMaxOverflow(),r)}r=this._minPadding=i.layout.autoPadding?r:0,this._updateLayout(r),n||Pt(s,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(pr("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){Pt(this.scales,(t=>{ys.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);Yt(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:n,count:s}of e){xr(t,n,"_removeElements"===i?-s:s)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),n=i(0);for(let s=1;s<e;s++)if(!Yt(n,i(s)))return;return Array.from(n).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ys.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Pt(this.boxes,(t=>{i&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,$t(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(vn.has(this)?this.attached&&!vn.running(this)&&vn.start(this):(this.draw(),gr({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let n,s;for(n=0,s=e.length;n<s;++n){const s=e[n];t&&!s.visible||i.push(s)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i=t._clip,n=!i.disabled,s=function(t){const{xScale:e,yScale:i}=t;if(e&&i)return{left:e.left,right:e.right,top:i.top,bottom:i.bottom}}(t)||this.chartArea,r={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&ei(e,{left:!1===i.left?0:s.left-i.left,right:!1===i.right?this.width:s.right+i.right,top:!1===i.top?0:s.top-i.top,bottom:!1===i.bottom?this.height:s.bottom+i.bottom}),t.controller.draw(),n&&ii(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return ti(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,n){const s=os.modes[e];return"function"==typeof s?s(this,t,i,n):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let n=i.filter((t=>t&&t._dataset===e)).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}getContext(){return this.$context||(this.$context=yi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return"boolean"==typeof i.hidden?!i.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const n=i?"show":"hide",s=this.getDatasetMeta(t),r=s.controller._resolveAnimations(void 0,n);Ut(e)?(s.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),r.update(s,{visible:i}),this.update((e=>e.datasetIndex===t?n:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),vn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Xe(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete br[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(t,e,i)=>{t.offsetX=e,t.offsetY=i,this._eventHandler(t)};Pt(this.options.events,(t=>i(t,n)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(i,n)=>{e.addEventListener(this,i,n),t[i]=n},n=(i,n)=>{t[i]&&(e.removeEventListener(this,i,n),delete t[i])},s=(t,e)=>{this.canvas&&this.resize(t,e)};let r;const o=()=>{n("attach",o),this.attached=!0,this.resize(),i("resize",s),i("detach",r)};r=()=>{this.attached=!1,n("resize",s),this._stop(),this._resize(0,0),i("attach",o)},e.isAttached(this.canvas)?o():r()}unbindEvents(){Pt(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},Pt(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const n=i?"set":"remove";let s,r,o,a;for("dataset"===e&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+n+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){r=t[o];const e=r&&this.getDatasetMeta(r.datasetIndex).controller;e&&e[n+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map((({datasetIndex:t,index:e})=>{const i=this.getDatasetMeta(t);if(!i)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:i.data[e],index:e}}));!Nt(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,i){const n=this.options.hover,s=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),r=s(e,t),o=i?t:s(t,e);r.length&&this.updateHoverStyle(r,n.mode,!1),o.length&&n.mode&&this.updateHoverStyle(o,n.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},n=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",i,n))return;const s=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,n),(s||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:n=[],options:s}=this,r=e,o=this._getActiveElements(t,n,i,r),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,i,n){return i&&"mouseout"!==t.type?n?e:t:null}(t,this._lastEvent,i,a);i&&(this._lastEvent=null,Ot(s.onHover,[t,o,this],this),a&&Ot(s.onClick,[t,o,this],this));const c=!Nt(o,n);return(c||e)&&(this._active=o,this._updateHoverStyles(o,n,e)),this._lastEvent=l,c}_getActiveElements(t,e,i,n){if("mouseout"===t.type)return[];if(!i)return e;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,n)}}function _r(){return Pt(wr.instances,(t=>t._plugins.invalidate()))}function Er(t,e,i,n){const s=fi(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const r=(i-e)/2,o=Math.min(r,n*e/2),a=t=>{const e=(i-Math.min(r,t))*n/2;return ge(t,0,Math.min(r,e))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:ge(s.innerStart,0,o),innerEnd:ge(s.innerEnd,0,o)}}function Sr(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function Ar(t,e,i,n,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=e,h=Math.max(e.outerRadius+n+i-c,0),u=d>0?d+n+i+c:0;let f=0;const p=s-l;if(n){const t=((d>0?d-n:0)+(h>0?h-n:0))/2;f=(p-(0!==t?p*t/(t+n):p))/2}const g=(p-Math.max(.001,p*h-i/Gt)/h)/2,m=l+g+f,v=s-g-f,{outerStart:b,outerEnd:y,innerStart:x,innerEnd:w}=Er(e,u,h,v-m),_=h-b,E=h-y,S=m+b/_,A=v-y/E,D=u+x,C=u+w,M=m+x/D,k=v-w/C;if(t.beginPath(),r){const e=(S+A)/2;if(t.arc(o,a,h,S,e),t.arc(o,a,h,e,A),y>0){const e=Sr(E,A,o,a);t.arc(e.x,e.y,y,A,v+Jt)}const i=Sr(C,v,o,a);if(t.lineTo(i.x,i.y),w>0){const e=Sr(C,k,o,a);t.arc(e.x,e.y,w,v+Jt,k+Math.PI)}const n=(v-w/u+(m+x/u))/2;if(t.arc(o,a,u,v-w/u,n,!0),t.arc(o,a,u,n,m+x/u,!0),x>0){const e=Sr(D,M,o,a);t.arc(e.x,e.y,x,M+Math.PI,m-Jt)}const s=Sr(_,m,o,a);if(t.lineTo(s.x,s.y),b>0){const e=Sr(_,S,o,a);t.arc(e.x,e.y,b,m-Jt,S)}}else{t.moveTo(o,a);const e=Math.cos(S)*h+o,i=Math.sin(S)*h+a;t.lineTo(e,i);const n=Math.cos(A)*h+o,s=Math.sin(A)*h+a;t.lineTo(n,s)}t.closePath()}function Dr(t,e,i,n,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:d}=l,h="inner"===l.borderAlign;if(!c)return;h?(t.lineWidth=2*c,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let u=e.endAngle;if(r){Ar(t,e,i,n,u,s);for(let e=0;e<r;++e)t.stroke();isNaN(a)||(u=o+(a%qt||qt))}h&&function(t,e,i){const{startAngle:n,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=e;let c=s/a;t.beginPath(),t.arc(r,o,a,n-c,i+c),l>s?(c=s/l,t.arc(r,o,l,i+c,n-c,!0)):t.arc(r,o,s,i+Jt,n-Jt),t.closePath(),t.clip()}(t,e,u),r||(Ar(t,e,i,n,u,s),t.stroke())}d(wr,"defaults",Ge),d(wr,"instances",br),d(wr,"overrides",je),d(wr,"registry",Xs),d(wr,"version","4.2.1"),d(wr,"getChart",yr);class Cr extends zs{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.getProps(["x","y"],i),{angle:s,distance:r}=de(n,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=this.options.spacing/2,u=Tt(d,a-o)>=qt||pe(s,o,a),f=me(r,l+h,c+h);return u&&f}getCenterPoint(t){const{x:e,y:i,startAngle:n,endAngle:s,innerRadius:r,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(n+s)/2,d=(r+o+l+a)/2;return{x:e+Math.cos(c)*d,y:i+Math.sin(c)*d}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,n=(e.offset||0)/4,s=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=i>qt?Math.floor(i/qt):0,0===i||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*n,Math.sin(o)*n);const a=n*(1-Math.sin(Math.min(Gt,i||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,i,n,s){const{fullCircles:r,startAngle:o,circumference:a}=e;let l=e.endAngle;if(r){Ar(t,e,i,n,l,s);for(let e=0;e<r;++e)t.fill();isNaN(a)||(l=o+(a%qt||qt))}Ar(t,e,i,n,l,s),t.fill()}(t,this,a,s,r),Dr(t,this,a,s,r),t.restore()}}function Mr(t,e,i=e){t.lineCap=Tt(i.borderCapStyle,e.borderCapStyle),t.setLineDash(Tt(i.borderDash,e.borderDash)),t.lineDashOffset=Tt(i.borderDashOffset,e.borderDashOffset),t.lineJoin=Tt(i.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Tt(i.borderWidth,e.borderWidth),t.strokeStyle=Tt(i.borderColor,e.borderColor)}function kr(t,e,i){t.lineTo(i.x,i.y)}function Tr(t,e,i={}){const n=t.length,{start:s=0,end:r=n-1}=i,{start:o,end:a}=e,l=Math.max(s,o),c=Math.min(r,a),d=s<o&&r<o||s>a&&r>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!d?n+c-l:c-l}}function Rr(t,e,i,n){const{points:s,options:r}=e,{count:o,start:a,loop:l,ilen:c}=Tr(s,i,n),d=function(t){return t.stepped?ni:t.tension||"monotone"===t.cubicInterpolationMode?si:kr}(r);let h,u,f,{move:p=!0,reverse:g}=n||{};for(h=0;h<=c;++h)u=s[(a+(g?c-h:h))%o],u.skip||(p?(t.moveTo(u.x,u.y),p=!1):d(t,f,u,g,r.stepped),f=u);return l&&(u=s[(a+(g?c:0))%o],d(t,f,u,g,r.stepped)),!!l}function Or(t,e,i,n){const s=e.points,{count:r,start:o,ilen:a}=Tr(s,i,n),{move:l=!0,reverse:c}=n||{};let d,h,u,f,p,g,m=0,v=0;const b=t=>(o+(c?a-t:t))%r,y=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=s[b(0)],t.moveTo(h.x,h.y)),d=0;d<=a;++d){if(h=s[b(d)],h.skip)continue;const e=h.x,i=h.y,n=0|e;n===u?(i<f?f=i:i>p&&(p=i),m=(v*m+e)/++v):(y(),t.lineTo(e,i),u=n,v=0,f=p=i),g=i}y()}function Pr(t){const e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?Or:Rr}d(Cr,"id","arc"),d(Cr,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),d(Cr,"defaultRoutes",{backgroundColor:"backgroundColor"});const Nr="function"==typeof Path2D;function Ir(t,e,i,n){Nr&&!e.options.segment?function(t,e,i,n){let s=e._path;s||(s=e._path=new Path2D,e.path(s,i,n)&&s.closePath()),Mr(t,e.options),t.stroke(s)}(t,e,i,n):function(t,e,i,n){const{segments:s,options:r}=e,o=Pr(e);for(const a of s)Mr(t,r,a.style),t.beginPath(),o(t,e,a,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}(t,e,i,n)}class Lr extends zs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||"monotone"===i.cubicInterpolationMode)&&!i.stepped&&!this._pointsUpdated){const n=i.spanGaps?this._loop:this._fullLoop;Vi(this._points,i,t,n,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const i=t.points,n=t.options.spanGaps,s=i.length;if(!s)return[];const r=!!t._loop,{start:o,end:a}=function(t,e,i,n){let s=0,r=e-1;if(i&&!n)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,i&&(r+=s);r>s&&t[r%e].skip;)r--;return r%=e,{start:s,end:r}}(i,s,r,n);return fn(t,!0===n?[{start:o,end:a,loop:r}]:function(t,e,i,n){const s=t.length,r=[];let o,a=e,l=t[e];for(o=e+1;o<=i;++o){const i=t[o%s];i.skip||i.stop?l.skip||(n=!1,r.push({start:e%s,end:(o-1)%s,loop:n}),e=a=i.stop?o:null):(a=o,l.skip&&(e=o)),l=i}return null!==a&&r.push({start:e%s,end:a%s,loop:n}),r}(i,o,a<o?a+s:a,!!t._fullLoop&&0===o&&a===s-1),i,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,n=t[e],s=this.points,r=un(this,{property:e,start:n,end:n});if(!r.length)return;const o=[],a=function(t){return t.stepped?en:t.tension||"monotone"===t.cubicInterpolationMode?nn:tn}(i);let l,c;for(l=0,c=r.length;l<c;++l){const{start:c,end:d}=r[l],h=s[c],u=s[d];if(h===u){o.push(h);continue}const f=a(h,u,Math.abs((n-h[e])/(u[e]-h[e])),i.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,i){return Pr(this)(t,this,e,i)}path(t,e,i){const n=this.segments,s=Pr(this);let r=this._loop;e=e||0,i=i||this.points.length-e;for(const o of n)r&=s(t,this,o,{start:e,end:e+i-1});return!!r}draw(t,e,i,n){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),Ir(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function zr(t,e,i,n){const s=t.options,{[i]:r}=t.getProps([i],n);return Math.abs(e-r)<s.radius+s.hitRadius}d(Lr,"id","line"),d(Lr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),d(Lr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),d(Lr,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class Hr extends zs{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const n=this.options,{x:s,y:r}=this.getProps(["x","y"],i);return Math.pow(t-s,2)+Math.pow(e-r,2)<Math.pow(n.hitRadius+n.radius,2)}inXRange(t,e){return zr(this,t,"x",e)}inYRange(t,e){return zr(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const i=this.options;this.skip||i.radius<.1||!ti(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Je(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function Fr(t,e){const{x:i,y:n,base:s,width:r,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,d,h;return t.horizontal?(h=o/2,a=Math.min(i,s),l=Math.max(i,s),c=n-h,d=n+h):(h=r/2,a=i-h,l=i+h,c=Math.min(n,s),d=Math.max(n,s)),{left:a,top:c,right:l,bottom:d}}function Vr(t,e,i,n){return t?0:ge(e,i,n)}function Br(t){const e=Fr(t),i=e.right-e.left,n=e.bottom-e.top,s=function(t,e,i){const n=t.options.borderWidth,s=t.borderSkipped,r=pi(n);return{t:Vr(s.top,r.top,0,i),r:Vr(s.right,r.right,0,e),b:Vr(s.bottom,r.bottom,0,i),l:Vr(s.left,r.left,0,e)}}(t,i/2,n/2),r=function(t,e,i){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,r=gi(s),o=Math.min(e,i),a=t.borderSkipped,l=n||Ct(s);return{topLeft:Vr(!l||a.top||a.left,r.topLeft,0,o),topRight:Vr(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Vr(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Vr(!l||a.bottom||a.right,r.bottomRight,0,o)}}(t,i/2,n/2);return{outer:{x:e.left,y:e.top,w:i,h:n,radius:r},inner:{x:e.left+s.l,y:e.top+s.t,w:i-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function jr(t,e,i,n){const s=null===e,r=null===i,o=t&&!(s&&r)&&Fr(t,n);return o&&(s||me(e,o.left,o.right))&&(r||me(i,o.top,o.bottom))}function Wr(t,e){t.rect(e.x,e.y,e.w,e.h)}function Ur(t,e,i={}){const n=t.x!==i.x?-e:0,s=t.y!==i.y?-e:0,r=(t.x+t.w!==i.x+i.w?e:0)-n,o=(t.y+t.h!==i.y+i.h?e:0)-s;return{x:t.x+n,y:t.y+s,w:t.w+r,h:t.h+o,radius:t.radius}}d(Hr,"id","point"),
/**
* @type {any}
*/
d(Hr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),
/**
* @type {any}
*/
d(Hr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class $r extends zs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:n}}=this,{inner:s,outer:r}=Br(this),o=(a=r.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?li:Wr;var a;t.save(),r.w===s.w&&r.h===s.h||(t.beginPath(),o(t,Ur(r,e,s)),t.clip(),o(t,Ur(s,-e,r)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),o(t,Ur(s,e)),t.fillStyle=n,t.fill(),t.restore()}inRange(t,e,i){return jr(this,t,e,i)}inXRange(t,e){return jr(this,t,null,e)}inYRange(t,e){return jr(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:n,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(e+n)/2:e,y:s?i:(i+n)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}d($r,"id","bar"),d($r,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),d($r,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Yr=Object.freeze({__proto__:null,ArcElement:Cr,LineElement:Lr,PointElement:Hr,BarElement:$r});const Gr=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],qr=Gr.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function Qr(t){return Gr[t%Gr.length]}function Zr(t){return qr[t%qr.length]}function Xr(t){let e=0;return(i,n)=>{const s=t.getDatasetMeta(n).controller;s instanceof Un?e=function(t,e){return t.backgroundColor=t.data.map((()=>Qr(e++))),e}(i,e):s instanceof Yn?e=function(t,e){return t.backgroundColor=t.data.map((()=>Zr(e++))),e}(i,e):s&&(e=function(t,e){return t.borderColor=Qr(e),t.backgroundColor=Zr(e),++e}(i,e))}}function Jr(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var Kr={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,i){if(!i.enabled)return;const{data:{datasets:n},options:s}=t.config,{elements:r}=s;if(!i.forceOverride&&(Jr(n)||(o=s)&&(o.borderColor||o.backgroundColor)||r&&Jr(r)))return;var o;const a=Xr(t);n.forEach(a)}};function to(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function eo(t){t.data.datasets.forEach((t=>{to(t)}))}var io={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,i)=>{if(!i.enabled)return void eo(t);const n=t.width;t.data.datasets.forEach(((e,s)=>{const{_data:r,indexAxis:o}=e,a=t.getDatasetMeta(s),d=r||e.data;if("y"===bi([o,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const h=t.scales[a.xAxisID];if("linear"!==h.type&&"time"!==h.type)return;if(t.options.parsing)return;let{start:u,count:f}=function(t,e){const i=e.length;let n,s=0;const{iScale:r}=t,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(s=ge(be(e,r.axis,o).lo,0,i-1)),n=c?ge(be(e,r.axis,a).hi+1,s,i)-s:i-s,{start:s,count:n}}(a,d);if(f<=(i.threshold||4*n))return void to(e);let p;switch(At(r)&&(e._data=d,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),i.algorithm){case"lttb":p=function(t,e,i,n,s){const r=s.samples||n;if(r>=i)return t.slice(e,e+i);const o=[],a=(i-2)/(r-2);let l=0;const c=e+i-1;let d,h,u,f,p,g=e;for(o[l++]=t[g],d=0;d<r-2;d++){let n,s=0,r=0;const c=Math.floor((d+1)*a)+1+e,m=Math.min(Math.floor((d+2)*a)+1,i)+e,v=m-c;for(n=c;n<m;n++)s+=t[n].x,r+=t[n].y;s/=v,r/=v;const b=Math.floor(d*a)+1+e,y=Math.min(Math.floor((d+1)*a)+1,i)+e,{x:x,y:w}=t[g];for(u=f=-1,n=b;n<y;n++)f=.5*Math.abs((x-s)*(t[n].y-w)-(x-t[n].x)*(r-w)),f>u&&(u=f,h=t[n],p=n);o[l++]=h,g=p}return o[l++]=t[c],o}(d,u,f,n,i);break;case"min-max":p=function(t,e,i,n){let s,r,o,a,d,h,u,f,p,g,m=0,v=0;const b=[],y=e+i-1,x=t[e].x,w=t[y].x-x;for(s=e;s<e+i;++s){r=t[s],o=(r.x-x)/w*n,a=r.y;const e=0|o;if(e===d)a<p?(p=a,h=s):a>g&&(g=a,u=s),m=(v*m+r.x)/++v;else{const i=s-1;if(!At(h)&&!At(u)){const e=Math.min(h,u),n=Math.max(h,u);e!==f&&e!==i&&b.push(c(l({},t[e]),{x:m})),n!==f&&n!==i&&b.push(c(l({},t[n]),{x:m}))}s>0&&i!==f&&b.push(t[i]),b.push(r),d=e,v=0,p=g=a,h=u=f=s}}return b}(d,u,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}e._decimated=p}))},destroy(t){eo(t)}};function no(t,e,i,n){if(n)return;let s=e[t],r=i[t];return"angle"===t&&(s=fe(s),r=fe(r)),{property:t,start:s,end:r}}function so(t,e,i){for(;e>t;e--){const t=i[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function ro(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function oo(t,e){let i=[],n=!1;return Dt(t)?(n=!0,i=t):i=function(t,e){const{x:i=null,y:n=null}=t||{},s=e.points,r=[];return e.segments.forEach((({start:t,end:e})=>{e=so(t,e,s);const o=s[t],a=s[e];null!==n?(r.push({x:o.x,y:n}),r.push({x:a.x,y:n})):null!==i&&(r.push({x:i,y:o.y}),r.push({x:i,y:a.y}))})),r}(t,e),i.length?new Lr({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function ao(t){return t&&!1!==t.fill}function lo(t,e,i){let n=t[e].fill;const s=[e];let r;if(!i)return n;for(;!1!==n&&-1===s.indexOf(n);){if(!Mt(n))return n;if(r=t[n],!r)return!1;if(r.visible)return n;s.push(n),n=r.fill}return!1}function co(t,e,i){const n=function(t){const e=t.options,i=e.fill;let n=Tt(i&&i.target,i);void 0===n&&(n=!!e.backgroundColor);if(!1===n||null===n)return!1;if(!0===n)return"origin";return n}(t);if(Ct(n))return!isNaN(n.value)&&n;let s=parseFloat(n);return Mt(s)&&Math.floor(s)===s?function(t,e,i,n){"-"!==t&&"+"!==t||(i=e+i);if(i===e||i<0||i>=n)return!1;return i}(n[0],e,s,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function ho(t,e,i){const n=[];for(let s=0;s<i.length;s++){const r=i[s],{first:o,last:a,point:l}=uo(r,e,"x");if(!(!l||o&&a))if(o)n.unshift(l);else if(t.push(l),!a)break}t.push(...n)}function uo(t,e,i){const n=t.interpolate(e,i);if(!n)return{};const s=n[i],r=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const t=r[c],e=o[t.start][i],n=o[t.end][i];if(me(s,e,n)){a=s===e,l=s===n;break}}return{first:a,last:l,point:n}}class fo{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:n,y:s,radius:r}=this;return e=e||{start:0,end:qt},t.arc(n,s,r,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:n}=this,s=t.angle;return{x:e+Math.cos(s)*n,y:i+Math.sin(s)*n,angle:s}}}function po(t){const{chart:e,fill:i,line:n}=t;if(Mt(i))return function(t,e){const i=t.getDatasetMeta(e),n=i&&t.isDatasetVisible(e);return n?i.dataset:null}(e,i);if("stack"===i)return function(t){const{scale:e,index:i,line:n}=t,s=[],r=n.segments,o=n.points,a=function(t,e){const i=[],n=t.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){const t=n[s];if(t.index===e)break;t.hidden||i.unshift(t.dataset)}return i}(e,i);a.push(oo({x:null,y:e.bottom},n));for(let l=0;l<r.length;l++){const t=r[l];for(let e=t.start;e<=t.end;e++)ho(s,o[e],a)}return new Lr({points:s,options:{}})}(t);if("shape"===i)return!0;const s=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:i}=t,n=e.options,s=e.getLabels().length,r=n.reverse?e.max:e.min,o=function(t,e,i){let n;return n="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:Ct(t)?t.value:e.getBaseValue(),n}(i,e,r),a=[];if(n.grid.circular){const t=e.getPointPositionForValue(0,r);return new fo({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(e.getPointPositionForValue(l,o));return a}(t);return function(t){const{scale:e={},fill:i}=t,n=function(t,e){let i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:Ct(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(i,e);if(Mt(n)){const t=e.isHorizontal();return{x:t?n:null,y:t?null:n}}return null}(t)}(t);return s instanceof fo?s:oo(s,n)}function go(t,e,i){const n=po(e),{line:s,scale:r,axis:o}=e,a=s.options,l=a.fill,c=a.backgroundColor,{above:d=c,below:h=c}=l||{};n&&s.points.length&&(ei(t,i),function(t,e){const{line:i,target:n,above:s,below:r,area:o,scale:a}=e,l=i._loop?"angle":e.axis;t.save(),"x"===l&&r!==s&&(mo(t,n,o.top),vo(t,{line:i,target:n,color:s,scale:a,property:l}),t.restore(),t.save(),mo(t,n,o.bottom));vo(t,{line:i,target:n,color:r,scale:a,property:l}),t.restore()}(t,{line:s,target:n,above:d,below:h,area:i,scale:r,axis:o}),ii(t))}function mo(t,e,i){const{segments:n,points:s}=e;let r=!0,o=!1;t.beginPath();for(const a of n){const{start:n,end:l}=a,c=s[n],d=s[so(n,l,s)];r?(t.moveTo(c.x,c.y),r=!1):(t.lineTo(c.x,i),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,i)}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function vo(t,e){const{line:i,target:n,property:s,color:r,scale:o}=e,a=function(t,e,i){const n=t.segments,s=t.points,r=e.points,o=[];for(const a of n){let{start:t,end:n}=a;n=so(t,n,s);const l=no(i,s[t],s[n],a.loop);if(!e.segments){o.push({source:a,target:l,start:s[t],end:s[n]});continue}const c=un(e,l);for(const e of c){const t=no(i,r[e.start],r[e.end],e.loop),n=hn(a,s,t);for(const s of n)o.push({source:s,target:e,start:{[i]:ro(l,t,"start",Math.max)},end:{[i]:ro(l,t,"end",Math.min)}})}}return o}(i,n,s);for(const{source:l,target:c,start:d,end:h}of a){const{style:{backgroundColor:e=r}={}}=l,a=!0!==n;t.save(),t.fillStyle=e,bo(t,o,a&&no(s,d,h)),t.beginPath();const u=!!i.pathSegment(t,l);let f;if(a){u?t.closePath():yo(t,n,h,s);const e=!!n.pathSegment(t,c,{move:u,reverse:!0});f=u&&e,f||yo(t,n,d,s)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function bo(t,e,i){const{top:n,bottom:s}=e.chart.chartArea,{property:r,start:o,end:a}=i||{};"x"===r&&(t.beginPath(),t.rect(o,n,a-o,s-n),t.clip())}function yo(t,e,i,n){const s=e.interpolate(i,n);s&&t.lineTo(s.x,s.y)}var xo={id:"filler",afterDatasetsUpdate(t,e,i){const n=(t.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<n;++o)r=t.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Lr&&(l={visible:t.isDatasetVisible(o),index:o,fill:co(a,o,n),chart:t,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<n;++o)l=s[o],l&&!1!==l.fill&&(l.fill=lo(s,o,i.propagate))},beforeDraw(t,e,i){const n="beforeDraw"===i.drawTime,s=t.getSortedVisibleDatasetMetas(),r=t.chartArea;for(let o=s.length-1;o>=0;--o){const e=s[o].$filler;e&&(e.line.updateControlPoints(r,e.axis),n&&e.fill&&go(t.ctx,e,r))}},beforeDatasetsDraw(t,e,i){if("beforeDatasetsDraw"!==i.drawTime)return;const n=t.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){const e=n[s].$filler;ao(e)&&go(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,i){const n=e.meta.$filler;ao(n)&&"beforeDatasetDraw"===i.drawTime&&go(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wo=(t,e)=>{let{boxHeight:i=e,boxWidth:n=e}=t;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}};class _o extends zs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ot(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,i)=>t.sort(e,i,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const i=t.labels,n=vi(i.font),s=n.size,r=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=wo(i,s);let l,c;e.font=n.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(r,s,o,a)+10):(c=this.maxHeight,l=this._fitCols(r,n,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,n){const{ctx:s,maxWidth:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=n+o;let d=t;s.textAlign="left",s.textBaseline="middle";let h=-1,u=-c;return this.legendItems.forEach(((t,f)=>{const p=i+e/2+s.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>r)&&(d+=c,l[l.length-(f>0?0:1)]=0,u+=c,h++),a[f]={left:0,top:u,row:h,width:p,height:n},l[l.length-1]+=p+o})),d}_fitCols(t,e,i,n){const{ctx:s,maxHeight:r,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=r-t;let d=o,h=0,u=0,f=0,p=0;return this.legendItems.forEach(((t,r)=>{const{itemWidth:g,itemHeight:m}=function(t,e,i,n,s){const r=function(t,e,i,n){let s=t.text;s&&"string"!=typeof s&&(s=s.reduce(((t,e)=>t.length>e.length?t:e)));return e+i.size/2+n.measureText(s).width}(n,t,e,i),o=function(t,e,i){let n=t;"string"!=typeof e.text&&(n=Eo(e,i));return n}(s,n,e.lineHeight);return{itemWidth:r,itemHeight:o}}(i,e,s,t,n);r>0&&u+m+2*o>c&&(d+=h+o,l.push({width:h,height:u}),f+=h+o,p++,h=u=0),a[r]={left:f,top:u,col:p,width:g,height:m},h=Math.max(h,g),u+=m+o})),d+=h,l.push({width:h,height:u}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:n},rtl:s}}=this,r=on(s,this.left,this.width);if(this.isHorizontal()){let s=0,o=De(i,this.left+n,this.right-this.lineWidths[s]);for(const a of e)s!==a.row&&(s=a.row,o=De(i,this.left+n,this.right-this.lineWidths[s])),a.top+=this.top+t+n,a.left=r.leftForLtr(r.x(o),a.width),o+=a.width+n}else{let s=0,o=De(i,this.top+t+n,this.bottom-this.columnSizes[s].height);for(const a of e)a.col!==s&&(s=a.col,o=De(i,this.top+t+n,this.bottom-this.columnSizes[s].height)),a.top=o,a.left+=this.left+n,a.left=r.leftForLtr(r.x(a.left),a.width),o+=a.height+n}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;ei(t,this),this._draw(),ii(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:n}=this,{align:s,labels:r}=t,o=Ge.color,a=on(t.rtl,this.left,this.width),l=vi(r.font),{padding:c}=r,d=l.size,h=d/2;let u;this.drawTitle(),n.textAlign=a.textAlign("left"),n.textBaseline="middle",n.lineWidth=.5,n.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=wo(r,d),m=this.isHorizontal(),v=this._computeTitleHeight();u=m?{x:De(s,this.left+c,this.right-i[0]),y:this.top+c+v,line:0}:{x:this.left+c,y:De(s,this.top+v+c,this.bottom-e[0].height),line:0},an(this.ctx,t.textDirection);const b=g+c;this.legendItems.forEach(((y,x)=>{n.strokeStyle=y.fontColor,n.fillStyle=y.fontColor;const w=n.measureText(y.text).width,_=a.textAlign(y.textAlign||(y.textAlign=r.textAlign)),E=f+h+w;let S=u.x,A=u.y;a.setWidth(this.width),m?x>0&&S+E+c>this.right&&(A=u.y+=b,u.line++,S=u.x=De(s,this.left+c,this.right-i[u.line])):x>0&&A+b>this.bottom&&(S=u.x=S+e[u.line].width+c,u.line++,A=u.y=De(s,this.top+v+c,this.bottom-e[u.line].height));if(function(t,e,i){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;n.save();const s=Tt(i.lineWidth,1);if(n.fillStyle=Tt(i.fillStyle,o),n.lineCap=Tt(i.lineCap,"butt"),n.lineDashOffset=Tt(i.lineDashOffset,0),n.lineJoin=Tt(i.lineJoin,"miter"),n.lineWidth=s,n.strokeStyle=Tt(i.strokeStyle,o),n.setLineDash(Tt(i.lineDash,[])),r.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:s},l=a.xPlus(t,f/2);Ke(n,o,l,e+h,r.pointStyleWidth&&f)}else{const r=e+Math.max((d-p)/2,0),o=a.leftForLtr(t,f),l=gi(i.borderRadius);n.beginPath(),Object.values(l).some((t=>0!==t))?li(n,{x:o,y:r,w:f,h:p,radius:l}):n.rect(o,r,f,p),n.fill(),0!==s&&n.stroke()}n.restore()}(a.x(S),A,y),S=((t,e,i,n)=>t===(n?"left":"right")?i:"center"===t?(e+i)/2:e)(_,S+f+h,m?S+E:this.right,t.rtl),function(t,e,i){ri(n,i.text,t,e+g/2,l,{strikethrough:i.hidden,textAlign:a.textAlign(i.textAlign)})}(a.x(S),A,y),m)u.x+=E+c;else if("string"!=typeof y.text){const t=l.lineHeight;u.y+=Eo(y,t)}else u.y+=b})),ln(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=vi(e.font),n=mi(e.padding);if(!e.display)return;const s=on(t.rtl,this.left,this.width),r=this.ctx,o=e.position,a=i.size/2,l=n.top+a;let c,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,d=De(t.align,d,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+De(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const u=De(o,d,d+h);r.textAlign=s.textAlign(Ae(o)),r.textBaseline="middle",r.strokeStyle=e.color,r.fillStyle=e.color,r.font=i.string,ri(r,e.text,u,c,i)}_computeTitleHeight(){const t=this.options.title,e=vi(t.font),i=mi(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,n,s;if(me(t,this.left,this.right)&&me(e,this.top,this.bottom))for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(n=s[i],me(t,n.left,n.left+n.width)&&me(e,n.top,n.top+n.height))return this.legendItems[i];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,o=(s=i,null!==(n=r)&&null!==s&&n.datasetIndex===s.datasetIndex&&n.index===s.index);r&&!o&&Ot(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Ot(e.onHover,[t,i,this],this)}else i&&Ot(e.onClick,[t,i,this],this);var n,s}}function Eo(t,e){return e*(t.text?t.text.length+.5:0)}var So={id:"legend",_element:_o,start(t,e,i){const n=t.legend=new _o({ctx:t.ctx,options:i,chart:t});ys.configure(t,n,i),ys.addBox(t,n)},stop(t){ys.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,i){const n=t.legend;ys.configure(t,n,i),n.options=i},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,i){const n=e.datasetIndex,s=i.chart;s.isDatasetVisible(n)?(s.hide(n),e.hidden=!0):(s.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(i?0:void 0),c=mi(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:r,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:n||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Ao extends zs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const n=Dt(i.text)?i.text.length:1;this._padding=mi(i.padding);const s=n*vi(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:i,bottom:n,right:s,options:r}=this,o=r.align;let a,l,c,d=0;return this.isHorizontal()?(l=De(o,i,s),c=e+t,a=s-i):("left"===r.position?(l=i+t,c=De(o,n,e),d=-.5*Gt):(l=s-t,c=De(o,e,n),d=.5*Gt),a=n-e),{titleX:l,titleY:c,maxWidth:a,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=vi(e.font),n=i.lineHeight/2+this._padding.top,{titleX:s,titleY:r,maxWidth:o,rotation:a}=this._drawArgs(n);ri(t,e.text,0,0,i,{color:e.color,maxWidth:o,rotation:a,textAlign:Ae(e.align),textBaseline:"middle",translation:[s,r]})}}var Do={id:"title",_element:Ao,start(t,e,i){!function(t,e){const i=new Ao({ctx:t.ctx,options:e,chart:t});ys.configure(t,i,e),ys.addBox(t,i),t.titleBlock=i}(t,i)},stop(t){const e=t.titleBlock;ys.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,i){const n=t.titleBlock;ys.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Co=new WeakMap;var Mo={id:"subtitle",start(t,e,i){const n=new Ao({ctx:t.ctx,options:i,chart:t});ys.configure(t,n,i),ys.addBox(t,n),Co.set(t,n)},stop(t){ys.removeBox(t,Co.get(t)),Co.delete(t)},beforeUpdate(t,e,i){const n=Co.get(t);ys.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ko={average(t){if(!t.length)return!1;let e,i,n=0,s=0,r=0;for(e=0,i=t.length;e<i;++e){const i=t[e].element;if(i&&i.hasValue()){const t=i.tooltipPosition();n+=t.x,s+=t.y,++r}}return{x:n/r,y:s/r}},nearest(t,e){if(!t.length)return!1;let i,n,s,r=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(i=0,n=t.length;i<n;++i){const n=t[i].element;if(n&&n.hasValue()){const t=he(e,n.getCenterPoint());t<a&&(a=t,s=n)}}if(s){const t=s.tooltipPosition();r=t.x,o=t.y}return{x:r,y:o}}};function To(t,e){return e&&(Dt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ro(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Oo(t,e){const{element:i,datasetIndex:n,index:s}=e,r=t.getDatasetMeta(n).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:t,label:o,parsed:r.getParsed(s),raw:t.data.datasets[n].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:n,element:i}}function Po(t,e){const i=t.chart.ctx,{body:n,footer:s,title:r}=t,{boxWidth:o,boxHeight:a}=e,l=vi(e.bodyFont),c=vi(e.titleFont),d=vi(e.footerFont),h=r.length,u=s.length,f=n.length,p=mi(e.padding);let g=p.height,m=0,v=n.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(v+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),v){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(v-f)*l.lineHeight+(v-1)*e.bodySpacing}u&&(g+=e.footerMarginTop+u*d.lineHeight+(u-1)*e.footerSpacing);let b=0;const y=function(t){m=Math.max(m,i.measureText(t).width+b)};return i.save(),i.font=c.string,Pt(t.title,y),i.font=l.string,Pt(t.beforeBody.concat(t.afterBody),y),b=e.displayColors?o+2+e.boxPadding:0,Pt(n,(t=>{Pt(t.before,y),Pt(t.lines,y),Pt(t.after,y)})),b=0,i.font=d.string,Pt(t.footer,y),i.restore(),m+=p.width,{width:m,height:g}}function No(t,e,i,n){const{x:s,width:r}=i,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===n?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),function(t,e,i,n){const{x:s,width:r}=n,o=i.caretSize+i.caretPadding;return"left"===t&&s+r+o>e.width||"right"===t&&s-r-o<0||void 0}(c,t,e,i)&&(c="center"),c}function Io(t,e,i){const n=i.yAlign||e.yAlign||function(t,e){const{y:i,height:n}=e;return i<n/2?"top":i>t.height-n/2?"bottom":"center"}(t,i);return{xAlign:i.xAlign||e.xAlign||No(t,e,i,n),yAlign:n}}function Lo(t,e,i,n){const{caretSize:s,caretPadding:r,cornerRadius:o}=t,{xAlign:a,yAlign:l}=i,c=s+r,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:f}=gi(o);let p=function(t,e){let{x:i,width:n}=t;return"right"===e?i-=n:"center"===e&&(i-=n/2),i}(e,a);const g=function(t,e,i){let{y:n,height:s}=t;return"top"===e?n+=i:n-="bottom"===e?s+i:s/2,n}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(d,u)+s:"right"===a&&(p+=Math.max(h,f)+s),{x:ge(p,0,n.width-e.width),y:ge(g,0,n.height-e.height)}}function zo(t,e,i){const n=mi(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function Ho(t){return To([],Ro(t))}function Fo(t,e){const i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}const Vo={beforeTitle:Et,title(t){if(t.length>0){const e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:Et,beforeBody:Et,beforeLabel:Et,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const i=t.formattedValue;return At(i)||(e+=i),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Et,afterBody:Et,beforeFooter:Et,footer:Et,afterFooter:Et};function Bo(t,e,i,n){const s=t[e].call(i,n);return void 0===s?Vo[e].call(i,n):s}class jo extends zs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),n=i.enabled&&e.options.animation&&i.animations,s=new wn(this.chart,n);return n._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,i=this._tooltipItems,yi(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}getTitle(t,e){const{callbacks:i}=e,n=Bo(i,"beforeTitle",this,t),s=Bo(i,"title",this,t),r=Bo(i,"afterTitle",this,t);let o=[];return o=To(o,Ro(n)),o=To(o,Ro(s)),o=To(o,Ro(r)),o}getBeforeBody(t,e){return Ho(Bo(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,n=[];return Pt(t,(t=>{const e={before:[],lines:[],after:[]},s=Fo(i,t);To(e.before,Ro(Bo(s,"beforeLabel",this,t))),To(e.lines,Bo(s,"label",this,t)),To(e.after,Ro(Bo(s,"afterLabel",this,t))),n.push(e)})),n}getAfterBody(t,e){return Ho(Bo(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,n=Bo(i,"beforeFooter",this,t),s=Bo(i,"footer",this,t),r=Bo(i,"afterFooter",this,t);let o=[];return o=To(o,Ro(n)),o=To(o,Ro(s)),o=To(o,Ro(r)),o}_createItems(t){const e=this._active,i=this.chart.data,n=[],s=[],r=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(Oo(this.chart,e[o]));return t.filter&&(l=l.filter(((e,n,s)=>t.filter(e,n,s,i)))),t.itemSort&&(l=l.sort(((e,n)=>t.itemSort(e,n,i)))),Pt(l,(e=>{const i=Fo(t.callbacks,e);n.push(Bo(i,"labelColor",this,e)),s.push(Bo(i,"labelPointStyle",this,e)),r.push(Bo(i,"labelTextColor",this,e))})),this.labelColors=n,this.labelPointStyles=s,this.labelTextColors=r,this.dataPoints=l,l}update(t,e){const i=this.options.setContext(this.getContext()),n=this._active;let s,r=[];if(n.length){const t=ko[i.position].call(this,n,this._eventPosition);r=this._createItems(i),this.title=this.getTitle(r,i),this.beforeBody=this.getBeforeBody(r,i),this.body=this.getBody(r,i),this.afterBody=this.getAfterBody(r,i),this.footer=this.getFooter(r,i);const e=this._size=Po(this,i),o=Object.assign({},t,e),a=Io(this.chart,i,o),l=Lo(i,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,s={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=r,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,n){const s=this.getCaretPosition(t,i,n);e.lineTo(s.x1,s.y1),e.lineTo(s.x2,s.y2),e.lineTo(s.x3,s.y3)}getCaretPosition(t,e,i){const{xAlign:n,yAlign:s}=this,{caretSize:r,cornerRadius:o}=i,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:d}=gi(o),{x:h,y:u}=t,{width:f,height:p}=e;let g,m,v,b,y,x;return"center"===s?(y=u+p/2,"left"===n?(g=h,m=g-r,b=y+r,x=y-r):(g=h+f,m=g+r,b=y-r,x=y+r),v=g):(m="left"===n?h+Math.max(a,c)+r:"right"===n?h+f-Math.max(l,d)-r:this.caretX,"top"===s?(b=u,y=b-r,g=m-r,v=m+r):(b=u+p,y=b+r,g=m+r,v=m-r),x=b),{x1:g,x2:m,x3:v,y1:b,y2:y,y3:x}}drawTitle(t,e,i){const n=this.title,s=n.length;let r,o,a;if(s){const l=on(i.rtl,this.x,this.width);for(t.x=zo(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",r=vi(i.titleFont),o=i.titleSpacing,e.fillStyle=i.titleColor,e.font=r.string,a=0;a<s;++a)e.fillText(n[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+o,a+1===s&&(t.y+=i.titleMarginBottom-o)}}_drawColorBox(t,e,i,n,s){const r=this.labelColors[i],o=this.labelPointStyles[i],{boxHeight:a,boxWidth:l,boxPadding:c}=s,d=vi(s.bodyFont),h=zo(this,"left",s),u=n.x(h),f=a<d.lineHeight?(d.lineHeight-a)/2:0,p=e.y+f;if(s.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},i=n.leftForLtr(u,l)+l/2,c=p+a/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Je(t,e,i,c),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Je(t,e,i,c)}else{t.lineWidth=Ct(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const e=n.leftForLtr(u,l-c),i=n.leftForLtr(n.xPlus(u,1),l-c-2),o=gi(r.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=s.multiKeyBackground,li(t,{x:e,y:p,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),li(t,{x:i,y:p+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(e,p,l,a),t.strokeRect(e,p,l,a),t.fillStyle=r.backgroundColor,t.fillRect(i,p+1,l-2,a-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:n}=this,{bodySpacing:s,bodyAlign:r,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=i,d=vi(i.bodyFont);let h=d.lineHeight,u=0;const f=on(i.rtl,this.x,this.width),p=function(i){e.fillText(i,f.x(t.x+u),t.y+h/2),t.y+=h+s},g=f.textAlign(r);let m,v,b,y,x,w,_;for(e.textAlign=r,e.textBaseline="middle",e.font=d.string,t.x=zo(this,g,i),e.fillStyle=i.bodyColor,Pt(this.beforeBody,p),u=o&&"right"!==g?"center"===r?l/2+c:l+2+c:0,y=0,w=n.length;y<w;++y){for(m=n[y],v=this.labelTextColors[y],e.fillStyle=v,Pt(m.before,p),b=m.lines,o&&b.length&&(this._drawColorBox(e,t,y,f,i),h=Math.max(d.lineHeight,a)),x=0,_=b.length;x<_;++x)p(b[x]),h=d.lineHeight;Pt(m.after,p)}u=0,h=d.lineHeight,Pt(this.afterBody,p),t.y-=s}drawFooter(t,e,i){const n=this.footer,s=n.length;let r,o;if(s){const a=on(i.rtl,this.x,this.width);for(t.x=zo(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=a.textAlign(i.footerAlign),e.textBaseline="middle",r=vi(i.footerFont),e.fillStyle=i.footerColor,e.font=r.string,o=0;o<s;++o)e.fillText(n[o],a.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+i.footerSpacing}}drawBackground(t,e,i,n){const{xAlign:s,yAlign:r}=this,{x:o,y:a}=t,{width:l,height:c}=i,{topLeft:d,topRight:h,bottomLeft:u,bottomRight:f}=gi(n.cornerRadius);e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(o+d,a),"top"===r&&this.drawCaret(t,e,i,n),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===r&&"right"===s&&this.drawCaret(t,e,i,n),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===r&&this.drawCaret(t,e,i,n),e.lineTo(o+u,a+c),e.quadraticCurveTo(o,a+c,o,a+c-u),"center"===r&&"left"===s&&this.drawCaret(t,e,i,n),e.lineTo(o,a+d),e.quadraticCurveTo(o,a,o+d,a),e.closePath(),e.fill(),n.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,n=i&&i.x,s=i&&i.y;if(n||s){const i=ko[t.position].call(this,this._active,this._eventPosition);if(!i)return;const r=this._size=Po(this,t),o=Object.assign({},i,this._size),a=Io(e,t,o),l=Lo(t,o,a,e);n._to===l.x&&s._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=r.width,this.height=r.height,this.caretX=i.x,this.caretY=i.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const n={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const r=mi(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=i,this.drawBackground(s,t,n,e),an(t,e.textDirection),s.y+=r.top,this.drawTitle(s,t,e),this.drawBody(s,t,e),this.drawFooter(s,t,e),ln(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,n=t.map((({datasetIndex:t,index:e})=>{const i=this.chart.getDatasetMeta(t);if(!i)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:i.data[e],index:e}})),s=!Nt(i,n),r=this._positionChanged(n,e);(s||r)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const n=this.options,s=this._active||[],r=this._getActiveElements(t,s,e,i),o=this._positionChanged(r,t),a=e||!Nt(r,s)||o;return a&&(this._active=r,(n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,i,n){const s=this.options;if("mouseout"===t.type)return[];if(!n)return e;const r=this.chart.getElementsAtEventForMode(t,s.mode,s,i);return s.reverse&&r.reverse(),r}_positionChanged(t,e){const{caretX:i,caretY:n,options:s}=this,r=ko[s.position].call(this,t,e);return!1!==r&&(i!==r.x||n!==r.y)}}d(jo,"positioners",ko);var Wo={id:"tooltip",_element:jo,positioners:ko,afterInit(t,e,i){i&&(t.tooltip=new jo({chart:t,options:i}))},beforeUpdate(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const i={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",c(l({},i),{cancelable:!0})))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",i)}},afterEvent(t,e){if(t.tooltip){const i=e.replay;t.tooltip.handleEvent(e.event,i,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Vo},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Uo=Object.freeze({__proto__:null,Colors:Kr,Decimation:io,Filler:xo,Legend:So,SubTitle:Mo,Title:Do,Tooltip:Wo});const $o=(t,e,i,n)=>("string"==typeof e?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i);function Yo(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Go extends qs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:i,label:n}of e)t[i]===n&&t.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(At(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:function(t,e,i,n){const s=t.indexOf(e);return-1===s?$o(t,e,i,n):s!==t.lastIndexOf(e)?i:s}(i,t,Tt(e,t),this._addedLabels),((t,e)=>null===t?null:ge(Math.round(t),0,e))(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:n}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(i=0),e||(n=this.getLabels().length-1)),this.min=i,this.max=n}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,n=[];let s=this.getLabels();s=0===t&&e===s.length-1?s:s.slice(t,e+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let r=t;r<=e;r++)n.push({value:r});return n}getLabelForValue(t){return Yo.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!=typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function qo(t,e){const i=[],{bounds:n,step:s,min:r,max:o,precision:a,count:l,maxTicks:c,maxDigits:d,includeBounds:h}=t,u=s||1,f=c-1,{min:p,max:g}=e,m=!At(r),v=!At(o),b=!At(l),y=(g-p)/(d+1);let x,w,_,E,S=se((g-p)/f/u)*u;if(S<1e-14&&!m&&!v)return[{value:p},{value:g}];E=Math.ceil(g/S)-Math.floor(p/S),E>f&&(S=se(E*S/f/u)*u),At(a)||(x=Math.pow(10,a),S=Math.ceil(S*x)/x),"ticks"===n?(w=Math.floor(p/S)*S,_=Math.ceil(g/S)*S):(w=p,_=g),m&&v&&s&&function(t,e){const i=Math.round(t);return i-e<=t&&i+e>=t}((o-r)/s,S/1e3)?(E=Math.round(Math.min((o-r)/S,c)),S=(o-r)/E,w=r,_=o):b?(w=m?r:w,_=v?o:_,E=l-1,S=(_-w)/E):(E=(_-w)/S,E=ne(E,Math.round(E),S/1e3)?Math.round(E):Math.ceil(E));const A=Math.max(ce(S),ce(w));x=Math.pow(10,At(a)?A:a),w=Math.round(w*x)/x,_=Math.round(_*x)/x;let D=0;for(m&&(h&&w!==r?(i.push({value:r}),w<r&&D++,ne(Math.round((w+D*S)*x)/x,r,Qo(r,y,t))&&D++):w<r&&D++);D<E;++D)i.push({value:Math.round((w+D*S)*x)/x});return v&&h&&_!==o?i.length&&ne(i[i.length-1].value,o,Qo(o,y,t))?i[i.length-1].value=o:i.push({value:o}):v&&_!==o||i.push({value:_}),i}function Qo(t,e,{horizontal:i,minRotation:n}){const s=ae(n),r=(i?Math.sin(s):Math.cos(s))||.001,o=.75*e*(""+t).length;return Math.min(e/r,o)}d(Go,"id","category"),d(Go,"defaults",{ticks:{callback:Yo}});class Zo extends qs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return At(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:n,max:s}=this;const r=t=>n=e?n:t,o=t=>s=i?s:t;if(t){const t=ie(n),e=ie(s);t<0&&e<0?o(0):t>0&&e>0&&r(0)}if(n===s){let e=0===s?1:Math.abs(.05*s);o(s+e),t||r(n-e)}this.min=n,this.max=s}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:i,stepSize:n}=t;return n?(e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,e>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${e} ticks. Limiting to 1000.`),e=1e3)):(e=this.computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const n=qo({maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&oe(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const n=(i-e)/Math.max(t.length-1,1)/2;e-=n,i+=n}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Fe(t,this.chart.options.locale,this.options.ticks.format)}}class Xo extends Zo{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Mt(t)?t:0,this.max=Mt(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ae(this.options.ticks.minRotation),n=(t?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/n))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}d(Xo,"id","linear"),d(Xo,"defaults",{ticks:{callback:Be.formatters.numeric}});const Jo=t=>Math.floor(ee(t)),Ko=(t,e)=>Math.pow(10,Jo(t)+e);function ta(t){return 1===t/Math.pow(10,Jo(t))}function ea(t,e,i){const n=Math.pow(10,i),s=Math.floor(t/n);return Math.ceil(e/n)-s}function ia(t,{min:e,max:i}){e=kt(t.min,e);const n=[],s=Jo(e);let r=function(t,e){let i=Jo(e-t);for(;ea(t,e,i)>10;)i++;for(;ea(t,e,i)<10;)i--;return Math.min(i,Jo(t))}(e,i),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((e-l)*o)/o,d=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-d)/Math.pow(10,r)),u=kt(t.min,Math.round((l+d+h*Math.pow(10,r))*o)/o);for(;u<i;)n.push({value:u,major:ta(u),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),u=Math.round((l+d+h*Math.pow(10,r))*o)/o;const f=kt(t.max,u);return n.push({value:f,major:ta(f),significand:h}),n}class na extends qs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Zo.prototype.parse.apply(this,[t,e]);if(0!==i)return Mt(i)&&i>0?i:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Mt(t)?Math.max(0,t):null,this.max=Mt(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Mt(this._userMin)&&(this.min=t===Ko(this.min,0)?Ko(this.min,-1):Ko(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,n=this.max;const s=e=>i=t?i:e,r=t=>n=e?n:t;i===n&&(i<=0?(s(1),r(10)):(s(Ko(i,-1)),r(Ko(n,1)))),i<=0&&s(Ko(n,-1)),n<=0&&r(Ko(i,1)),this.min=i,this.max=n}buildTicks(){const t=this.options,e=ia({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&oe(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":Fe(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ee(t),this._valueRange=ee(this.max)-ee(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ee(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function sa(t){const e=t.ticks;if(e.display&&t.display){const t=mi(e.backdropPadding);return Tt(e.font&&e.font.size,Ge.font.size)+t.height}return 0}function ra(t,e,i,n,s){return t===n||t===s?{start:e-i/2,end:e+i/2}:t<n||t>s?{start:e-i,end:e}:{start:e,end:e+i}}function oa(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],s=[],r=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Gt/r:0;for(let h=0;h<r;h++){const r=o.setContext(t.getPointLabelContext(h));s[h]=r.padding;const u=t.getPointPosition(h,t.drawingArea+s[h],a),f=vi(r.font),p=(l=t.ctx,c=f,d=Dt(d=t._pointLabels[h])?d:[d],{w:Qe(l,c.string,d),h:d.length*c.lineHeight});n[h]=p;const g=fe(t.getIndexAngle(h)+a),m=Math.round(le(g));aa(i,e,g,ra(m,u.x,p.w,0,180),ra(m,u.y,p.h,90,270))}var l,c,d;t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){const n=[],s=t._pointLabels.length,r=t.options,o=sa(r)/2,a=t.drawingArea,l=r.pointLabels.centerPointLabels?Gt/s:0;for(let c=0;c<s;c++){const s=t.getPointPosition(c,a+o+i[c],l),r=Math.round(le(fe(s.angle+Jt))),d=e[c],h=da(s.y,d.h,r),u=la(r),f=ca(s.x,d.w,u);n.push({x:s.x,y:h,textAlign:u,left:f,top:h,right:f+d.w,bottom:h+d.h})}return n}(t,n,s)}function aa(t,e,i,n,s){const r=Math.abs(Math.sin(i)),o=Math.abs(Math.cos(i));let a=0,l=0;n.start<e.l?(a=(e.l-n.start)/r,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/r,t.r=Math.max(t.r,e.r+a)),s.start<e.t?(l=(e.t-s.start)/o,t.t=Math.min(t.t,e.t-l)):s.end>e.b&&(l=(s.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function la(t){return 0===t||180===t?"center":t<180?"left":"right"}function ca(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function da(t,e,i){return 90===i||270===i?t-=e/2:(i>270||i<90)&&(t-=e),t}function ha(t,e,i,n){const{ctx:s}=t;if(i)s.arc(t.xCenter,t.yCenter,e,0,qt);else{let i=t.getPointPosition(0,e);s.moveTo(i.x,i.y);for(let r=1;r<n;r++)i=t.getPointPosition(r,e),s.lineTo(i.x,i.y)}}d(na,"id","logarithmic"),d(na,"defaults",{ticks:{callback:Be.formatters.logarithmic,major:{enabled:!0}}});class ua extends Zo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=mi(sa(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Mt(t)&&!isNaN(t)?t:0,this.max=Mt(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/sa(this.options))}generateTickLabels(t){Zo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const i=Ot(this.options.pointLabels.callback,[t,e],this);return i||0===i?i:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?oa(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}getIndexAngle(t){return fe(t*(qt/(this._pointLabels.length||1))+ae(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(At(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(At(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return function(t,e,i){return yi(t,{label:i,index:e,type:"pointLabel"})}(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const n=this.getIndexAngle(t)-Jt+i;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter,angle:n}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:n,bottom:s}=this._pointLabelItems[t];return{left:e,top:i,right:n,bottom:s}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),ha(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:n,border:s}=e,r=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:i,options:{pointLabels:n}}=t;for(let s=e-1;s>=0;s--){const e=n.setContext(t.getPointLabelContext(s)),r=vi(e.font),{x:o,y:a,textAlign:l,left:c,top:d,right:h,bottom:u}=t._pointLabelItems[s],{backdropColor:f}=e;if(!At(f)){const t=gi(e.borderRadius),n=mi(e.backdropPadding);i.fillStyle=f;const s=c-n.left,r=d-n.top,o=h-c+n.width,a=u-d+n.height;Object.values(t).some((t=>0!==t))?(i.beginPath(),li(i,{x:s,y:r,w:o,h:a,radius:t}),i.fill()):i.fillRect(s,r,o,a)}ri(i,t._pointLabels[s],o,a+r.lineHeight/2,r,{color:e.color,textAlign:l,textBaseline:"middle"})}}(this,r),n.display&&this.ticks.forEach(((t,e)=>{if(0!==e){a=this.getDistanceFromCenterForValue(t.value);const i=this.getContext(e),o=n.setContext(i),l=s.setContext(i);!function(t,e,i,n,s){const r=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!n||!a||!l||i<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),ha(t,i,o,n),r.closePath(),r.stroke(),r.restore())}(this,o,a,r,l)}})),i.display){for(t.save(),o=r-1;o>=0;o--){const n=i.setContext(this.getPointLabelContext(o)),{color:s,lineWidth:r}=n;r&&s&&(t.lineWidth=r,t.strokeStyle=s,t.setLineDash(n.borderDash),t.lineDashOffset=n.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const n=this.getIndexAngle(0);let s,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(n),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((n,o)=>{if(0===o&&!e.reverse)return;const a=i.setContext(this.getContext(o)),l=vi(a.font);if(s=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,r=t.measureText(n.label).width,t.fillStyle=a.backdropColor;const e=mi(a.backdropPadding);t.fillRect(-r/2-e.left,-s-l.size/2-e.top,r+e.width,l.size+e.height)}ri(t,n.label,0,-s,l,{color:a.color})})),t.restore()}drawTitle(){}}d(ua,"id","radialLinear"),d(ua,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Be.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),d(ua,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),d(ua,"descriptors",{angleLines:{_fallback:"grid"}});const fa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},pa=Object.keys(fa);function ga(t,e){return t-e}function ma(t,e){if(At(e))return null;const i=t._adapter,{parser:n,round:s,isoWeekday:r}=t._parseOpts;let o=e;return"function"==typeof n&&(o=n(o)),Mt(o)||(o="string"==typeof n?i.parse(o,n):i.parse(o)),null===o?null:(s&&(o="week"!==s||!re(r)&&!0!==r?i.startOf(o,s):i.startOf(o,"isoWeek",r)),+o)}function va(t,e,i,n){const s=pa.length;for(let r=pa.indexOf(t);r<s-1;++r){const t=fa[pa[r]],s=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((i-e)/(s*t.size))<=n)return pa[r]}return pa[s-1]}function ba(t,e,i){if(i){if(i.length){const{lo:n,hi:s}=ve(i,e);t[i[n]>=e?i[n]:i[s]]=!0}}else t[e]=!0}function ya(t,e,i){const n=[],s={},r=e.length;let o,a;for(o=0;o<r;++o)a=e[o],s[a]=o,n.push({value:a,major:!1});return 0!==r&&i?function(t,e,i,n){const s=t._adapter,r=+s.startOf(e[0].value,n),o=e[e.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,n))l=i[a],l>=0&&(e[l].major=!0);return e}(t,n,s,i):n}class xa extends qs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),n=this._adapter=new Kn(t.adapters.date);n.init(e),Ft(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:ma(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:n,max:s,minDefined:r,maxDefined:o}=this.getUserBounds();function a(t){r||isNaN(t.min)||(n=Math.min(n,t.min)),o||isNaN(t.max)||(s=Math.max(s,t.max))}r&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),n=Mt(n)&&!isNaN(n)?n:+e.startOf(Date.now(),i),s=Mt(s)&&!isNaN(s)?s:+e.endOf(Date.now(),i)+1,this.min=Math.min(n,s-1),this.max=Math.max(n+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]);const s=this.min,r=function(t,e,i){let n=0,s=t.length;for(;n<s&&t[n]<e;)n++;for(;s>n&&t[s-1]>i;)s--;return n>0||s<t.length?t.slice(n,s):t}(n,s,this.max);return this._unit=e.unit||(i.autoSkip?va(e.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(t,e,i,n,s){for(let r=pa.length-1;r>=pa.indexOf(i);r--){const i=pa[r];if(fa[i].common&&t._adapter.diff(s,n,i)>=e-1)return i}return pa[i?pa.indexOf(i):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(let e=pa.indexOf(t)+1,i=pa.length;e<i;++e)if(fa[pa[e]].common)return pa[e]}(this._unit):void 0,this.initOffsets(n),t.reverse&&r.reverse(),ya(this,r,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(t=[]){let e,i,n=0,s=0;this.options.offset&&t.length&&(e=this.getDecimalForValue(t[0]),n=1===t.length?1-e:(this.getDecimalForValue(t[1])-e)/2,i=this.getDecimalForValue(t[t.length-1]),s=1===t.length?i:(i-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;n=ge(n,0,r),s=ge(s,0,r),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,e=this.min,i=this.max,n=this.options,s=n.time,r=s.unit||va(s.minUnit,e,i,this._getLabelCapacity(e)),o=Tt(n.ticks.stepSize,1),a="week"===r&&s.isoWeekday,l=re(a)||!0===a,c={};let d,h,u=e;if(l&&(u=+t.startOf(u,"isoWeek",a)),u=+t.startOf(u,l?"day":r),t.diff(i,e,r)>1e5*o)throw new Error(e+" and "+i+" are too far apart with stepSize of "+o+" "+r);const f="data"===n.ticks.source&&this.getDataTimestamps();for(d=u,h=0;d<i;d=+t.add(d,o,r),h++)ba(c,d,f);return d!==i&&"ticks"!==n.bounds&&1!==h||ba(c,d,f),Object.keys(c).sort(((t,e)=>t-e)).map((t=>+t))}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const i=this.options.time.displayFormats,n=this._unit,s=e||i[n];return this._adapter.format(t,s)}_tickFormatFunction(t,e,i,n){const s=this.options,r=s.ticks.callback;if(r)return Ot(r,[t,e,i],this);const o=s.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],d=l&&o[l],h=i[e],u=l&&d&&h&&h.major;return this._adapter.format(t,n||(u?d:c))}generateTickLabels(t){let e,i,n;for(e=0,i=t.length;e<i;++e)n=t[e],n.label=this._tickFormatFunction(n.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,n=ae(this.isHorizontal()?e.maxRotation:e.minRotation),s=Math.cos(n),r=Math.sin(n),o=this._resolveTickFontOptions(0).size;return{w:i*s+o*r,h:i*r+o*s}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,n=i[e.unit]||i.millisecond,s=this._tickFormatFunction(t,0,ya(this,[t],this._majorUnit),n),r=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,i=this._cache.data||[];if(i.length)return i;const n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const n=this.getLabels();for(e=0,i=n.length;e<i;++e)t.push(ma(this,n[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return _e(t.sort(ga))}}function wa(t,e,i){let n,s,r,o,a=0,l=t.length-1;i?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=be(t,"pos",e)),({pos:n,time:r}=t[a]),({pos:s,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=be(t,"time",e)),({time:n,pos:r}=t[a]),({time:s,pos:o}=t[l]));const c=s-n;return c?r+(o-r)*(e-n)/c:r}d(xa,"id","time"),d(xa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class _a extends xa{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=wa(e,this.min),this._tableRange=wa(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,n=[],s=[];let r,o,a,l,c;for(r=0,o=t.length;r<o;++r)l=t[r],l>=e&&l<=i&&n.push(l);if(n.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(r=0,o=n.length;r<o;++r)c=n[r+1],a=n[r-1],l=n[r],Math.round((c+a)/2)!==l&&s.push({time:l,pos:r/(o-1)});return s}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return t=e.length&&i.length?this.normalize(e.concat(i)):e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(wa(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return wa(this._table,i*this._tableRange+this._minPos,!0)}}d(_a,"id","timeseries"),d(_a,"defaults",xa.defaults);const Ea=[Zn,Yr,Uo,Object.freeze({__proto__:null,CategoryScale:Go,LinearScale:Xo,LogarithmicScale:na,RadialLinearScale:ua,TimeScale:xa,TimeSeriesScale:_a})];wr.register(...Ea);const Sa={class:"flex justify-between card-header"},Aa=v("h3",null,"Chartjs",-1),Da={class:"bg-gray-800"},Ca=h({__name:"Chart",setup(t){const e=u();return f((()=>{(()=>{const t=e.value.getContext("2d");new wr(t,{type:"bar",data:{labels:["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",
// tension: 0.4,
borderWidth:0,borderRadius:4,borderSkipped:!1,backgroundColor:"#fff",data:[450,200,100,220,500,100,400,230,500],maxBarThickness:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},interaction:{intersect:!1,mode:"index"},scales:{y:{grid:{
// drawBorder: false,
display:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{
// suggestedMin: 0,
// suggestedMax: 500,
// beginAtZero: true,
padding:15,font:{size:14,family:"Open Sans",style:"normal",lineHeight:2},color:"#fff"}},x:{grid:{
// drawBorder: false,
display:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{display:!1}}}}})})()})),(t,i)=>{const n=N,s=P;return p(),g(s,{class:"mb-4"},{header:m((()=>[v("div",Sa,[Aa,b(n,{type:"primary",href:"https://www.chartjs.org/docs/latest/",target:"_blank"},{default:m((()=>[y(" To ChartJs ")])),_:1})])])),default:m((()=>[v("div",Da,[v("canvas",{ref_key:"chatCanvas",ref:e},null,512)])])),_:1})}}});var Ma,ka,Ta,Ra=[],Oa=[],Pa=I.__b,Na=I.__r,Ia=I.diffed,La=I.__c,za=I.unmount;function Ha(){for(var t;t=Ra.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ba),t.__H.__h.forEach(ja),t.__H.__h=[]}catch(yv){t.__H.__h=[],I.__e(yv,t.__v)}}I.__b=function(t){Ma=null,Pa&&Pa(t)},I.__r=function(t){Na&&Na(t);var e=(Ma=t.__c).__H;e&&(ka===Ma?(e.__h=[],Ma.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.__V=Oa,t.__N=t.i=void 0}))):(e.__h.forEach(Ba),e.__h.forEach(ja),e.__h=[])),ka=Ma},I.diffed=function(t){Ia&&Ia(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==Ra.push(e)&&Ta===I.requestAnimationFrame||((Ta=I.requestAnimationFrame)||Va)(Ha)),e.__H.__.forEach((function(t){t.i&&(t.__H=t.i),t.__V!==Oa&&(t.__=t.__V),t.i=void 0,t.__V=Oa}))),ka=Ma=null},I.__c=function(t,e){e.some((function(t){try{t.__h.forEach(Ba),t.__h=t.__h.filter((function(t){return!t.__||ja(t)}))}catch(i){e.some((function(t){t.__h&&(t.__h=[])})),e=[],I.__e(i,t.__v)}})),La&&La(t,e)},I.unmount=function(t){za&&za(t);var e,i=t.__c;i&&i.__H&&(i.__H.__.forEach((function(t){try{Ba(t)}catch(i){e=i}})),i.__H=void 0,e&&I.__e(e,i.__v))};var Fa="function"==typeof requestAnimationFrame;function Va(t){var e,i=function(){clearTimeout(n),Fa&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(i,100);Fa&&(e=requestAnimationFrame(i))}function Ba(t){var e=Ma,i=t.__c;"function"==typeof i&&(t.__c=void 0,i()),Ma=e}function ja(t){var e=Ma;t.__c=t.__(),Ma=e}function Wa(t,e){for(var i in t)if("__source"!==i&&!(i in e))return!0;for(var n in e)if("__source"!==n&&t[n]!==e[n])return!0;return!1}function Ua(t){this.props=t}(Ua.prototype=new L).isPureReactComponent=!0,Ua.prototype.shouldComponentUpdate=function(t,e){return Wa(this.props,t)||Wa(this.state,e)};var $a=I.__b;I.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),$a&&$a(t)};var Ya=I.__e;I.__e=function(t,e,i,n){if(t.then)for(var s,r=e;r=r.__;)if((s=r.__c)&&s.__c)return null==e.__e&&(e.__e=i.__e,e.__k=i.__k),s.__c(t,e);Ya(t,e,i,n)};var Ga=I.unmount;function qa(t,e,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=function(t,e){for(var i in e)t[i]=e[i];return t}({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return qa(t,e,i)}))),t}function Qa(t,e,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return Qa(t,e,i)})),t.__c&&t.__c.__P===e&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}function Za(){this.__u=0,this.t=null,this.__b=null}function Xa(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Ja(){this.u=null,this.o=null}I.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),Ga&&Ga(t)},(Za.prototype=new L).__c=function(t,e){var i=e.__c,n=this;null==n.t&&(n.t=[]),n.t.push(i);var s=Xa(n.__v),r=!1,o=function(){r||(r=!0,i.__R=null,s?s(a):a())};i.__R=o;var a=function(){if(!--n.__u){if(n.state.__a){var t=n.state.__a;n.__v.__k[0]=Qa(t,t.__c.__P,t.__c.__O)}var e;for(n.setState({__a:n.__b=null});e=n.t.pop();)e.forceUpdate()}},l=!0===e.__h;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),t.then(o,o)},Za.prototype.componentWillUnmount=function(){this.t=[]},Za.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var i=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=qa(this.__b,i,n.__O=n.__P)}this.__b=null}var s=e.__a&&z(H,null,t.fallback);return s&&(s.__h=null),[z(H,null,e.__a?null:t.children),s]};var Ka=function(t,e,i){if(++i[1]===i[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(i=t.u;i;){for(;i.length>3;)i.pop()();if(i[1]<i[0])break;t.u=i=i[2]}};function tl(t){return this.getChildContext=function(){return t.context},t.children}function el(t){var e=this,i=t.i;e.componentWillUnmount=function(){V(null,e.l),e.l=null,e.i=null},e.i&&e.i!==i&&e.componentWillUnmount(),t.__v?(e.l||(e.i=i,e.l={nodeType:1,parentNode:i,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,i){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),V(z(tl,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(Ja.prototype=new L).__a=function(t){var e=this,i=Xa(e.__v),n=e.o.get(t);return n[0]++,function(s){var r=function(){e.props.revealOrder?(n.push(s),Ka(e,t,n)):s()};i?i(r):r()}},Ja.prototype.render=function(t){this.u=null,this.o=new Map;var e=F(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var i=e.length;i--;)this.o.set(e[i],this.u=[1,0,this.u]);return t.children},Ja.prototype.componentDidUpdate=Ja.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,i){Ka(t,i,e)}))};var il="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,nl=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,sl="undefined"!=typeof document,rl=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};L.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(L.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var ol=I.event;function al(){}function ll(){return this.cancelBubble}function cl(){return this.defaultPrevented}I.event=function(t){return ol&&(t=ol(t)),t.persist=al,t.isPropagationStopped=ll,t.isDefaultPrevented=cl,t.nativeEvent=t};var dl={configurable:!0,get:function(){return this.class}},hl=I.vnode;I.vnode=function(t){var e=t.type,i=t.props,n=i;if("string"==typeof e){var s=-1===e.indexOf("-");for(var r in n={},i){var o=i[r];sl&&"children"===r&&"noscript"===e||"value"===r&&"defaultValue"in i&&null==o||("defaultValue"===r&&"value"in i&&null==i.value?r="value":"download"===r&&!0===o?o="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+e)&&!rl(i.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():s&&nl.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===o&&(o=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),n[r]&&(r="oninputCapture")),n[r]=o)}"select"==e&&n.multiple&&Array.isArray(n.value)&&(n.value=F(i.children).forEach((function(t){t.props.selected=-1!=n.value.indexOf(t.props.value)}))),"select"==e&&null!=n.defaultValue&&(n.value=F(i.children).forEach((function(t){t.props.selected=n.multiple?-1!=n.defaultValue.indexOf(t.props.value):n.defaultValue==t.props.value}))),t.props=n,i.class!=i.className&&(dl.enumerable="className"in i,null!=i.className&&(n.class=i.className),Object.defineProperty(n,"className",dl))}t.$$typeof=il,hl&&hl(t)};var ul=I.__r;I.__r=function(t){ul&&ul(t),t.__c};const fl=[],pl=new WeakMap;function gl(t){t&&"undefined"!=typeof document&&fl.push(ml(document.head,t))}function ml(t,e){const i=document.createElement("style"),n=function(){void 0===vl&&(vl=function(){const t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");const e=document.querySelector("script[nonce]");if(e)return e.nonce||"";return""}());return vl}();return n&&(i.nonce=n),i.innerText=e,t.appendChild(i),i}let vl;"undefined"!=typeof document&&pl.set(document,!0);class bl{constructor(t){this.drainedOption=t,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(t){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==t?this.tryDrain():this.timeoutId=setTimeout(
// NOT OPTIMAL! TODO: look at debounce
this.tryDrain.bind(this),t))}pause(t=""){let{pauseDepths:e}=this;e[t]=(e[t]||0)+1,this.clearTimeout()}resume(t="",e){let{pauseDepths:i}=this;if(t in i){if(e)delete i[t];else{i[t]-=1,i[t]<=0&&delete i[t]}this.tryDrain()}}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function yl(t){t.parentNode&&t.parentNode.removeChild(t)}function xl(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(wl(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null}function wl(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}const _l=/(top|left|right|bottom|width|height)$/i;function El(t,e){for(let i in e)Sl(t,i,e[i])}function Sl(t,e,i){null==i?t.style[e]="":"number"==typeof i&&_l.test(e)?t.style[e]=`${i}px`:t.style[e]=i}function Al(t){var e,i;return null!==(i=null===(e=t.composedPath)||void 0===e?void 0:e.call(t)[0])&&void 0!==i?i:t.target}let Dl=0;function Cl(){return Dl+=1,"fc-dom-"+Dl}function Ml(t){t.preventDefault()}function kl(t,e,i,n){let s=function(t,e){return i=>{let n=xl(i.target,t);n&&e.call(n,i,n)}}(i,n);return t.addEventListener(e,s),()=>{t.removeEventListener(e,s)}}const Tl=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Rl(t){return Object.assign({onClick:t},Ol(t))}function Ol(t){return{tabIndex:0,onKeyDown(e){"Enter"!==e.key&&" "!==e.key||(t(e),e.preventDefault())}}}let Pl=0;function Nl(){return Pl+=1,String(Pl)}function Il(){document.body.classList.add("fc-not-allowed")}function Ll(){document.body.classList.remove("fc-not-allowed")}function zl(t,e,i){return i.func?i.func(t,e):function(t,e){if(!t&&!e)return 0;if(null==e)return-1;if(null==t)return 1;if("string"==typeof t||"string"==typeof e)return String(t).localeCompare(String(e));return t-e}(t[i.field],e[i.field])*(i.order||1)}function Hl(t,e){let i=String(t);return"000".substr(0,e-i.length)+i}function Fl(t,e,i){return"function"==typeof t?t(...e):"string"==typeof t?e.reduce(((t,e,i)=>t.replace("$"+i,e||"")),t):i}function Vl(t,e){return t-e}function Bl(t){return t%1==0}function jl(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),i=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!i)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+// the cell padding+border
i.getBoundingClientRect().width}const Wl=["years","months","days","milliseconds"],Ul=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function $l(t,e){return"string"==typeof t?function(t){let e=Ul.exec(t);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*(60*(e[3]?parseInt(e[3],10):0)*60*1e3+// hours
60*(e[4]?parseInt(e[4],10):0)*1e3+// minutes
1e3*(e[5]?parseInt(e[5],10):0)+(// seconds
e[6]?parseInt(e[6],10):0))}}return null}(t):"object"==typeof t&&t?Yl(t):"number"==typeof t?Yl({[e||"milliseconds"]:t}):null}function Yl(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:60*(t.hours||t.hour||0)*60*1e3+// hours
60*(t.minutes||t.minute||0)*1e3+// minutes
1e3*(t.seconds||t.second||0)+(// seconds
t.milliseconds||t.millisecond||t.ms||0)},i=t.weeks||t.week;return i&&(e.days+=7*i,e.specifiedWeeks=!0),e}function Gl(t,e){return{years:t.years+e.years,months:t.months+e.months,days:t.days+e.days,milliseconds:t.milliseconds+e.milliseconds}}function ql(t){return Ql(t)/864e5}function Ql(t){return 31536e6*t.years+2592e6*t.months+864e5*t.days+t.milliseconds}function Zl(t,e){let i=null;for(let n=0;n<Wl.length;n+=1){let s=Wl[n];if(e[s]){let n=t[s]/e[s];if(!Bl(n)||null!==i&&i!==n)return null;i=n}else if(t[s])return null}return i}function Xl(t){let e=t.milliseconds;if(e){if(e%1e3!=0)return{unit:"millisecond",value:e};if(e%6e4!=0)return{unit:"second",value:e/1e3};if(e%36e5!=0)return{unit:"minute",value:e/6e4};if(e)return{unit:"hour",value:e/36e5}}return t.days?t.specifiedWeeks&&t.days%7==0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function Jl(t,e,i){if(t===e)return!0;let n,s=t.length;if(s!==e.length)return!1;for(n=0;n<s;n+=1)if(!(i?i(t[n],e[n]):t[n]===e[n]))return!1;return!0}const Kl=["sun","mon","tue","wed","thu","fri","sat"];function tc(t,e){let i=dc(t);return i[2]+=7*e,hc(i)}function ec(t,e){let i=dc(t);return i[2]+=e,hc(i)}function ic(t,e){let i=dc(t);return i[6]+=e,hc(i)}function nc(t,e){return(e.valueOf()-t.valueOf())/864e5}function sc(t,e){return fc(t)===fc(e)?Math.round(nc(t,e)):null}function rc(t){return hc([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function oc(t,e,i,n){let s=hc([e,0,1+ac(e,i,n)]),r=rc(t),o=Math.round(nc(s,r));return Math.floor(o/7)+1}function ac(t,e,i){let n=7+e-i;return-((7+hc([t,0,n]).getUTCDay()-e)%7)+n-1}function lc(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function cc(t){return new Date(t[0],t[1]||0,null==t[2]?1:t[2],
// day of month
t[3]||0,t[4]||0,t[5]||0)}function dc(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function hc(t){return 1===t.length&&(t=t.concat([0])),new Date(Date.UTC(...t))}function uc(t){return!isNaN(t.valueOf())}function fc(t){return 1e3*t.getUTCHours()*60*60+1e3*t.getUTCMinutes()*60+1e3*t.getUTCSeconds()+t.getUTCMilliseconds()}function pc(t,e,i=!1){let n=t.toISOString();return n=n.replace(".000",""),i&&(n=n.replace("T00:00:00Z","")),n.length>10&&(null==e?n=n.replace("Z",""):0!==e&&(n=n.replace("Z",mc(e,!0)))),n}function gc(t){return t.toISOString().replace(/T.*$/,"")}function mc(t,e=!1){let i=t<0?"-":"+",n=Math.abs(t),s=Math.floor(n/60),r=Math.round(n%60);return e?`${i+Hl(s,2)}:${Hl(r,2)}`:`GMT${i}${s}${r?`:${Hl(r,2)}`:""}`}function vc(t,e,i){let n,s;return function(...r){if(n){if(!Jl(n,r)){i&&i(s);let n=t.apply(this,r);e&&e(n,s)||(s=n)}}else s=t.apply(this,r);return n=r,s}}function bc(t,e,i){let n,s;return r=>{if(n){if(!Zc(n,r)){i&&i(s);let n=t.call(this,r);e&&e(n,s)||(s=n)}}else s=t.call(this,r);return n=r,s}}const yc={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},xc={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},wc=/\s*([ap])\.?m\.?/i,_c=/,/g,Ec=/\s+/g,Sc=/\u200e/g,Ac=/UTC|GMT/;class Dc{constructor(t){let e={},i={},n=0;for(let s in t)s in yc?(i[s]=t[s],n=Math.max(yc[s],n)):(e[s]=t[s],s in xc&&(n=Math.max(xc[s],n)));this.standardDateProps=e,this.extendedSettings=i,this.severity=n,this.buildFormattingFunc=vc(Cc)}format(t,e){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,e)(t)}formatRange(t,e,i,n){let{standardDateProps:s,extendedSettings:r}=this,o=function(t,e,i){if(i.getMarkerYear(t)!==i.getMarkerYear(e))return 5;if(i.getMarkerMonth(t)!==i.getMarkerMonth(e))return 4;if(i.getMarkerDay(t)!==i.getMarkerDay(e))return 2;if(fc(t)!==fc(e))return 1;return 0}(t.marker,e.marker,i.calendarSystem);if(!o)return this.format(t,i);let a=o;!(a>1)||// the two dates are different in a way that's larger scale than time
"numeric"!==s.year&&"2-digit"!==s.year||"numeric"!==s.month&&"2-digit"!==s.month||"numeric"!==s.day&&"2-digit"!==s.day||(a=1);let l=this.format(t,i),c=this.format(e,i);if(l===c)return l;let d=Cc(function(t,e){let i={};for(let n in t)(!(n in xc)||// not a date part prop (like timeZone)
xc[n]<=e)&&(i[n]=t[n]);return i}(s,a),r,i),h=d(t),u=d(e),f=function(t,e,i,n){let s=0;for(;s<t.length;){let r=t.indexOf(e,s);if(-1===r)break;let o=t.substr(0,r);s=r+e.length;let a=t.substr(s),l=0;for(;l<i.length;){let t=i.indexOf(n,l);if(-1===t)break;let e=i.substr(0,t);l=t+n.length;let s=i.substr(l);if(o===e&&a===s)return{before:o,after:a}}}return null}(l,h,c,u),p=r.separator||n||i.defaultSeparator||"";return f?f.before+h+p+u+f.after:l+p+c}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function Cc(t,e,i){let n=Object.keys(t).length;return 1===n&&"short"===t.timeZoneName?t=>mc(t.timeZoneOffset):0===n&&e.week?t=>function(t,e,i,n,s){let r=[];"long"===s?r.push(i):"short"!==s&&"narrow"!==s||r.push(e);"long"!==s&&"short"!==s||r.push(" ");r.push(n.simpleNumberFormat.format(t)),"rtl"===n.options.direction&&r.reverse();return r.join("")}(i.computeWeekNumber(t.marker),i.weekText,i.weekTextLong,i.locale,e.week):function(t,e,i){t=Object.assign({},t),e=Object.assign({},e),function(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit"));"long"===t.timeZoneName&&(t.timeZoneName="short");e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}(t,e),t.timeZone="UTC";let n,s=new Intl.DateTimeFormat(i.locale.codes,t);if(e.omitZeroMinute){let e=Object.assign({},t);delete e.minute,n=new Intl.DateTimeFormat(i.locale.codes,e)}return r=>{let o,{marker:a}=r;return o=n&&!a.getUTCMinutes()?n:s,function(t,e,i,n,s){t=t.replace(Sc,""),"short"===i.timeZoneName&&(t=function(t,e){let i=!1;t=t.replace(Ac,(()=>(i=!0,e))),i||(t+=` ${e}`);return t}(t,"UTC"===s.timeZone||null==e.timeZoneOffset?"UTC":
// important to normalize for IE, which does "GMT"
mc(e.timeZoneOffset)));n.omitCommas&&(t=t.replace(_c,"").trim());n.omitZeroMinute&&(t=t.replace(":00",""));!1===n.meridiem?t=t.replace(wc,"").trim():"narrow"===n.meridiem?t=t.replace(wc,((t,e)=>e.toLocaleLowerCase())):"short"===n.meridiem?t=t.replace(wc,((t,e)=>`${e.toLocaleLowerCase()}m`)):"lowercase"===n.meridiem&&(t=t.replace(wc,(t=>t.toLocaleLowerCase())));return t=t.replace(Ec," "),t=t.trim(),t}(o.format(a),r,t,e,i)}}(t,e,i)}function Mc(t,e){let i=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:i,year:i[0],month:i[1],day:i[2],hour:i[3],minute:i[4],second:i[5],millisecond:i[6]}}function kc(t,e,i,n){let s=Mc(t,i.calendarSystem);return{date:s,start:s,end:e?Mc(e,i.calendarSystem):null,timeZone:i.timeZone,localeCodes:i.locale.codes,defaultSeparator:n||i.defaultSeparator}}class Tc{constructor(t){this.cmdStr=t}format(t,e,i){return e.cmdFormatter(this.cmdStr,kc(t,null,e,i))}formatRange(t,e,i,n){return i.cmdFormatter(this.cmdStr,kc(t,e,i,n))}}class Rc{constructor(t){this.func=t}format(t,e,i){return this.func(kc(t,null,e,i))}formatRange(t,e,i,n){return this.func(kc(t,e,i,n))}}function Oc(t){return"object"==typeof t&&t?new Dc(t):"string"==typeof t?new Tc(t):"function"==typeof t?new Rc(t):null}const Pc={navLinkDayClick:Wc,navLinkWeekClick:Wc,duration:$l,bootstrapFontAwesome:Wc,buttonIcons:Wc,customButtons:Wc,defaultAllDayEventDuration:$l,defaultTimedEventDuration:$l,nextDayThreshold:$l,scrollTime:$l,scrollTimeReset:Boolean,slotMinTime:$l,slotMaxTime:$l,dayPopoverFormat:Oc,slotDuration:$l,snapDuration:$l,headerToolbar:Wc,footerToolbar:Wc,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Oc,dayHeaderClassNames:Wc,dayHeaderContent:Wc,dayHeaderDidMount:Wc,dayHeaderWillUnmount:Wc,dayCellClassNames:Wc,dayCellContent:Wc,dayCellDidMount:Wc,dayCellWillUnmount:Wc,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:Wc,weekNumbers:Boolean,weekNumberClassNames:Wc,weekNumberContent:Wc,weekNumberDidMount:Wc,weekNumberWillUnmount:Wc,editable:Boolean,viewClassNames:Wc,viewDidMount:Wc,viewWillUnmount:Wc,nowIndicator:Boolean,nowIndicatorClassNames:Wc,nowIndicatorContent:Wc,nowIndicatorDidMount:Wc,nowIndicatorWillUnmount:Wc,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:Wc,locale:Wc,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:Wc,eventOrder:function(t){let e,i,n=[],s=[];for("string"==typeof t?s=t.split(/\s*,\s*/):"function"==typeof t?s=[t]:Array.isArray(t)&&(s=t),e=0;e<s.length;e+=1)i=s[e],"string"==typeof i?n.push("-"===i.charAt(0)?{field:i.substring(1),order:-1}:{field:i,order:1}):"function"==typeof i&&n.push({func:i});return n},eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:Wc,contentHeight:Wc,direction:String,weekNumberFormat:Oc,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:Wc,initialDate:Wc,now:Wc,eventDataTransform:Wc,stickyHeaderDates:Wc,stickyFooterScrollbar:Wc,viewHeight:Wc,defaultAllDay:Boolean,eventSourceFailure:Wc,eventSourceSuccess:Wc,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:Wc,eventConstraint:Wc,eventAllow:Wc,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:Wc,eventContent:Wc,eventDidMount:Wc,eventWillUnmount:Wc,selectConstraint:Wc,selectOverlap:Wc,selectAllow:Wc,droppable:Boolean,unselectCancel:String,slotLabelFormat:Wc,slotLaneClassNames:Wc,slotLaneContent:Wc,slotLaneDidMount:Wc,slotLaneWillUnmount:Wc,slotLabelClassNames:Wc,slotLabelContent:Wc,slotLabelDidMount:Wc,slotLabelWillUnmount:Wc,dayMaxEvents:Wc,dayMaxEventRows:Wc,dayMinWidth:Number,slotLabelInterval:$l,allDayText:String,allDayClassNames:Wc,allDayContent:Wc,allDayDidMount:Wc,allDayWillUnmount:Wc,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Oc,rerenderDelay:Number,moreLinkText:Wc,moreLinkHint:Wc,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:Wc,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:$l,hiddenDays:Wc,fixedWeekCount:Boolean,validRange:Wc,visibleRange:Wc,titleFormat:Wc,eventInteractive:Boolean,
// only used by list-view, but languages define the value, so we need it in base options
noEventsText:String,viewHint:Wc,navLinkHint:Wc,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:Wc,moreLinkClassNames:Wc,moreLinkContent:Wc,moreLinkDidMount:Wc,moreLinkWillUnmount:Wc,monthStartFormat:Oc,
// for connectors
// (can't be part of plugin system b/c must be provided at runtime)
handleCustomRendering:Wc,customRenderingMetaMap:Wc,customRenderingReplacesEl:Boolean},Nc={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" – ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},Ic={datesSet:Wc,eventsSet:Wc,eventAdd:Wc,eventChange:Wc,eventRemove:Wc,windowResize:Wc,eventClick:Wc,eventMouseEnter:Wc,eventMouseLeave:Wc,select:Wc,unselect:Wc,loading:Wc,
// internal
_unmount:Wc,_beforeprint:Wc,_afterprint:Wc,_noEventDrop:Wc,_noEventResize:Wc,_resize:Wc,_scrollRequest:Wc},Lc={buttonText:Wc,buttonHints:Wc,views:Wc,plugins:Wc,initialEvents:Wc,events:Wc,eventSources:Wc},zc={headerToolbar:Hc,footerToolbar:Hc,buttonText:Hc,buttonHints:Hc,buttonIcons:Hc,dateIncrement:Hc,plugins:Fc,events:Fc,eventSources:Fc,resources:Fc};function Hc(t,e){return"object"==typeof t&&"object"==typeof e&&t&&e?Zc(t,e):t===e}function Fc(t,e){return Array.isArray(t)&&Array.isArray(e)?Jl(t,e):t===e}const Vc={type:String,component:Wc,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:Wc,usesMinMaxTime:Boolean,classNames:Wc,content:Wc,didMount:Wc,willUnmount:Wc};function Bc(t){return $c(t,zc)}function jc(t,e){let i={},n={};for(let s in e)s in t&&(i[s]=e[s](t[s]));for(let s in t)s in e||(n[s]=t[s]);return{refined:i,extra:n}}function Wc(t){return t}const{hasOwnProperty:Uc}=Object.prototype;function $c(t,e){let i={};if(e)for(let n in e)if(e[n]===Hc){let e=[];for(let s=t.length-1;s>=0;s-=1){let r=t[s][n];if("object"==typeof r&&r)e.unshift(r);else if(void 0!==r){i[n]=r;break}}e.length&&(i[n]=$c(e))}for(let n=t.length-1;n>=0;n-=1){let e=t[n];for(let t in e)t in i||(i[t]=e[t])}return i}function Yc(t,e){let i={};for(let n in t)e(t[n],n)&&(i[n]=t[n]);return i}function Gc(t,e){let i={};for(let n in t)i[n]=e(t[n],n);return i}function qc(t){let e={};for(let i of t)e[i]=!0;return e}function Qc(t){let e=[];for(let i in t)e.push(t[i]);return e}function Zc(t,e){if(t===e)return!0;for(let i in t)if(Uc.call(t,i)&&!(i in e))return!1;for(let i in e)if(Uc.call(e,i)&&t[i]!==e[i])return!1;return!0}const Xc=/^on[A-Z]/;function Jc(t,e){let i=[];for(let n in t)Uc.call(t,n)&&(n in e||i.push(n));for(let n in e)Uc.call(e,n)&&t[n]!==e[n]&&i.push(n);return i}function Kc(t,e,i={}){if(t===e)return!0;for(let n in e)if(!(n in t)||!td(t[n],e[n],i[n]))return!1;for(let n in t)if(!(n in e))return!1;return!0}function td(t,e,i){return t===e||!0===i||!!i&&i(t,e)}let ed={};var id,nd;id="gregory",nd=class{getMarkerYear(t){return t.getUTCFullYear()}getMarkerMonth(t){return t.getUTCMonth()}getMarkerDay(t){return t.getUTCDate()}arrayToMarker(t){return hc(t)}markerToArray(t){return dc(t)}},ed[id]=nd;const sd=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;class rd{constructor(t){let e=this.timeZone=t.timeZone,i="local"!==e&&"UTC"!==e;t.namedTimeZoneImpl&&i&&(this.namedTimeZoneImpl=new t.namedTimeZoneImpl(e)),this.canComputeOffset=Boolean(!i||this.namedTimeZoneImpl),this.calendarSystem=function(t){return new ed[t]}(t.calendarSystem),this.locale=t.locale,this.weekDow=t.locale.week.dow,this.weekDoy=t.locale.week.doy,"ISO"===t.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof t.firstDay&&(this.weekDow=t.firstDay),"function"==typeof t.weekNumberCalculation&&(this.weekNumberFunc=t.weekNumberCalculation),this.weekText=null!=t.weekText?t.weekText:t.locale.options.weekText,this.weekTextLong=(null!=t.weekTextLong?t.weekTextLong:t.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=t.cmdFormatter,this.defaultSeparator=t.defaultSeparator}
// Creating / Parsing
createMarker(t){let e=this.createMarkerMeta(t);return null===e?null:e.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):hc(lc(new Date))}createMarkerMeta(t){if("string"==typeof t)return this.parse(t);let e=null;return"number"==typeof t?e=this.timestampToMarker(t):t instanceof Date?(t=t.valueOf(),isNaN(t)||(e=this.timestampToMarker(t))):Array.isArray(t)&&(e=hc(t)),null!==e&&uc(e)?{marker:e,isTimeUnspecified:!1,forcedTzo:null}:null}parse(t){let e=function(t){let e=sd.exec(t);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?1e3*Number(`0.${e[12]}`):0));if(uc(t)){let i=null;return e[13]&&(i=("-"===e[15]?-1:1)*(60*Number(e[16]||0)+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:i}}}return null}(t);if(null===e)return null;let{marker:i}=e,n=null;return null!==e.timeZoneOffset&&(this.canComputeOffset?i=this.timestampToMarker(i.valueOf()-60*e.timeZoneOffset*1e3):n=e.timeZoneOffset),{marker:i,isTimeUnspecified:e.isTimeUnspecified,forcedTzo:n}}
// Accessors
getYear(t){return this.calendarSystem.getMarkerYear(t)}getMonth(t){return this.calendarSystem.getMarkerMonth(t)}getDay(t){return this.calendarSystem.getMarkerDay(t)}
// Adding / Subtracting
add(t,e){let i=this.calendarSystem.markerToArray(t);return i[0]+=e.years,i[1]+=e.months,i[2]+=e.days,i[6]+=e.milliseconds,this.calendarSystem.arrayToMarker(i)}subtract(t,e){let i=this.calendarSystem.markerToArray(t);return i[0]-=e.years,i[1]-=e.months,i[2]-=e.days,i[6]-=e.milliseconds,this.calendarSystem.arrayToMarker(i)}addYears(t,e){let i=this.calendarSystem.markerToArray(t);return i[0]+=e,this.calendarSystem.arrayToMarker(i)}addMonths(t,e){let i=this.calendarSystem.markerToArray(t);return i[1]+=e,this.calendarSystem.arrayToMarker(i)}
// Diffing Whole Units
diffWholeYears(t,e){let{calendarSystem:i}=this;return fc(t)===fc(e)&&i.getMarkerDay(t)===i.getMarkerDay(e)&&i.getMarkerMonth(t)===i.getMarkerMonth(e)?i.getMarkerYear(e)-i.getMarkerYear(t):null}diffWholeMonths(t,e){let{calendarSystem:i}=this;return fc(t)===fc(e)&&i.getMarkerDay(t)===i.getMarkerDay(e)?i.getMarkerMonth(e)-i.getMarkerMonth(t)+12*(i.getMarkerYear(e)-i.getMarkerYear(t)):null}
// Range / Duration
greatestWholeUnit(t,e){let i=this.diffWholeYears(t,e);return null!==i?{unit:"year",value:i}:(i=this.diffWholeMonths(t,e),null!==i?{unit:"month",value:i}:(i=function(t,e){let i=sc(t,e);return null!==i&&i%7==0?i/7:null}(t,e),null!==i?{unit:"week",value:i}:(i=sc(t,e),null!==i?{unit:"day",value:i}:(i=function(t,e){return(e.valueOf()-t.valueOf())/36e5}(t,e),Bl(i)?{unit:"hour",value:i}:(i=function(t,e){return(e.valueOf()-t.valueOf())/6e4}(t,e),Bl(i)?{unit:"minute",value:i}:(i=function(t,e){return(e.valueOf()-t.valueOf())/1e3}(t,e),Bl(i)?{unit:"second",value:i}:{unit:"millisecond",value:e.valueOf()-t.valueOf()}))))))}countDurationsBetween(t,e,i){let n;return i.years&&(n=this.diffWholeYears(t,e),null!==n)?n/(ql(i)/365):i.months&&(n=this.diffWholeMonths(t,e),null!==n)?n/function(t){return ql(t)/30}(i):i.days&&(n=sc(t,e),null!==n)?n/ql(i):(e.valueOf()-t.valueOf())/Ql(i)}
// Start-Of
// these DON'T return zoned-dates. only UTC start-of dates
startOf(t,e){return"year"===e?this.startOfYear(t):"month"===e?this.startOfMonth(t):"week"===e?this.startOfWeek(t):"day"===e?rc(t):"hour"===e?function(t){return hc([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}(t):"minute"===e?function(t){return hc([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}(t):"second"===e?function(t){return hc([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}(t):null}startOfYear(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t)])}startOfMonth(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t)])}startOfWeek(t){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(t),this.calendarSystem.getMarkerMonth(t),t.getUTCDate()-(t.getUTCDay()-this.weekDow+7)%7])}
// Week Number
computeWeekNumber(t){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(t)):function(t,e,i){let n=t.getUTCFullYear(),s=oc(t,n,e,i);if(s<1)return oc(t,n-1,e,i);let r=oc(t,n+1,e,i);return r>=1?Math.min(s,r):s}(t,this.weekDow,this.weekDoy)}
// TODO: choke on timeZoneName: long
format(t,e,i={}){return e.format({marker:t,timeZoneOffset:null!=i.forcedTzo?i.forcedTzo:this.offsetForMarker(t)},this)}formatRange(t,e,i,n={}){return n.isEndExclusive&&(e=ic(e,-1)),i.formatRange({marker:t,timeZoneOffset:null!=n.forcedStartTzo?n.forcedStartTzo:this.offsetForMarker(t)},{marker:e,timeZoneOffset:null!=n.forcedEndTzo?n.forcedEndTzo:this.offsetForMarker(e)},this,n.defaultSeparator)}
/*
  DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,
  might as well use buildIsoString or some other util directly
  */formatIso(t,e={}){let i=null;return e.omitTimeZoneOffset||(i=null!=e.forcedTzo?e.forcedTzo:this.offsetForMarker(t)),pc(t,i,e.omitTime)}
// TimeZone
timestampToMarker(t){return"local"===this.timeZone?hc(lc(new Date(t))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?hc(this.namedTimeZoneImpl.timestampToArray(t)):new Date(t)}offsetForMarker(t){return"local"===this.timeZone?-cc(dc(t)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(dc(t)):null}
// Conversion
toDate(t,e){return"local"===this.timeZone?cc(dc(t)):"UTC"===this.timeZone?new Date(t.valueOf()):this.namedTimeZoneImpl?new Date(t.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(dc(t))*60):new Date(t.valueOf()-(e||0))}}class od{constructor(t){this.iconOverrideOption&&this.setIconOverride(t[this.iconOverrideOption])}setIconOverride(t){let e,i;if("object"==typeof t&&t){for(i in e=Object.assign({},this.iconClasses),t)e[i]=this.applyIconOverridePrefix(t[i]);this.iconClasses=e}else!1===t&&(this.iconClasses={})}applyIconOverridePrefix(t){let e=this.iconOverridePrefix;return e&&0!==t.indexOf(e)&&(t=e+t),t}getClass(t){return this.classes[t]||""}getIconClass(t,e){let i;return i=e&&this.rtlIconClasses&&this.rtlIconClasses[t]||this.iconClasses[t],i?`${this.baseIconClass} ${i}`:""}getCustomButtonIconClass(t){let e;return this.iconOverrideCustomButtonOption&&(e=t[this.iconOverrideCustomButtonOption],e)?`${this.baseIconClass} ${this.applyIconOverridePrefix(e)}`:""}}function ad(t){t();let e=I.debounceRendering,i=[];for(I.debounceRendering=function(t){i.push(t)},V(z(ld,{}),document.createElement("div"));i.length;)i.shift()();I.debounceRendering=e}od.prototype.classes={},od.prototype.iconClasses={},od.prototype.baseIconClass="",od.prototype.iconOverridePrefix="";class ld extends L{render(){return z("div",{})}componentDidMount(){this.setState({})}}function cd(t){let e=B(t),i=e.Provider;return e.Provider=function(){let t=!this.getChildContext,e=i.apply(this,arguments);if(t){let t=[];this.shouldComponentUpdate=e=>{this.props.value!==e.value&&t.forEach((t=>{t.context=e.value,t.forceUpdate()}))},this.sub=e=>{t.push(e);let i=e.componentWillUnmount;e.componentWillUnmount=()=>{t.splice(t.indexOf(e),1),i&&i.call(e)}}}return e},e}class dd{constructor(t,e,i,n){this.execFunc=t,this.emitter=e,this.scrollTime=i,this.scrollTimeReset=n,this.handleScrollRequest=t=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},t),this.drain()},e.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(t){t&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const hd=cd({});function ud(t,e,i,n,s,r,o,a,l,c,d,h,u){return{dateEnv:s,options:i,pluginHooks:o,emitter:c,dispatch:a,getCurrentData:l,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:n,theme:r,isRtl:"rtl"===i.direction,addResizeHandler(t){c.on("_resize",t)},removeResizeHandler(t){c.off("_resize",t)},createScrollResponder:t=>new dd(t,c,$l(i.scrollTime),i.scrollTimeReset),registerInteractiveComponent:h,unregisterInteractiveComponent:u}}class fd extends L{shouldComponentUpdate(t,e){return this.debug&&console.log(Jc(t,this.props),Jc(e,this.state)),!Kc(this.props,t,this.propEquality)||!Kc(this.state,e,this.stateEquality)}
// HACK for freakin' React StrictMode
safeSetState(t){Kc(this.state,Object.assign(Object.assign({},this.state),t),this.stateEquality)||this.setState(t)}}fd.addPropsEquality=function(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e},fd.addStateEquality=function(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e},fd.contextType=hd,fd.prototype.propEquality={},fd.prototype.stateEquality={};class pd extends fd{}function gd(t,e){"function"==typeof t?t(e):t&&(t.current=e)}pd.contextType=hd;class md extends pd{constructor(){super(...arguments),this.id=Nl(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=t=>{this.props.elRef&&gd(this.props.elRef,t)}}render(){const{props:t,context:e}=this,{options:i}=e,{customGenerator:n,defaultGenerator:s,renderProps:r}=t,o=bd(t);let a,l,c=!1,d=[];if(null!=n){const t="function"==typeof n?n(r,z):n;if(!0===t)c=!0;else{const e=t&&"object"==typeof t;e&&"html"in t?o.dangerouslySetInnerHTML={__html:t.html}:e&&"domNodes"in t?d=Array.prototype.slice.call(t.domNodes):e||"function"==typeof t?l=t:a=t}}else c=!vd(t.generatorName,i);return c&&s&&(a=s(r)),this.queuedDomNodes=d,this.currentGeneratorMeta=l,z(t.elTag,o,a)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(t){var e;const{props:i,context:n}=this,{handleCustomRendering:s,customRenderingMetaMap:r}=n.options;if(s){const n=null!==(e=this.currentGeneratorMeta)&&void 0!==e?e:null==r?void 0:r[i.generatorName];n&&s(Object.assign(Object.assign({id:this.id,isActive:t,containerEl:this.base,reportNewContainerEl:this.handleEl,
// for customRenderingReplacesEl
generatorMeta:n},i),{elClasses:i.elClasses.filter(yd)}))}}applyQueueudDomNodes(){const{queuedDomNodes:t,currentDomNodes:e}=this,i=this.base;if(!Jl(t,e)){e.forEach(yl);for(let e of t)i.appendChild(e);this.currentDomNodes=t}}}function vd(t,e){var i;return Boolean(e.handleCustomRendering&&t&&(null===(i=e.customRenderingMetaMap)||void 0===i?void 0:i[t]))}function bd(t,e){const i=Object.assign(Object.assign({},t.elAttrs),{ref:t.elRef});return(t.elClasses||e)&&(i.className=(t.elClasses||[]).concat(e||[]).concat(i.className||[]).filter(Boolean).join(" ")),t.elStyle&&(i.style=t.elStyle),i}function yd(t){return Boolean(t)}md.addPropsEquality({elClasses:Jl,elStyle:Zc,elAttrs:function(t,e){const i=Jc(t,e);for(let n of i)if(!Xc.test(n))return!1;return!0},renderProps:Zc});const xd=cd(0);class wd extends L{constructor(){super(...arguments),this.InnerContent=_d.bind(void 0,this)}render(){const{props:t}=this,e=function(t,e){const i="function"==typeof t?t(e):t||[];return"string"==typeof i?[i]:i}(t.classNameGenerator,t.renderProps);if(t.children){const i=bd(t,e),n=t.children(this.InnerContent,t.renderProps,i);return t.elTag?z(t.elTag,i,n):n}return z(md,Object.assign(Object.assign({},t),{elTag:t.elTag||"div",elClasses:(t.elClasses||[]).concat(e),renderId:this.context}))}componentDidMount(){var t,e;null===(e=(t=this.props).didMount)||void 0===e||e.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.base}))}componentWillUnmount(){var t,e;null===(e=(t=this.props).willUnmount)||void 0===e||e.call(t,Object.assign(Object.assign({},this.props.renderProps),{el:this.base}))}}function _d(t,e){const i=t.props;return z(md,Object.assign({renderProps:i.renderProps,generatorName:i.generatorName,customGenerator:i.customGenerator,defaultGenerator:i.defaultGenerator,renderId:t.context},e))}wd.contextType=xd;class Ed extends pd{render(){let{props:t,context:e}=this,{options:i}=e,n={view:e.viewApi};return z(wd,Object.assign({},t,{elTag:t.elTag||"div",elClasses:[...Sd(t.viewSpec),...t.elClasses||[]],renderProps:n,classNameGenerator:i.viewClassNames,generatorName:void 0,didMount:i.viewDidMount,willUnmount:i.viewWillUnmount}),(()=>t.children))}}function Sd(t){return[`fc-${t.type}-view`,"fc-view"]}function Ad(t,e){let i,n,s=[],{start:r}=e;for(t.sort(Dd),i=0;i<t.length;i+=1)n=t[i],n.start>r&&s.push({start:r,end:n.start}),n.end>r&&(r=n.end);return r<e.end&&s.push({start:r,end:e.end}),s}function Dd(t,e){return t.start.valueOf()-e.start.valueOf()}function Cd(t,e){let{start:i,end:n}=t,s=null;return null!==e.start&&(i=null===i?e.start:new Date(Math.max(i.valueOf(),e.start.valueOf()))),null!=e.end&&(n=null===n?e.end:new Date(Math.min(n.valueOf(),e.end.valueOf()))),(null===i||null===n||i<n)&&(s={start:i,end:n}),s}function Md(t,e){return(null===t.end||null===e.start||t.end>e.start)&&(null===t.start||null===e.end||t.start<e.end)}function kd(t,e){return(null===t.start||null!==e.start&&e.start>=t.start)&&(null===t.end||null!==e.end&&e.end<=t.end)}function Td(t,e){return(null===t.start||e>=t.start)&&(null===t.end||e<t.end)}function Rd(t){let e=Math.floor(nc(t.start,t.end))||1,i=rc(t.start);return{start:i,end:ec(i,e)}}function Od(t,e=$l(0)){let i=null,n=null;if(t.end){n=rc(t.end);let i=t.end.valueOf()-n.valueOf();i&&i>=Ql(e)&&(n=ec(n,1))}return t.start&&(i=rc(t.start),n&&n<=i&&(n=ec(i,1))),{start:i,end:n}}function Pd(t,e,i,n){return"year"===n?$l(i.diffWholeYears(t,e),"year"):"month"===n?$l(i.diffWholeMonths(t,e),"month"):function(t,e){let i=rc(t),n=rc(e);return{years:0,months:0,days:Math.round(nc(i,n)),milliseconds:e.valueOf()-n.valueOf()-(t.valueOf()-i.valueOf())}}(t,e)}function Nd(t,e){return"function"==typeof t&&(t=t()),null==t?e.createNowMarker():e.createMarker(t)}class Id{constructor(t){this.props=t,this.nowDate=Nd(t.nowInput,t.dateEnv),this.initHiddenDays()}
/* Date Range Computation
  ------------------------------------------------------------------------------------------------------------------*/
// Builds a structure with info about what the dates/ranges will be for the "prev" view.
buildPrev(t,e,i){let{dateEnv:n}=this.props,s=n.subtract(n.startOf(e,t.currentRangeUnit),
// important for start-of-month
t.dateIncrement);return this.build(s,-1,i)}
// Builds a structure with info about what the dates/ranges will be for the "next" view.
buildNext(t,e,i){let{dateEnv:n}=this.props,s=n.add(n.startOf(e,t.currentRangeUnit),
// important for start-of-month
t.dateIncrement);return this.build(s,1,i)}
// Builds a structure holding dates/ranges for rendering around the given date.
// Optional direction param indicates whether the date is being incremented/decremented
// from its previous value. decremented = -1, incremented = 1 (default).
build(t,e,i=!0){let n,s,r,o,a,l,{props:c}=this;var d,h;return n=this.buildValidRange(),n=this.trimHiddenDays(n),i&&(d=t,t=null!=(h=n).start&&d<h.start?h.start:null!=h.end&&d>=h.end?new Date(h.end.valueOf()-1):d),s=this.buildCurrentRangeInfo(t,e),r=/^(year|month|week|day)$/.test(s.unit),o=this.buildRenderRange(this.trimHiddenDays(s.range),s.unit,r),o=this.trimHiddenDays(o),a=o,c.showNonCurrentDates||(a=Cd(a,s.range)),a=this.adjustActiveRange(a),a=Cd(a,n),l=Md(s.range,n),Td(o,t)||(t=o.start),{currentDate:t,
// constraint for where prev/next operations can go and where events can be dragged/resized to.
// an object with optional start and end properties.
validRange:n,
// range the view is formally responsible for.
// for example, a month view might have 1st-31st, excluding padded dates
currentRange:s.range,
// name of largest unit being displayed, like "month" or "week"
currentRangeUnit:s.unit,isRangeAllDay:r,
// dates that display events and accept drag-n-drop
// will be `null` if no dates accept events
activeRange:a,
// date range with a rendered skeleton
// includes not-active days that need some sort of DOM
renderRange:o,
// Duration object that denotes the first visible time of any given day
slotMinTime:c.slotMinTime,
// Duration object that denotes the exclusive visible end time of any given day
slotMaxTime:c.slotMaxTime,isValid:l,
// how far the current date will move for a prev/next operation
dateIncrement:this.buildDateIncrement(s.duration)}}
// Builds an object with optional start/end properties.
// Indicates the minimum/maximum dates to display.
// not responsible for trimming hidden days.
buildValidRange(){let t=this.props.validRangeInput,e="function"==typeof t?t.call(this.props.calendarApi,this.nowDate):t;return this.refineRange(e)||{start:null,end:null}}
// Builds a structure with info about the "current" range, the range that is
// highlighted as being the current month for example.
// See build() for a description of `direction`.
// Guaranteed to have `range` and `unit` properties. `duration` is optional.
buildCurrentRangeInfo(t,e){let i,{props:n}=this,s=null,r=null,o=null;return n.duration?(s=n.duration,r=n.durationUnit,o=this.buildRangeFromDuration(t,e,s,r)):(i=this.props.dayCount)?(r="day",o=this.buildRangeFromDayCount(t,e,i)):(o=this.buildCustomVisibleRange(t))?r=n.dateEnv.greatestWholeUnit(o.start,o.end).unit:(s=this.getFallbackDuration(),r=Xl(s).unit,o=this.buildRangeFromDuration(t,e,s,r)),{duration:s,unit:r,range:o}}getFallbackDuration(){return $l({day:1})}
// Returns a new activeRange to have time values (un-ambiguate)
// slotMinTime or slotMaxTime causes the range to expand.
adjustActiveRange(t){let{dateEnv:e,usesMinMaxTime:i,slotMinTime:n,slotMaxTime:s}=this.props,{start:r,end:o}=t;return i&&(ql(n)<0&&(r=rc(r),r=e.add(r,n)),ql(s)>1&&(o=rc(o),o=ec(o,-1),o=e.add(o,s))),{start:r,end:o}}
// Builds the "current" range when it is specified as an explicit duration.
// `unit` is the already-computed greatestDurationDenominator unit of duration.
buildRangeFromDuration(t,e,i,n){let s,r,o,{dateEnv:a,dateAlignment:l}=this.props;if(!l){let{dateIncrement:t}=this.props;l=t&&Ql(t)<Ql(i)?Xl(t).unit:n}function c(){s=a.startOf(t,l),r=a.add(s,i),o={start:s,end:r}}return ql(i)<=1&&this.isHiddenDay(s)&&(s=this.skipHiddenDays(s,e),s=rc(s)),c(),this.trimHiddenDays(o)||(t=this.skipHiddenDays(t,e),c()),o}
// Builds the "current" range when a dayCount is specified.
buildRangeFromDayCount(t,e,i){let n,{dateEnv:s,dateAlignment:r}=this.props,o=0,a=t;r&&(a=s.startOf(a,r)),a=rc(a),a=this.skipHiddenDays(a,e),n=a;do{n=ec(n,1),this.isHiddenDay(n)||(o+=1)}while(o<i);return{start:a,end:n}}
// Builds a normalized range object for the "visible" range,
// which is a way to define the currentRange and activeRange at the same time.
buildCustomVisibleRange(t){let{props:e}=this,i=e.visibleRangeInput,n="function"==typeof i?i.call(e.calendarApi,e.dateEnv.toDate(t)):i,s=this.refineRange(n);return!s||null!=s.start&&null!=s.end?s:null}
// Computes the range that will represent the element/cells for *rendering*,
// but which may have voided days/times.
// not responsible for trimming hidden days.
buildRenderRange(t,e,i){return t}
// Compute the duration value that should be added/substracted to the current date
// when a prev/next operation happens.
buildDateIncrement(t){let e,{dateIncrement:i}=this.props;return i||((e=this.props.dateAlignment)?$l(1,e):t||$l({days:1}))}refineRange(t){if(t){let e=function(t,e){let i=null,n=null;return t.start&&(i=e.createMarker(t.start)),t.end&&(n=e.createMarker(t.end)),i||n?i&&n&&n<i?null:{start:i,end:n}:null}(t,this.props.dateEnv);return e&&(e=Od(e)),e}return null}
/* Hidden Days
  ------------------------------------------------------------------------------------------------------------------*/
// Initializes internal variables related to calculating hidden days-of-week
initHiddenDays(){let t,e=this.props.hiddenDays||[],i=[],n=0;for(!1===this.props.weekends&&e.push(0,6),t=0;t<7;t+=1)(i[t]=-1!==e.indexOf(t))||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=i}
// Remove days from the beginning and end of the range that are computed as hidden.
// If the whole range is trimmed off, returns null
trimHiddenDays(t){let{start:e,end:i}=t;return e&&(e=this.skipHiddenDays(e)),i&&(i=this.skipHiddenDays(i,-1,!0)),null==e||null==i||e<i?{start:e,end:i}:null}
// Is the current day hidden?
// `day` is a day-of-week index (0-6), or a Date (used for UTC)
isHiddenDay(t){return t instanceof Date&&(t=t.getUTCDay()),this.isHiddenDayHash[t]}
// Incrementing the current day until it is no longer a hidden day, returning a copy.
// DOES NOT CONSIDER validRange!
// If the initial value of `date` is not a hidden day, don't do anything.
// Pass `isExclusive` as `true` if you are dealing with an end date.
// `inc` defaults to `1` (increment one day forward each time)
skipHiddenDays(t,e=1,i=!1){for(;this.isHiddenDayHash[(t.getUTCDay()+(i?e:0)+7)%7];)t=ec(t,e);return t}}function Ld(t,e,i,n){return{instanceId:Nl(),defId:t,range:e,forcedStartTzo:null==i?null:i,forcedEndTzo:null==n?null:n}}function zd(t,e,i){let{dateEnv:n,pluginHooks:s,options:r}=i,{defs:o,instances:a}=t;a=Yc(a,(t=>!o[t.defId].recurringDef));for(let l in o){let t=o[l];if(t.recurringDef){let{duration:i}=t.recurringDef;i||(i=t.allDay?r.defaultAllDayEventDuration:r.defaultTimedEventDuration);let o=Hd(t,i,e,n,s.recurringTypes);for(let t of o){let e=Ld(l,{start:t,end:n.add(t,i)});a[e.instanceId]=e}}}return{defs:o,instances:a}}function Hd(t,e,i,n,s){let r=s[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:n.subtract(i.start,e),end:i.end},n);return t.allDay&&(r=r.map(rc)),r}const Fd={id:String,groupId:String,title:String,url:String,interactive:Boolean},Vd={start:Wc,end:Wc,date:Wc,allDay:Boolean},Bd=Object.assign(Object.assign(Object.assign({},Fd),Vd),{extendedProps:Wc});function jd(t,e,i,n,s=Ud(i),r,o){let{refined:a,extra:l}=Wd(t,i,s),c=function(t,e){let i=null;t&&(i=t.defaultAllDay);null==i&&(i=e.options.defaultAllDay);return i}(e,i),d=function(t,e,i,n){for(let s=0;s<n.length;s+=1){let r=n[s].parse(t,i);if(r){let{allDay:i}=t;return null==i&&(i=e,null==i&&(i=r.allDayGuess,null==i&&(i=!1))),{allDay:i,duration:r.duration,typeData:r.typeData,typeId:s}}}return null}(a,c,i.dateEnv,i.pluginHooks.recurringTypes);if(d){let t=$d(a,l,e?e.sourceId:"",d.allDay,Boolean(d.duration),i,r);return t.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:t,instance:null}}let h=function(t,e,i,n){let s,r,{allDay:o}=t,a=null,l=!1,c=null,d=null!=t.start?t.start:t.date;if(s=i.dateEnv.createMarkerMeta(d),s)a=s.marker;else if(!n)return null;null!=t.end&&(r=i.dateEnv.createMarkerMeta(t.end));null==o&&(o=null!=e?e:(!s||s.isTimeUnspecified)&&(!r||r.isTimeUnspecified));o&&a&&(a=rc(a));r&&(c=r.marker,o&&(c=rc(c)),a&&c<=a&&(c=null));c?l=!0:n||(l=i.options.forceEventDuration||!1,c=i.dateEnv.add(a,o?i.options.defaultAllDayEventDuration:i.options.defaultTimedEventDuration));return{allDay:o,hasEnd:l,range:{start:a,end:c},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:r?r.forcedTzo:null}}(a,c,i,n);if(h){let t=$d(a,l,e?e.sourceId:"",h.allDay,h.hasEnd,i,r),n=Ld(t.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return o&&t.publicId&&o[t.publicId]&&(n.instanceId=o[t.publicId]),{def:t,instance:n}}return null}function Wd(t,e,i=Ud(e)){return jc(t,i)}function Ud(t){return Object.assign(Object.assign(Object.assign({},Jd),Bd),t.pluginHooks.eventRefiners)}function $d(t,e,i,n,s,r,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Nl(),sourceId:i,allDay:n,hasEnd:s,interactive:t.interactive,ui:th(t,r),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of r.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Yd(t,e,i,n,s,r){let o={defs:{},instances:{}},a=Ud(i);for(let l of t){let t=jd(l,e,i,n,a,s,r);t&&Gd(t,o)}return o}function Gd(t,e={defs:{},instances:{}}){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function qd(t,e){let i=t.instances[e];if(i){let e=t.defs[i.defId],n=Zd(t,(t=>{return i=e,n=t,Boolean(i.groupId&&i.groupId===n.groupId);var i,n}));return n.defs[e.defId]=e,n.instances[i.instanceId]=i,n}return{defs:{},instances:{}}}function Qd(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Zd(t,e){let i=Yc(t.defs,e),n=Yc(t.instances,(t=>i[t.defId]));return{defs:i,instances:n}}function Xd(t){return Array.isArray(t)?t:"string"==typeof t?t.split(/\s+/):[]}const Jd={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:Wc,overlap:Wc,allow:Wc,className:Xd,classNames:Xd,color:String,backgroundColor:String,borderColor:String,textColor:String},Kd={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function th(t,e){let i=function(t,e){return Array.isArray(t)?Yd(t,null,e,!0):"object"==typeof t&&t?Yd([t],null,e,!0):null!=t?String(t):null}(t.constraint,e);return{display:t.display||null,startEditable:null!=t.startEditable?t.startEditable:t.editable,durationEditable:null!=t.durationEditable?t.durationEditable:t.editable,constraints:null!=i?[i]:[],overlap:null!=t.overlap?t.overlap:null,allows:null!=t.allow?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function eh(t){return t.reduce(ih,Kd)}function ih(t,e){return{display:null!=e.display?e.display:t.display,startEditable:null!=e.startEditable?e.startEditable:t.startEditable,durationEditable:null!=e.durationEditable?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:"boolean"==typeof e.overlap?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}const nh={id:String,defaultAllDay:Boolean,url:String,format:String,events:Wc,eventDataTransform:Wc,
// for any network-related sources
success:Wc,failure:Wc};function sh(t,e,i=rh(e)){let n;if("string"==typeof t?n={url:t}:"function"==typeof t||Array.isArray(t)?n={events:t}:"object"==typeof t&&t&&(n=t),n){let{refined:s,extra:r}=jc(n,i),o=function(t,e){let i=e.pluginHooks.eventSourceDefs;for(let n=i.length-1;n>=0;n-=1){let e=i[n].parseMeta(t);if(e)return{sourceDefId:n,meta:e}}return null}(s,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:Nl(),sourceDefId:o.sourceDefId,meta:o.meta,ui:th(s,e),extendedProps:r}}return null}function rh(t){return Object.assign(Object.assign(Object.assign({},Jd),nh),t.pluginHooks.eventSourceRefiners)}function oh(t,e,i,n,s){switch(e.type){case"RECEIVE_EVENTS":return function(t,e,i,n,s,r){if(e&&// not already removed
i===e.latestFetchId){let i=Yd(ah(s,e,r),e,r);return n&&(i=zd(i,n,r)),Qd(ch(t,e.sourceId),i)}return t}(t,i[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return function(t,e,i,n){const{defIdMap:s,instanceIdMap:r}=function(t){const{defs:e,instances:i}=t,n={},s={};for(let r in e){const t=e[r],{publicId:i}=t;i&&(n[i]=r)}for(let r in i){const t=e[i[r].defId],{publicId:n}=t;n&&(s[n]=r)}return{defIdMap:n,instanceIdMap:s}}(t);let o=Yd(ah(i,e,n),e,n,!1,s,r);e.fetchRange&&(o=zd(o,e.fetchRange,n));return o}(t,i[e.sourceId],e.rawEvents,s);case"ADD_EVENTS":return function(t,e,i,n){i&&(e=zd(e,i,n));return Qd(t,e)}(t,e.eventStore,
// new ones
n?n.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return Qd(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?zd(t,n.activeRange,s):t;case"REMOVE_EVENTS":return function(t,e){let{defs:i,instances:n}=t,s={},r={};for(let o in i)e.defs[o]||(s[o]=i[o]);for(let o in n)!e.instances[o]&&// not explicitly excluded
s[n[o].defId]&&(r[o]=n[o]);return{defs:s,instances:r}}(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return ch(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Zd(t,(t=>!t.sourceId));case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return t}}function ah(t,e,i){let n=i.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(t=lh(t,s)),n&&(t=lh(t,n)),t}function lh(t,e){let i;if(e){i=[];for(let n of t){let t=e(n);t?i.push(t):null==t&&i.push(n)}}else i=t;return i}function ch(t,e){return Zd(t,(t=>t.sourceId!==e))}class dh{constructor(){this.handlers={},this.thisContext=null}setThisContext(t){this.thisContext=t}setOptions(t){this.options=t}on(t,e){!function(t,e,i){(t[e]||(t[e]=[])).push(i)}(this.handlers,t,e)}off(t,e){!function(t,e,i){i?t[e]&&(t[e]=t[e].filter((t=>t!==i))):delete t[e]}(this.handlers,t,e)}trigger(t,...e){let i=this.handlers[t]||[],n=this.options&&this.options[t],s=[].concat(n||[],i);for(let r of s)r.apply(this.thisContext,e)}hasHandlers(t){return Boolean(this.handlers[t]&&this.handlers[t].length||this.options&&this.options[t])}}const hh={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function uh(t,e){return Yd(function(t){let e;e=!0===t?[{}]:Array.isArray(t)?t.filter((t=>t.daysOfWeek)):"object"==typeof t&&t?[t]:[];return e=e.map((t=>Object.assign(Object.assign({},hh),t))),e}(t),null,e)}function fh(t,e,i){i.emitter.trigger("select",Object.assign(Object.assign({},ph(t,i)),{jsEvent:e?e.origEvent:null,view:i.viewApi||i.calendarApi.view}))}function ph(t,e){let i={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(i,r(t,e));var n,s;return Object.assign(i,(n=t,s=e.dateEnv,Object.assign(Object.assign({},Bh(n.range,s,n.allDay)),{allDay:n.allDay}))),i}function gh(t,e,i){let{dateEnv:n,options:s}=i,r=e;return t?(r=rc(r),r=n.add(r,s.defaultAllDayEventDuration)):r=n.add(r,s.defaultTimedEventDuration),r}function mh(t,e,i,n){let s=Dh(t.defs,e),r={defs:{},instances:{}};for(let o in t.defs){let e=t.defs[o];r.defs[o]=vh(e,s[o],i,n)}for(let o in t.instances){let e=t.instances[o],a=r.defs[e.defId];r.instances[o]=bh(e,a,s[e.defId],i,n)}return r}function vh(t,e,i,n){let s=i.standardProps||{};null==s.hasEnd&&e.durationEditable&&(i.startDelta||i.endDelta)&&(s.hasEnd=!0);let r=Object.assign(Object.assign(Object.assign({},t),s),{ui:Object.assign(Object.assign({},t.ui),s.ui)});i.extendedProps&&(r.extendedProps=Object.assign(Object.assign({},r.extendedProps),i.extendedProps));for(let o of n.pluginHooks.eventDefMutationAppliers)o(r,i,n);return!r.hasEnd&&n.options.forceEventDuration&&(r.hasEnd=!0),r}function bh(t,e,i,n,s){let{dateEnv:r}=s,o=n.standardProps&&!0===n.standardProps.allDay,a=n.standardProps&&!1===n.standardProps.hasEnd,l=Object.assign({},t);return o&&(l.range=Rd(l.range)),n.datesDelta&&i.startEditable&&(l.range={start:r.add(l.range.start,n.datesDelta),end:r.add(l.range.end,n.datesDelta)}),n.startDelta&&i.durationEditable&&(l.range={start:r.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&i.durationEditable&&(l.range={start:l.range.start,end:r.add(l.range.end,n.endDelta)}),a&&(l.range={start:l.range.start,end:gh(e.allDay,l.range.start,s)}),e.allDay&&(l.range={start:rc(l.range.start),end:rc(l.range.end)}),l.range.end<l.range.start&&(l.range.end=gh(e.allDay,l.range.start,s)),l}class yh{constructor(t,e){this.context=t,this.internalEventSource=e}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class xh{
// instance will be null if expressing a recurring event that has no current instances,
// OR if trying to validate an incoming external event that has no dates assigned
constructor(t,e,i){this._context=t,this._def=e,this._instance=i||null}
/*
  TODO: make event struct more responsible for this
  */setProp(t,e){if(t in Vd)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===t)e=Fd[t](e),this.mutate({standardProps:{publicId:e}});else if(t in Fd)e=Fd[t](e),this.mutate({standardProps:{[t]:e}});else if(t in Jd){let i=Jd[t](e);i="color"===t?{backgroundColor:e,borderColor:e}:"editable"===t?{startEditable:e,durationEditable:e}:{[t]:e},this.mutate({standardProps:{ui:i}})}else console.warn(`Could not set prop '${t}'. Use setExtendedProp instead.`)}setExtendedProp(t,e){this.mutate({extendedProps:{[t]:e}})}setStart(t,e={}){let{dateEnv:i}=this._context,n=i.createMarker(t);if(n&&this._instance){let t=Pd(this._instance.range.start,n,i,e.granularity);e.maintainDuration?this.mutate({datesDelta:t}):this.mutate({startDelta:t})}}setEnd(t,e={}){let i,{dateEnv:n}=this._context;if((null==t||(i=n.createMarker(t),i))&&this._instance)if(i){let t=Pd(this._instance.range.end,i,n,e.granularity);this.mutate({endDelta:t})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(t,e,i={}){let n,{dateEnv:s}=this._context,r={allDay:i.allDay},o=s.createMarker(t);var a,l;if(o&&((null==e||(n=s.createMarker(e),n))&&this._instance)){let t=this._instance.range;!0===i.allDay&&(t=Rd(t));let e=Pd(t.start,o,s,i.granularity);if(n){let o=Pd(t.end,n,s,i.granularity);l=o,(a=e).years===l.years&&a.months===l.months&&a.days===l.days&&a.milliseconds===l.milliseconds?this.mutate({datesDelta:e,standardProps:r}):this.mutate({startDelta:e,endDelta:o,standardProps:r})}else r.hasEnd=!1,this.mutate({datesDelta:e,standardProps:r})}}moveStart(t){let e=$l(t);e&&this.mutate({startDelta:e})}moveEnd(t){let e=$l(t);e&&this.mutate({endDelta:e})}moveDates(t){let e=$l(t);e&&this.mutate({datesDelta:e})}setAllDay(t,e={}){let i={allDay:t},{maintainDuration:n}=e;null==n&&(n=this._context.options.allDayMaintainDuration),this._def.allDay!==t&&(i.hasEnd=n),this.mutate({standardProps:i})}formatRange(t){let{dateEnv:e}=this._context,i=this._instance,n=Oc(t);return this._def.hasEnd?e.formatRange(i.range.start,i.range.end,n,{forcedStartTzo:i.forcedStartTzo,forcedEndTzo:i.forcedEndTzo}):e.format(i.range.start,n,{forcedTzo:i.forcedStartTzo})}mutate(t){let e=this._instance;if(e){let i=this._def,n=this._context,{eventStore:s}=n.getCurrentData(),r=qd(s,e.instanceId);r=mh(r,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},t,n);let o=new xh(n,i,e);this._def=r.defs[i.defId],this._instance=r.instances[e.instanceId],n.dispatch({type:"MERGE_EVENTS",eventStore:r}),n.emitter.trigger("eventChange",{oldEvent:o,event:this,relatedEvents:_h(r,n,e),revert(){n.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let t=this._context,e=wh(this);t.dispatch({type:"REMOVE_EVENTS",eventStore:e}),t.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){t.dispatch({type:"MERGE_EVENTS",eventStore:e})}})}get source(){let{sourceId:t}=this._def;return t?new yh(this._context,this._context.getCurrentData().eventSources[t]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let t=this._instance;return t?this._context.dateEnv.formatIso(t.range.start,{omitTime:this._def.allDay,forcedTzo:t.forcedStartTzo}):""}get endStr(){let t=this._instance;return t&&this._def.hasEnd?this._context.dateEnv.formatIso(t.range.end,{omitTime:this._def.allDay,forcedTzo:t.forcedEndTzo}):""}
// computable props that all access the def
// TODO: find a TypeScript-compatible way to do this at scale
get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}
// bad. just normalize the type earlier
get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}
// NOTE: user can't modify these because Object.freeze was called in event-def parsing
get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(t={}){let e=this._def,{ui:i}=e,{startStr:n,endStr:s}=this,r={allDay:e.allDay};return e.title&&(r.title=e.title),n&&(r.start=n),s&&(r.end=s),e.publicId&&(r.id=e.publicId),e.groupId&&(r.groupId=e.groupId),e.url&&(r.url=e.url),i.display&&"auto"!==i.display&&(r.display=i.display),t.collapseColor&&i.backgroundColor&&i.backgroundColor===i.borderColor?r.color=i.backgroundColor:(i.backgroundColor&&(r.backgroundColor=i.backgroundColor),i.borderColor&&(r.borderColor=i.borderColor)),i.textColor&&(r.textColor=i.textColor),i.classNames.length&&(r.classNames=i.classNames),Object.keys(e.extendedProps).length&&(t.collapseExtendedProps?Object.assign(r,e.extendedProps):r.extendedProps=e.extendedProps),r}toJSON(){return this.toPlainObject()}}function wh(t){let e=t._def,i=t._instance;return{defs:{[e.defId]:e},instances:i?{[i.instanceId]:i}:{}}}function _h(t,e,i){let{defs:n,instances:s}=t,r=[],o=i?i.instanceId:"";for(let a in s){let t=s[a],i=n[t.defId];t.instanceId!==o&&r.push(new xh(e,i,t))}return r}function Eh(t,e,i,n){let s={},r={},o={},a=[],l=[],c=Dh(t.defs,e);for(let d in t.defs){let e=t.defs[d];"inverse-background"===c[e.defId].display&&(e.groupId?(s[e.groupId]=[],o[e.groupId]||(o[e.groupId]=e)):r[d]=[])}for(let d in t.instances){let e=t.instances[d],o=t.defs[e.defId],h=c[o.defId],u=e.range,f=!o.allDay&&n?Od(u,n):u,p=Cd(f,i);p&&("inverse-background"===h.display?o.groupId?s[o.groupId].push(p):r[e.defId].push(p):"none"!==h.display&&("background"===h.display?a:l).push({def:o,ui:h,instance:e,range:p,isStart:f.start&&f.start.valueOf()===p.start.valueOf(),isEnd:f.end&&f.end.valueOf()===p.end.valueOf()}))}for(let d in s){let t=Ad(s[d],i);for(let e of t){let t=o[d],i=c[t.defId];a.push({def:t,ui:i,instance:null,range:e,isStart:!1,isEnd:!1})}}for(let d in r){let e=Ad(r[d],i);for(let i of e)a.push({def:t.defs[d],ui:c[d],instance:null,range:i,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function Sh(t,e){t.fcSeg=e}function Ah(t){return t.fcSeg||t.parentNode.fcSeg||// for the harness
null}function Dh(t,e){return Gc(t,(t=>Ch(t,e)))}function Ch(t,e){let i=[];return e[""]&&i.push(e[""]),e[t.defId]&&i.push(e[t.defId]),i.push(t.ui),eh(i)}function Mh(t,e){let i=t.map(kh);return i.sort(((t,i)=>function(t,e,i){let n,s;for(n=0;n<i.length;n+=1)if(s=zl(t,e,i[n]),s)return s;return 0}(t,i,e))),i.map((t=>t._seg))}function kh(t){let{eventRange:e}=t,i=e.def,n=e.instance?e.instance.range:e.range,s=n.start?n.start.valueOf():0,r=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},i.extendedProps),i),{id:i.publicId,start:s,end:r,duration:r-s,allDay:Number(i.allDay),_seg:t})}function Th(t,e){let{pluginHooks:i}=e,n=i.isDraggableTransformers,{def:s,ui:r}=t.eventRange,o=r.startEditable;for(let a of n)o=a(o,s,r,e);return o}function Rh(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function Oh(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Ph(t,e,i,n,s,r,o){let{dateEnv:a,options:l}=i,{displayEventTime:c,displayEventEnd:d}=l,h=t.eventRange.def,u=t.eventRange.instance;null==c&&(c=!1!==n),null==d&&(d=!1!==s);let f=u.range.start,p=u.range.end,g=r||t.start||t.eventRange.range.start,m=o||t.end||t.eventRange.range.end,v=rc(f).valueOf()===rc(g).valueOf(),b=rc(ic(p,-1)).valueOf()===rc(ic(m,-1)).valueOf();return c&&!h.allDay&&(v||b)?(g=v?f:g,m=b?p:m,d&&h.hasEnd?a.formatRange(g,m,e,{forcedStartTzo:r?null:u.forcedStartTzo,forcedEndTzo:o?null:u.forcedEndTzo}):a.format(g,e,{forcedTzo:r?null:u.forcedStartTzo})):""}function Nh(t,e,i){let n=t.eventRange.range;return{isPast:n.end<(i||e.start),isFuture:n.start>=(i||e.end),isToday:e&&Td(e,n.start)}}function Ih(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function Lh(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function zh(t,e){let{def:i,instance:n}=t.eventRange,{url:s}=i;if(s)return{href:s};let{emitter:r,options:o}=e,{eventInteractive:a}=o;return null==a&&(a=i.interactive,null==a&&(a=Boolean(r.hasHandlers("eventClick")))),a?Ol((t=>{r.trigger("eventClick",{el:t.target,event:new xh(e,i,n),jsEvent:t,view:e.viewApi})})):{}}const Hh={start:Wc,end:Wc,allDay:Boolean};function Fh(t,e,i){let n=function(t,e){let{refined:i,extra:n}=jc(t,Hh),s=i.start?e.createMarkerMeta(i.start):null,r=i.end?e.createMarkerMeta(i.end):null,{allDay:o}=i;null==o&&(o=s&&s.isTimeUnspecified&&(!r||r.isTimeUnspecified));return Object.assign({range:{start:s?s.marker:null,end:r?r.marker:null},allDay:o},n)}(t,e),{range:s}=n;if(!s.start)return null;if(!s.end){if(null==i)return null;s.end=e.add(s.start,i)}return n}function Vh(t,e,i){return Object.assign(Object.assign({},Bh(t,e,i)),{timeZone:e.timeZone})}function Bh(t,e,i){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:i}),endStr:e.formatIso(t.end,{omitTime:i})}}class jh extends Error{constructor(t,e){super(t),this.response=e}}let Wh;function Uh(){return null==Wh&&(Wh=function(){if("undefined"==typeof document)return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let e=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),e}()),Wh}class $h extends pd{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{this.setState({forPrint:!0})},this.handleAfterPrint=()=>{this.setState({forPrint:!1})}}render(){let{props:t}=this,{options:e}=t,{forPrint:i}=this.state,n=i||"auto"===e.height||"auto"===e.contentHeight,s=n||null==e.height?"":e.height,r=["fc",i?"fc-media-print":"fc-media-screen",`fc-direction-${e.direction}`,t.theme.getClass("root")];return Uh()||r.push("fc-liquid-hack"),t.children(r,s,n,i)}componentDidMount(){let{emitter:t}=this.props;t.on("_beforeprint",this.handleBeforePrint),t.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:t}=this.props;t.off("_beforeprint",this.handleBeforePrint),t.off("_afterprint",this.handleAfterPrint)}}class Yh{constructor(t){this.component=t.component,this.isHitComboAllowed=t.isHitComboAllowed||null}destroy(){}}function Gh(t){return{[t.component.uid]:t}}const qh={};class Qh{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(t){this.currentDataManager.dispatch(t)}get view(){return this.getCurrentData().viewApi}batchRendering(t){t()}updateSize(){this.trigger("_resize",!0)}
// Options
// -----------------------------------------------------------------------------------------------------------------
setOption(t,e){this.dispatch({type:"SET_OPTION",optionName:t,rawOptionValue:e})}getOption(t){return this.currentDataManager.currentCalendarOptionsInput[t]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}
// Trigger
// -----------------------------------------------------------------------------------------------------------------
on(t,e){let{currentDataManager:i}=this;i.currentCalendarOptionsRefiners[t]?i.emitter.on(t,e):console.warn(`Unknown listener name '${t}'`)}off(t,e){this.currentDataManager.emitter.off(t,e)}
// not meant for public use
trigger(t,...e){this.currentDataManager.emitter.trigger(t,...e)}
// View
// -----------------------------------------------------------------------------------------------------------------
changeView(t,e){this.batchRendering((()=>{if(this.unselect(),e)if(e.start&&e.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:e});else{let{dateEnv:i}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t,dateMarker:i.createMarker(e)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:t})}))}
// Forces navigation to a view for the given date.
// `viewType` can be a specific view name or a generic one like "week" or "day".
// needs to change
zoomTo(t,e){let i;e=e||"day",i=this.getCurrentData().viewSpecs[e]||this.getUnitViewSpec(e),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:t}):this.dispatch({type:"CHANGE_DATE",dateMarker:t})}
// Given a duration singular unit, like "week" or "day", finds a matching view spec.
// Preference is given to views that have corresponding buttons.
getUnitViewSpec(t){let e,i,{viewSpecs:n,toolbarConfig:s}=this.getCurrentData(),r=[].concat(s.header?s.header.viewsWithButtons:[],s.footer?s.footer.viewsWithButtons:[]);for(let o in n)r.push(o);for(e=0;e<r.length;e+=1)if(i=n[r[e]],i&&i.singleUnit===t)return i;return null}
// Current Date
// -----------------------------------------------------------------------------------------------------------------
prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,-1)})}nextYear(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.addYears(t.currentDate,1)})}today(){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Nd(t.calendarOptions.now,t.dateEnv)})}gotoDate(t){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.createMarker(t)})}incrementDate(t){let e=this.getCurrentData(),i=$l(t);i&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.add(e.currentDate,i)}))}getDate(){let t=this.getCurrentData();return t.dateEnv.toDate(t.currentDate)}
// Date Formatting Utils
// -----------------------------------------------------------------------------------------------------------------
formatDate(t,e){let{dateEnv:i}=this.getCurrentData();return i.format(i.createMarker(t),Oc(e))}
// `settings` is for formatter AND isEndExclusive
formatRange(t,e,i){let{dateEnv:n}=this.getCurrentData();return n.formatRange(n.createMarker(t),n.createMarker(e),Oc(i),i)}formatIso(t,e){let{dateEnv:i}=this.getCurrentData();return i.formatIso(i.createMarker(t),{omitTime:e})}
// Date Selection / Event Selection / DayClick
// -----------------------------------------------------------------------------------------------------------------
select(t,e){let i;i=null==e?null!=t.start?t:{start:t,end:null}:{start:t,end:e};let n=this.getCurrentData(),s=Fh(i,n.dateEnv,$l({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),fh(s,null,n))}unselect(t){let e=this.getCurrentData();e.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}(t,e))}
// Public Events API
// -----------------------------------------------------------------------------------------------------------------
addEvent(t,e){if(t instanceof xh){let e=t._def,i=t._instance;return this.getCurrentData().eventStore.defs[e.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Gd({def:e,instance:i})}),this.triggerEventAdd(t)),t}let i,n=this.getCurrentData();if(e instanceof yh)i=e.internalEventSource;else if("boolean"==typeof e)e&&([i]=Qc(n.eventSources));else if(null!=e){let t=this.getEventSourceById(e);if(!t)return console.warn(`Could not find an event source with ID "${e}"`),null;i=t.internalEventSource}let s=jd(t,i,n,!1);if(s){let t=new xh(n,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Gd(s)}),this.triggerEventAdd(t),t}return null}triggerEventAdd(t){let{emitter:e}=this.getCurrentData();e.trigger("eventAdd",{event:t,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:wh(t)})}})}
// TODO: optimize
getEventById(t){let e=this.getCurrentData(),{defs:i,instances:n}=e.eventStore;t=String(t);for(let s in i){let r=i[s];if(r.publicId===t){if(r.recurringDef)return new xh(e,r,null);for(let t in n){let i=n[t];if(i.defId===r.defId)return new xh(e,r,i)}}}return null}getEvents(){let t=this.getCurrentData();return _h(t.eventStore,t)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}
// Public Event Sources API
// -----------------------------------------------------------------------------------------------------------------
getEventSources(){let t=this.getCurrentData(),e=t.eventSources,i=[];for(let n in e)i.push(new yh(t,e[n]));return i}getEventSourceById(t){let e=this.getCurrentData(),i=e.eventSources;t=String(t);for(let n in i)if(i[n].publicId===t)return new yh(e,i[n]);return null}addEventSource(t){let e=this.getCurrentData();if(t instanceof yh)return e.eventSources[t.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[t.internalEventSource]}),t;let i=sh(t,e);return i?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[i]}),new yh(e,i)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}
// Scroll
// -----------------------------------------------------------------------------------------------------------------
scrollToTime(t){let e=$l(t);e&&this.trigger("_scrollRequest",{time:e})}}function Zh(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function Xh(t,e){let i={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return i.left<i.right&&i.top<i.bottom&&i}const Jh={defs:{},instances:{}};class Kh{constructor(){this.getKeysForEventDefs=vc(this._getKeysForEventDefs),this.splitDateSelection=vc(this._splitDateSpan),this.splitEventStore=vc(this._splitEventStore),this.splitIndividualUi=vc(this._splitIndividualUi),this.splitEventDrag=vc(this._splitInteraction),this.splitEventResize=vc(this._splitInteraction),this.eventUiBuilders={}}splitProps(t){let e=this.getKeyInfo(t),i=this.getKeysForEventDefs(t.eventStore),n=this.splitDateSelection(t.dateSelection),s=this.splitIndividualUi(t.eventUiBases,i),r=this.splitEventStore(t.eventStore,i),o=this.splitEventDrag(t.eventDrag),a=this.splitEventResize(t.eventResize),l={};this.eventUiBuilders=Gc(e,((t,e)=>this.eventUiBuilders[e]||vc(tu)));for(let c in e){let i=e[c],d=r[c]||Jh,h=this.eventUiBuilders[c];l[c]={businessHours:i.businessHours||t.businessHours,dateSelection:n[c]||null,eventStore:d,eventUiBases:h(t.eventUiBases[""],i.ui,s[c]),eventSelection:d.instances[t.eventSelection]?t.eventSelection:"",eventDrag:o[c]||null,eventResize:a[c]||null}}return l}_splitDateSpan(t){let e={};if(t){let i=this.getKeysForDateSpan(t);for(let n of i)e[n]=t}return e}_getKeysForEventDefs(t){return Gc(t.defs,(t=>this.getKeysForEventDef(t)))}_splitEventStore(t,e){let{defs:i,instances:n}=t,s={};for(let r in i)for(let t of e[r])s[t]||(s[t]={defs:{},instances:{}}),s[t].defs[r]=i[r];for(let r in n){let t=n[r];for(let i of e[t.defId])s[i]&&(s[i].instances[r]=t)}return s}_splitIndividualUi(t,e){let i={};for(let n in t)if(n)for(let s of e[n])i[s]||(i[s]={}),i[s][n]=t[n];return i}_splitInteraction(t){let e={};if(t){let i=this._splitEventStore(t.affectedEvents,this._getKeysForEventDefs(t.affectedEvents)),n=this._getKeysForEventDefs(t.mutatedEvents),s=this._splitEventStore(t.mutatedEvents,n),r=n=>{e[n]||(e[n]={affectedEvents:i[n]||Jh,mutatedEvents:s[n]||Jh,isEvent:t.isEvent})};for(let t in i)r(t);for(let t in s)r(t)}return e}}function tu(t,e,i){let n=[];t&&n.push(t),e&&n.push(e);let s={"":eh(n)};return i&&Object.assign(s,i),s}function eu(t,e,i,n){return{dow:t.getUTCDay(),isDisabled:Boolean(n&&!Td(n.activeRange,t)),isOther:Boolean(n&&!Td(n.currentRange,t)),isToday:Boolean(e&&Td(e,t)),isPast:Boolean(i?t<i:!!e&&t<e.start),isFuture:Boolean(i?t>i:!!e&&t>=e.end)}}function iu(t,e){let i=["fc-day",`fc-day-${Kl[t.dow]}`];return t.isDisabled?i.push("fc-day-disabled"):(t.isToday&&(i.push("fc-day-today"),i.push(e.getClass("today"))),t.isPast&&i.push("fc-day-past"),t.isFuture&&i.push("fc-day-future"),t.isOther&&i.push("fc-day-other")),i}const nu=Oc({year:"numeric",month:"long",day:"numeric"}),su=Oc({week:"long"});function ru(t,e,i="day",n=!0){const{dateEnv:s,options:r,calendarApi:o}=t;let a=s.format(e,"week"===i?su:nu);if(r.navLinks){let t=s.toDate(e);const l=t=>{let n="day"===i?r.navLinkDayClick:"week"===i?r.navLinkWeekClick:null;"function"==typeof n?n.call(o,s.toDate(e),t):("string"==typeof n&&(i=n),o.zoomTo(e,i))};return Object.assign({title:Fl(r.navLinkHint,[a,t],a),"data-navlink":""},n?Rl(l):{onClick:l})}return{"aria-label":a}}let ou,au=null;function lu(){return null===au&&(au=function(){let t=document.createElement("div");El(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let e=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return yl(t),e}()),au}function cu(){return ou||(ou=function(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=du(t);return document.body.removeChild(t),e}()),ou}function du(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function hu(t,e=!1,i){let n=i?t.getBoundingClientRect():uu(t),s=function(t,e=!1){let i=window.getComputedStyle(t),n=parseInt(i.borderLeftWidth,10)||0,s=parseInt(i.borderRightWidth,10)||0,r=parseInt(i.borderTopWidth,10)||0,o=parseInt(i.borderBottomWidth,10)||0,a=du(t),l=a.y-n-s,c={borderLeft:n,borderRight:s,borderTop:r,borderBottom:o,scrollbarBottom:a.x-r-o,scrollbarLeft:0,scrollbarRight:0};return lu()&&"rtl"===i.direction?c.scrollbarLeft=l:c.scrollbarRight=l,e&&(c.paddingLeft=parseInt(i.paddingLeft,10)||0,c.paddingRight=parseInt(i.paddingRight,10)||0,c.paddingTop=parseInt(i.paddingTop,10)||0,c.paddingBottom=parseInt(i.paddingBottom,10)||0),c}(t,e),r={left:n.left+s.borderLeft+s.scrollbarLeft,right:n.right-s.borderRight-s.scrollbarRight,top:n.top+s.borderTop,bottom:n.bottom-s.borderBottom-s.scrollbarBottom};return e&&(r.left+=s.paddingLeft,r.right-=s.paddingRight,r.top+=s.paddingTop,r.bottom-=s.paddingBottom),r}function uu(t){let e=t.getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,right:e.right+window.pageXOffset,bottom:e.bottom+window.pageYOffset}}function fu(t){let e=[];for(;t instanceof HTMLElement;){let i=window.getComputedStyle(t);if("fixed"===i.position)break;/(auto|scroll)/.test(i.overflow+i.overflowY+i.overflowX)&&e.push(t),t=t.parentNode}return e}class pu{constructor(t,e,i,n){this.els=e;let s=this.originClientRect=t.getBoundingClientRect();i&&this.buildElHorizontals(s.left),n&&this.buildElVerticals(s.top)}
// Populates the left/right internal coordinate arrays
buildElHorizontals(t){let e=[],i=[];for(let n of this.els){let s=n.getBoundingClientRect();e.push(s.left-t),i.push(s.right-t)}this.lefts=e,this.rights=i}
// Populates the top/bottom internal coordinate arrays
buildElVerticals(t){let e=[],i=[];for(let n of this.els){let s=n.getBoundingClientRect();e.push(s.top-t),i.push(s.bottom-t)}this.tops=e,this.bottoms=i}
// Given a left offset (from document left), returns the index of the el that it horizontally intersects.
// If no intersection is made, returns undefined.
leftToIndex(t){let e,{lefts:i,rights:n}=this,s=i.length;for(e=0;e<s;e+=1)if(t>=i[e]&&t<n[e])return e}
// Given a top offset (from document top), returns the index of the el that it vertically intersects.
// If no intersection is made, returns undefined.
topToIndex(t){let e,{tops:i,bottoms:n}=this,s=i.length;for(e=0;e<s;e+=1)if(t>=i[e]&&t<n[e])return e}
// Gets the width of the element at the given index
getWidth(t){return this.rights[t]-this.lefts[t]}
// Gets the height of the element at the given index
getHeight(t){return this.bottoms[t]-this.tops[t]}similarTo(t){return gu(this.tops||[],t.tops||[])&&gu(this.bottoms||[],t.bottoms||[])&&gu(this.lefts||[],t.lefts||[])&&gu(this.rights||[],t.rights||[])}}function gu(t,e){const i=t.length;if(i!==e.length)return!1;for(let n=0;n<i;n++)if(Math.round(t[n])!==Math.round(e[n]))return!1;return!0}class mu{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class vu extends mu{constructor(t){super(),this.el=t}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(t){this.el.scrollTop=t}setScrollLeft(t){this.el.scrollLeft=t}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class bu extends mu{getScrollTop(){return window.pageYOffset}getScrollLeft(){return window.pageXOffset}setScrollTop(t){window.scroll(window.pageXOffset,t)}setScrollLeft(t){window.scroll(t,window.pageYOffset)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class yu extends pd{constructor(){super(...arguments),this.uid=Nl()}
// Hit System
// -----------------------------------------------------------------------------------------------------------------
prepareHits(){}queryHit(t,e,i,n){return null}
// Pointer Interaction Utils
// -----------------------------------------------------------------------------------------------------------------
isValidSegDownEl(t){return!this.props.eventDrag&&// HACK
!this.props.eventResize&&// HACK
!xl(t,".fc-event-mirror")}isValidDateDownEl(t){return!(xl(t,".fc-event:not(.fc-bg-event)")||xl(t,".fc-more-link")||xl(t,"a[data-navlink]")||xl(t,".fc-popover"))}}class xu{constructor(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(t){let e=[];for(let i of t)this.insertEntry(i,e);return e}insertEntry(t,e){let i=this.findInsertion(t);return this.isInsertionValid(i,t)?(this.insertEntryAt(t,i),1):this.handleInvalidInsertion(i,t,e)}isInsertionValid(t,e){return(-1===this.maxCoord||t.levelCoord+e.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||t.stackCnt<this.maxStackCnt)}
// returns number of new entries inserted
handleInvalidInsertion(t,e,i){return this.allowReslicing&&t.touchingEntry?this.splitEntry(e,t.touchingEntry,i):(i.push(e),0)}splitEntry(t,e,i){let n=0,s=[],r=t.span,o=e.span;return r.start<o.start&&(n+=this.insertEntry({index:t.index,thickness:t.thickness,span:{start:r.start,end:o.start}},s)),r.end>o.end&&(n+=this.insertEntry({index:t.index,thickness:t.thickness,span:{start:o.end,end:r.end}},s)),n?(i.push({index:t.index,thickness:t.thickness,span:Eu(o,r)},...s),n):(i.push(t),0)}insertEntryAt(t,e){let{entriesByLevel:i,levelCoords:n}=this;-1===e.lateral?(Su(n,e.level,e.levelCoord),Su(i,e.level,[t])):Su(i[e.level],e.lateral,t),this.stackCnts[_u(t)]=e.stackCnt}findInsertion(t){let{levelCoords:e,entriesByLevel:i,strictOrder:n,stackCnts:s}=this,r=e.length,o=0,a=-1,l=-1,c=null,d=0;for(let f=0;f<r;f+=1){let r=e[f];if(!n&&r>=o+t.thickness)break;let h,u=i[f],p=Au(u,t.span.start,wu),g=p[0]+p[1];for(;
// loop through entries that horizontally intersect
(h=u[g])&&// but not past the whole entry list
h.span.start<t.span.end;){let t=r+h.thickness;t>o&&(o=t,c=h,a=f,l=g),t===o&&(d=Math.max(d,s[_u(h)]+1)),g+=1}}let h=0;if(c)for(h=a+1;h<r&&e[h]<o;)h+=1;let u=-1;return h<r&&e[h]===o&&(u=Au(i[h],t.span.end,wu)[0]),{touchingLevel:a,touchingLateral:l,touchingEntry:c,stackCnt:d,levelCoord:o,level:h,lateral:u}}
// sorted by levelCoord (lowest to highest)
toRects(){let{entriesByLevel:t,levelCoords:e}=this,i=t.length,n=[];for(let s=0;s<i;s+=1){let i=t[s],r=e[s];for(let t of i)n.push(Object.assign(Object.assign({},t),{levelCoord:r}))}return n}}function wu(t){return t.span.end}function _u(t){return t.index+":"+t.span.start}function Eu(t,e){let i=Math.max(t.start,e.start),n=Math.min(t.end,e.end);return i<n?{start:i,end:n}:null}function Su(t,e,i){t.splice(e,0,i)}function Au(t,e,i){let n=0,s=t.length;if(!s||e<i(t[n]))return[0,0];if(e>i(t[s-1]))return[s,0];for(;n<s;){let r=Math.floor(n+(s-n)/2),o=i(t[r]);if(e<o)s=r;else{if(!(e>o))return[r,1];n=r+1}}return[n,0]}class Du{constructor(t,e){this.emitter=new dh}destroy(){}setMirrorIsVisible(t){}setMirrorNeedsRevert(t){}setAutoScrollEnabled(t){}}const Cu={};const Mu="fc-col-header-cell";function ku(t){return t.text}class Tu extends pd{render(){let{dateEnv:t,options:e,theme:i,viewApi:n}=this.context,{props:s}=this,{date:r,dateProfile:o}=s,a=eu(r,s.todayRange,null,o),l=[Mu].concat(iu(a,i)),c=t.format(r,s.dayHeaderFormat),d=!a.isDisabled&&s.colCnt>1?ru(this.context,r):{},h=Object.assign(Object.assign(Object.assign({date:t.toDate(r),view:n},s.extraRenderProps),{text:c}),a);return z(wd,{elTag:"th",elClasses:l,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":a.isDisabled?void 0:gc(r)},s.extraDataAttrs),renderProps:h,generatorName:"dayHeaderContent",customGenerator:e.dayHeaderContent,defaultGenerator:ku,classNameGenerator:e.dayHeaderClassNames,didMount:e.dayHeaderDidMount,willUnmount:e.dayHeaderWillUnmount},(t=>z("div",{className:"fc-scrollgrid-sync-inner"},!a.isDisabled&&z(t,{elTag:"a",elAttrs:d,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]}))))}}const Ru=Oc({weekday:"long"});class Ou extends pd{render(){let{props:t}=this,{dateEnv:e,theme:i,viewApi:n,options:s}=this.context,r=ec(new Date(2592e5),t.dow),o={dow:t.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},a=e.format(r,t.dayHeaderFormat),l=Object.assign(Object.assign(Object.assign(Object.assign({
// TODO: make this public?
date:r},o),{view:n}),t.extraRenderProps),{text:a});return z(wd,{elTag:"th",elClasses:[Mu,...iu(o,i),...t.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:t.colSpan},t.extraDataAttrs),renderProps:l,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:ku,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},(i=>z("div",{className:"fc-scrollgrid-sync-inner"},z(i,{elTag:"a",elClasses:["fc-col-header-cell-cushion",t.isSticky&&"fc-sticky"],elAttrs:{"aria-label":e.format(r,Ru)}}))))}}class Pu extends L{constructor(t,e){super(t,e),this.initialNowDate=Nd(e.options.now,e.dateEnv),this.initialNowQueriedMs=(new Date).valueOf(),this.state=this.computeTiming().currentState}render(){let{props:t,state:e}=this;return t.children(e.nowDate,e.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(t){t.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:t,context:e}=this,i=ic(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),n=e.dateEnv.startOf(i,t.unit),s=e.dateEnv.add(n,$l(1,t.unit)),r=s.valueOf()-i.valueOf();return r=Math.min(864e5,r),{currentState:{nowDate:n,todayRange:Nu(n)},nextState:{nowDate:s,todayRange:Nu(s)},waitMs:r}}setTimeout(){let{nextState:t,waitMs:e}=this.computeTiming();this.timeoutId=setTimeout((()=>{this.setState(t,(()=>{this.setTimeout()}))}),e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}function Nu(t){let e=rc(t);return{start:e,end:ec(e,1)}}Pu.contextType=hd;class Iu extends pd{constructor(){super(...arguments),this.createDayHeaderFormatter=vc(Lu)}render(){let{context:t}=this,{dates:e,dateProfile:i,datesRepDistinctDays:n,renderIntro:s}=this.props,r=this.createDayHeaderFormatter(t.options.dayHeaderFormat,n,e.length);return z(Pu,{unit:"day"},((t,o)=>z("tr",{role:"row"},s&&s("day"),e.map((t=>n?z(Tu,{key:t.toISOString(),date:t,dateProfile:i,todayRange:o,colCnt:e.length,dayHeaderFormat:r}):z(Ou,{key:t.getUTCDay(),dow:t.getUTCDay(),dayHeaderFormat:r}))))))}}function Lu(t,e,i){return t||function(t,e){return Oc(!t||e>10?{weekday:"short"}:e>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}(e,i)}class zu{constructor(t,e){let i=t.start,{end:n}=t,s=[],r=[],o=-1;for(;i<n;)e.isHiddenDay(i)?s.push(o+.5):(o+=1,s.push(o),r.push(i)),i=ec(i,1);this.dates=r,this.indices=s,this.cnt=r.length}sliceRange(t){let e=this.getDateDayIndex(t.start),i=this.getDateDayIndex(ec(t.end,-1)),n=Math.max(0,e),s=Math.min(this.cnt-1,i);return n=Math.ceil(n),s=Math.floor(s),n<=s?{firstIndex:n,lastIndex:s,isStart:e===n,isEnd:i===s}:null}
// Given a date, returns its chronolocial cell-index from the first cell of the grid.
// If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.
// If before the first offset, returns a negative number.
// If after the last offset, returns an offset past the last cell offset.
// Only works for *start* dates of cells. Will not work for exclusive end dates for cells.
getDateDayIndex(t){let{indices:e}=this,i=Math.floor(nc(this.dates[0],t));return i<0?e[0]-1:i>=e.length?e[e.length-1]+1:e[i]}}class Hu{constructor(t,e){let i,n,s,{dates:r}=t;if(e){for(n=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==n;i+=1);s=Math.ceil(r.length/i)}else s=1,i=r.length;this.rowCnt=s,this.colCnt=i,this.daySeries=t,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let t=[];for(let e=0;e<this.rowCnt;e+=1){let i=[];for(let t=0;t<this.colCnt;t+=1)i.push(this.buildCell(e,t));t.push(i)}return t}buildCell(t,e){let i=this.daySeries.dates[t*this.colCnt+e];return{key:i.toISOString(),date:i}}buildHeaderDates(){let t=[];for(let e=0;e<this.colCnt;e+=1)t.push(this.cells[0][e].date);return t}sliceRange(t){let{colCnt:e}=this,i=this.daySeries.sliceRange(t),n=[];if(i){let{firstIndex:t,lastIndex:s}=i,r=t;for(;r<=s;){let o=Math.floor(r/e),a=Math.min((o+1)*e,s+1);n.push({row:o,firstCol:r%e,lastCol:(a-1)%e,isStart:i.isStart&&r===t,isEnd:i.isEnd&&a-1===s}),r=a}}return n}}class Fu{constructor(){this.sliceBusinessHours=vc(this._sliceBusinessHours),this.sliceDateSelection=vc(this._sliceDateSpan),this.sliceEventStore=vc(this._sliceEventStore),this.sliceEventDrag=vc(this._sliceInteraction),this.sliceEventResize=vc(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(t,e,i,n,...s){let{eventUiBases:r}=t,o=this.sliceEventStore(t.eventStore,r,e,i,...s);return{dateSelectionSegs:this.sliceDateSelection(t.dateSelection,e,i,r,n,...s),businessHourSegs:this.sliceBusinessHours(t.businessHours,e,i,n,...s),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(t.eventDrag,r,e,i,...s),eventResize:this.sliceEventResize(t.eventResize,r,e,i,...s),eventSelection:t.eventSelection}}sliceNowDate(t,e,i,n,...s){return this._sliceDateSpan({range:{start:t,end:ic(t,1)},allDay:!1},
// add 1 ms, protect against null range
e,i,{},n,...s)}_sliceBusinessHours(t,e,i,n,...s){return t?this._sliceEventStore(zd(t,Vu(e,Boolean(i)),n),{},e,i,...s).bg:[]}_sliceEventStore(t,e,i,n,...s){if(t){let r=Eh(t,e,Vu(i,Boolean(n)),n);return{bg:this.sliceEventRanges(r.bg,s),fg:this.sliceEventRanges(r.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(t,e,i,n,...s){if(!t)return null;let r=Eh(t.mutatedEvents,e,Vu(i,Boolean(n)),n);return{segs:this.sliceEventRanges(r.fg,s),affectedInstances:t.affectedEvents.instances,isEvent:t.isEvent}}_sliceDateSpan(t,e,i,n,s,...r){if(!t)return[];let o=Vu(e,Boolean(i)),a=Cd(t.range,o);if(a){let e=function(t,e,i){let n=Wd({editable:!1},i),s=$d(n.refined,n.extra,"",
// sourceId
t.allDay,!0,
// hasEnd
i);return{def:s,ui:Ch(s,e),instance:Ld(s.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}(t=Object.assign(Object.assign({},t),{range:a}),n,s),i=this.sliceRange(t.range,...r);for(let t of i)t.eventRange=e;return i}return[]}
/*
  "complete" seg means it has component and eventRange
  */sliceEventRanges(t,e){let i=[];for(let n of t)i.push(...this.sliceEventRange(n,e));return i}
/*
  "complete" seg means it has component and eventRange
  */sliceEventRange(t,e){let i=t.range;this.forceDayIfListItem&&"list-item"===t.ui.display&&(i={start:i.start,end:ec(i.start,1)});let n=this.sliceRange(i,...e);for(let s of n)s.eventRange=t,s.isStart=t.isStart&&s.isStart,s.isEnd=t.isEnd&&s.isEnd;return n}}function Vu(t,e){let i=t.activeRange;return e?i:{start:ic(i.start,t.slotMinTime.milliseconds),end:ic(i.end,t.slotMaxTime.milliseconds-864e5)}}function Bu(t,e,i){let{instances:n}=t.mutatedEvents;for(let s in n)if(!kd(e.validRange,n[s].range))return!1;return ju({eventDrag:t},i)}function ju(t,e){let i=e.getCurrentData(),n=Object.assign({businessHours:i.businessHours,dateSelection:"",eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||Wu)(n,e)}function Wu(t,e,i={},n){return!(t.eventDrag&&!function(t,e,i,n){let s=e.getCurrentData(),r=t.eventDrag,o=r.mutatedEvents,a=o.defs,l=o.instances,c=Dh(a,r.isEvent?t.eventUiBases:{"":s.selectionConfig});n&&(c=Gc(c,n));let d=(p=t.eventStore,g=r.affectedEvents.instances,{defs:p.defs,instances:Yc(p.instances,(t=>!g[t.instanceId]))}),h=d.defs,u=d.instances,f=Dh(h,t.eventUiBases);var p,g;for(let m in l){let n=l[m],o=n.range,p=c[n.defId],g=a[n.defId];if(!Uu(p.constraints,o,d,t.businessHours,e))return!1;let{eventOverlap:v}=e.options,b="function"==typeof v?v:null;for(let t in u){let i=u[t];if(Md(o,i.range)){if(!1===f[i.defId].overlap&&r.isEvent)return!1;if(!1===p.overlap)return!1;if(b&&!b(new xh(e,h[i.defId],i),
// still event
new xh(e,g,n)))return!1}}let y=s.eventStore;for(let t of p.allows){let s,r=Object.assign(Object.assign({},i),{range:n.range,allDay:g.allDay}),o=y.defs[g.defId],a=y.instances[m];if(s=o?new xh(e,o,a):new xh(e,g),!t(ph(r,e),s))return!1}}return!0}(t,e,i,n))&&!(t.dateSelection&&!function(t,e,i,n){let s=t.eventStore,r=s.defs,o=s.instances,a=t.dateSelection,l=a.range,{selectionConfig:c}=e.getCurrentData();n&&(c=n(c));if(!Uu(c.constraints,l,s,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,h="function"==typeof d?d:null;for(let u in o){let t=o[u];if(Md(l,t.range)){if(!1===c.overlap)return!1;if(h&&!h(new xh(e,r[t.defId],t),null))return!1}}for(let u of c.allows){if(!u(ph(Object.assign(Object.assign({},i),a),e),null))return!1}return!0}(t,e,i,n))}function Uu(t,e,i,n,s){for(let r of t)if(!Gu($u(r,e,i,n,s),e))return!1;return!0}function $u(t,e,i,n,s){return"businessHours"===t?Yu(zd(n,e,s)):"string"==typeof t?Yu(Zd(i,(e=>e.groupId===t))):"object"==typeof t&&t?Yu(zd(t,e,s)):[]}function Yu(t){let{instances:e}=t,i=[];for(let n in e)i.push(e[n].range);return i}function Gu(t,e){for(let i of t)if(kd(i,e))return!0;return!1}const qu=/^(visible|hidden)$/;class Qu extends pd{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,gd(this.props.elRef,t)}}render(){let{props:t}=this,{liquid:e,liquidIsAbsolute:i}=t,n=e&&i,s=["fc-scroller"];return e&&(i?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),z("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:t.overflowX,overflowY:t.overflowY,left:n&&-(t.overcomeLeft||0)||"",right:n&&-(t.overcomeRight||0)||"",bottom:n&&-(t.overcomeBottom||0)||"",marginLeft:!n&&-(t.overcomeLeft||0)||"",marginRight:!n&&-(t.overcomeRight||0)||"",marginBottom:!n&&-(t.overcomeBottom||0)||"",maxHeight:t.maxHeight||""}},t.children)}needsXScrolling(){if(qu.test(this.props.overflowX))return!1;let{el:t}=this,e=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:i}=t;for(let n=0;n<i.length;n+=1){if(i[n].getBoundingClientRect().width>e)return!0}return!1}needsYScrolling(){if(qu.test(this.props.overflowY))return!1;let{el:t}=this,e=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:i}=t;for(let n=0;n<i.length;n+=1){if(i[n].getBoundingClientRect().height>e)return!0}return!1}getXScrollbarWidth(){return qu.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return qu.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class Zu{constructor(t){this.masterCallback=t,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,e)=>{let{depths:i,currentMap:n}=this,s=!1,r=!1;null!==t?(s=e in n,n[e]=t,i[e]=(i[e]||0)+1,r=!0):(i[e]-=1,i[e]||(delete n[e],delete this.callbackMap[e],s=!0)),this.masterCallback&&(s&&this.masterCallback(null,String(e)),r&&this.masterCallback(t,String(e)))}}createRef(t){let e=this.callbackMap[t];return e||(e=this.callbackMap[t]=e=>{this.handleValue(e,String(t))}),e}
// TODO: check callers that don't care about order. should use getAll instead
// NOTE: this method has become less valuable now that we are encouraged to map order by some other index
// TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and "collect"
collect(t,e,i){return function(t,e=0,i,n=1){let s=[];null==i&&(i=Object.keys(t).length);for(let r=e;r<i;r+=n){let e=t[r];void 0!==e&&s.push(e)}return s}(this.currentMap,t,e,i)}getAll(){return Qc(this.currentMap)}}function Xu(t){let e=function(t,e){let i=t instanceof HTMLElement?[t]:t,n=[];for(let s=0;s<i.length;s+=1){let t=i[s].querySelectorAll(e);for(let e=0;e<t.length;e+=1)n.push(t[e])}return n}(t,".fc-scrollgrid-shrink"),i=0;for(let n of e)i=Math.max(i,jl(n));return Math.ceil(i)}function Ju(t,e){return t.liquid&&e.liquid}function Ku(t,e){return Jl(t,e,Zc)}function tf(t,e){let i=[];for(let n of t){let t=n.span||1;for(let s=0;s<t;s+=1)i.push(z("col",{style:{width:"shrink"===n.width?ef(e):n.width||"",minWidth:n.minWidth||""}}))}return z("colgroup",{},...i)}function ef(t){return null==t?4:t}function nf(t,e){let i=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&null==t.maxHeight&&i.push("fc-scrollgrid-section-liquid"),t.isSticky&&i.push("fc-scrollgrid-section-sticky"),i}function sf(t){return z("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function rf(t){let{stickyHeaderDates:e}=t;return null!=e&&"auto"!==e||(e="auto"===t.height||"auto"===t.viewHeight),e}function of(t){let{stickyFooterScrollbar:e}=t;return null!=e&&"auto"!==e||(e="auto"===t.height||"auto"===t.viewHeight),e}class af extends pd{constructor(){super(...arguments),this.processCols=vc((t=>t),Ku),this.renderMicroColGroup=vc(tf),this.scrollerRefs=new Zu,this.scrollerElRefs=new Zu(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:t,state:e,context:i}=this,n=t.sections||[],s=this.processCols(t.cols),r=this.renderMicroColGroup(s,e.shrinkWidth),o=function(t,e){let i=["fc-scrollgrid",e.theme.getClass("table")];return t&&i.push("fc-scrollgrid-liquid"),i}(t.liquid,i);t.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let a,l=n.length,c=0,d=[],h=[],u=[];for(;c<l&&"header"===(a=n[c]).type;)d.push(this.renderSection(a,r,!0)),c+=1;for(;c<l&&"body"===(a=n[c]).type;)h.push(this.renderSection(a,r,!1)),c+=1;for(;c<l&&"footer"===(a=n[c]).type;)u.push(this.renderSection(a,r,!0)),c+=1;let f=!Uh();const p={role:"rowgroup"};return z("table",{role:"grid",className:o.join(" "),style:{height:t.height}},Boolean(!f&&d.length)&&z("thead",p,...d),Boolean(!f&&h.length)&&z("tbody",p,...h),Boolean(!f&&u.length)&&z("tfoot",p,...u),f&&z("tbody",p,...d,...h,...u))}renderSection(t,e,i){return"outerContent"in t?z(H,{key:t.key},t.outerContent):z("tr",{key:t.key,role:"presentation",className:nf(t,this.props.liquid).join(" ")},this.renderChunkTd(t,e,t.chunk,i))}renderChunkTd(t,e,i,n){if("outerContent"in i)return i.outerContent;let{props:s}=this,{forceYScrollbars:r,scrollerClientWidths:o,scrollerClientHeights:a}=this.state,l=function(t,e){return null!=e.maxHeight||// if its possible for the height to max out, we might need scrollbars
Ju(t,e)}(s,t),c=Ju(s,t),d=s.liquid?r?"scroll":l?"auto":"hidden":"visible",h=t.key,u=function(t,e,i,n){let{expandRows:s}=i;return"function"==typeof e.content?e.content(i):z("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:i.tableMinWidth,width:i.clientWidth,height:s?i.clientHeight:""}},i.tableColGroupNode,z(n?"thead":"tbody",{role:"presentation"},"function"==typeof e.rowContent?e.rowContent(i):e.rowContent))}(t,i,{tableColGroupNode:e,tableMinWidth:"",clientWidth:s.collapsibleWidth||void 0===o[h]?null:o[h],clientHeight:void 0!==a[h]?a[h]:null,expandRows:t.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},n);return z(n?"th":"td",{ref:i.elRef,role:"presentation"},z("div",{className:"fc-scroller-harness"+(c?" fc-scroller-harness-liquid":"")},z(Qu,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:d,overflowX:s.liquid?"hidden":"visible",maxHeight:t.maxHeight,liquid:c,liquidIsAbsolute:!0},u)))}_handleScrollerEl(t,e){let i=function(t,e){for(let i of t)if(i.key===e)return i;return null}(this.props.sections,e);i&&gd(i.chunk.scrollerElRef,t)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return function(t){for(let e of t)if("shrink"===e.width)return!0;return!1}(this.props.cols)?Xu(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let t=cu(),{scrollerRefs:e,scrollerElRefs:i}=this,n=!1,s={},r={};for(let o in e.currentMap){let t=e.currentMap[o];if(t&&t.needsYScrolling()){n=!0;break}}for(let o of this.props.sections){let e=o.key,a=i.currentMap[e];if(a){let i=a.parentNode;s[e]=Math.floor(i.getBoundingClientRect().width-(n?t.y:0)),r[e]=Math.floor(i.getBoundingClientRect().height)}}return{forceYScrollbars:n,scrollerClientWidths:s,scrollerClientHeights:r}}}af.addStateEquality({scrollerClientWidths:Zc,scrollerClientHeights:Zc});class lf extends pd{constructor(){super(...arguments),this.handleEl=t=>{this.el=t,t&&Sh(t,this.props.seg)}}render(){const{props:t,context:e}=this,{options:i}=e,{seg:n}=t,{eventRange:s}=n,{ui:r}=s,o={event:new xh(e,s.def,s.instance),view:e.viewApi,timeText:t.timeText,textColor:r.textColor,backgroundColor:r.backgroundColor,borderColor:r.borderColor,isDraggable:!t.disableDragging&&Th(n,e),isStartResizable:!t.disableResizing&&Rh(n,e),isEndResizable:!t.disableResizing&&Oh(n),isMirror:Boolean(t.isDragging||t.isResizing||t.isDateSelecting),isStart:Boolean(n.isStart),isEnd:Boolean(n.isEnd),isPast:Boolean(t.isPast),isFuture:Boolean(t.isFuture),isToday:Boolean(t.isToday),isSelected:Boolean(t.isSelected),isDragging:Boolean(t.isDragging),isResizing:Boolean(t.isResizing)};return z(wd,Object.assign({},t,{elRef:this.handleEl,elClasses:[...Ih(o),...n.eventRange.ui.classNames,...t.elClasses||[]],renderProps:o,generatorName:"eventContent",customGenerator:i.eventContent,defaultGenerator:t.defaultGenerator,classNameGenerator:i.eventClassNames,didMount:i.eventDidMount,willUnmount:i.eventWillUnmount}))}componentDidUpdate(t){this.el&&this.props.seg!==t.seg&&Sh(this.el,this.props.seg)}}class cf extends pd{render(){let{props:t,context:e}=this,{options:i}=e,{seg:n}=t,{ui:s}=n.eventRange,r=Ph(n,i.eventTimeFormat||t.defaultTimeFormat,e,t.defaultDisplayEventTime,t.defaultDisplayEventEnd);return z(lf,Object.assign({},t,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:zh(n,e),defaultGenerator:df,timeText:r}),((t,e)=>z(H,null,z(t,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:e.textColor}}),Boolean(e.isStartResizable)&&z("div",{className:"fc-event-resizer fc-event-resizer-start"}),Boolean(e.isEndResizable)&&z("div",{className:"fc-event-resizer fc-event-resizer-end"}))))}}function df(t){return z("div",{className:"fc-event-main-frame"},t.timeText&&z("div",{className:"fc-event-time"},t.timeText),z("div",{className:"fc-event-title-container"},z("div",{className:"fc-event-title fc-sticky"},t.event.title||z(H,null," "))))}const hf=t=>z(hd.Consumer,null,(e=>{let{options:i}=e,n={isAxis:t.isAxis,date:e.dateEnv.toDate(t.date),view:e.viewApi};return z(wd,Object.assign({},t,{elTag:t.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:i.nowIndicatorContent,classNameGenerator:i.nowIndicatorClassNames,didMount:i.nowIndicatorDidMount,willUnmount:i.nowIndicatorWillUnmount}))})),uf=Oc({day:"numeric"});class ff extends pd{constructor(){super(...arguments),this.refineRenderProps=bc(gf)}render(){let{props:t,context:e}=this,{options:i}=e,n=this.refineRenderProps({date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,isMonthStart:t.isMonthStart||!1,showDayNumber:t.showDayNumber,extraRenderProps:t.extraRenderProps,viewApi:e.viewApi,dateEnv:e.dateEnv,monthStartFormat:i.monthStartFormat});return z(wd,Object.assign({},t,{elClasses:[...iu(n,e.theme),...t.elClasses||[]],elAttrs:Object.assign(Object.assign({},t.elAttrs),n.isDisabled?{}:{"data-date":gc(t.date)}),renderProps:n,generatorName:"dayCellContent",customGenerator:i.dayCellContent,defaultGenerator:t.defaultGenerator,classNameGenerator:
// don't use custom classNames if disabled
n.isDisabled?void 0:i.dayCellClassNames,didMount:i.dayCellDidMount,willUnmount:i.dayCellWillUnmount}))}}function pf(t){return Boolean(t.dayCellContent||vd("dayCellContent",t))}function gf(t){let{date:e,dateEnv:i,dateProfile:n,isMonthStart:s}=t,r=eu(e,t.todayRange,null,n),o=t.showDayNumber?i.format(e,s?t.monthStartFormat:uf):"";return Object.assign(Object.assign(Object.assign({date:i.toDate(e),view:t.viewApi},r),{isMonthStart:s,dayNumberText:o}),t.extraRenderProps)}class mf extends pd{render(){let{props:t}=this,{seg:e}=t;return z(lf,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:e.eventRange.ui.backgroundColor},defaultGenerator:vf,seg:e,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:t.isPast,isFuture:t.isFuture,isToday:t.isToday,disableDragging:!0,disableResizing:!0})}}function vf(t){let{title:e}=t.event;return e&&z("div",{className:"fc-event-title"},t.event.title)}function bf(t){return z("div",{className:`fc-${t}`})}const yf=t=>z(hd.Consumer,null,(e=>{let{dateEnv:i,options:n}=e,{date:s}=t,r=n.weekNumberFormat||t.defaultFormat,o={num:i.computeWeekNumber(s),text:i.format(s,r),date:s};return z(wd,Object.assign({},t,{renderProps:o,generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:xf,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))}));function xf(t){return t.text}class wf extends pd{constructor(){super(...arguments),this.state={titleId:Cl()},this.handleRootEl=t=>{this.rootEl=t,this.props.elRef&&gd(this.props.elRef,t)},this.handleDocumentMouseDown=t=>{const e=Al(t);this.rootEl.contains(e)||this.handleCloseClick()},this.handleDocumentKeyDown=t=>{"Escape"===t.key&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:t}=this.props;t&&t()}}render(){let{theme:t,options:e}=this.context,{props:i,state:n}=this,s=["fc-popover",t.getClass("popover")].concat(i.extraClassNames||[]);return r=z("div",Object.assign({},i.extraAttrs,{id:i.id,className:s.join(" "),"aria-labelledby":n.titleId,ref:this.handleRootEl}),z("div",{className:"fc-popover-header "+t.getClass("popoverHeader")},z("span",{className:"fc-popover-title",id:n.titleId},i.title),z("span",{className:"fc-popover-close "+t.getIconClass("close"),title:e.closeHint,onClick:this.handleCloseClick})),z("div",{className:"fc-popover-body "+t.getClass("popoverContent")},i.children)),o=i.parentEl,(a=z(el,{__v:r,i:o})).containerInfo=o,a;var r,o,a}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:t}=this.context,{alignmentEl:e,alignGridTop:i}=this.props,{rootEl:n}=this,s=function(t){let e=fu(t),i=t.getBoundingClientRect();for(let n of e){let t=Xh(i,n.getBoundingClientRect());if(!t)return null;i=t}return i}(e);if(s){let r=n.getBoundingClientRect(),o=i?xl(e,".fc-scrollgrid").getBoundingClientRect().top:s.top,a=t?s.right-r.width:s.left;o=Math.max(o,10),a=Math.min(a,document.documentElement.clientWidth-10-r.width),a=Math.max(a,10);let l=n.offsetParent.getBoundingClientRect();El(n,{top:o-l.top,left:a-l.left})}}}class _f extends yu{constructor(){super(...arguments),this.handleRootEl=t=>{this.rootEl=t,t?this.context.registerInteractiveComponent(this,{el:t,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:t,dateEnv:e}=this.context,{props:i}=this,{startDate:n,todayRange:s,dateProfile:r}=i,o=e.format(n,t.dayPopoverFormat);return z(ff,{elRef:this.handleRootEl,date:n,dateProfile:r,todayRange:s},((e,n,s)=>z(wf,{elRef:s.ref,id:i.id,title:o,extraClassNames:["fc-more-popover"].concat(s.className||[]),extraAttrs:s,parentEl:i.parentEl,alignmentEl:i.alignmentEl,alignGridTop:i.alignGridTop,onClose:i.onClose},pf(t)&&z(e,{elTag:"div",elClasses:["fc-more-popover-misc"]}),i.children)))}queryHit(t,e,i,n){let{rootEl:s,props:r}=this;return t>=0&&t<i&&e>=0&&e<n?{dateProfile:r.dateProfile,dateSpan:Object.assign({allDay:!0,range:{start:r.startDate,end:r.endDate}},r.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:i,bottom:n},layer:1}:null}}class Ef extends pd{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Cl()},this.handleLinkEl=t=>{this.linkEl=t,this.props.elRef&&gd(this.props.elRef,t)},this.handleClick=t=>{let{props:e,context:i}=this,{moreLinkClick:n}=i.options,s=Af(e).start;function r(t){let{def:e,instance:n,range:s}=t.eventRange;return{event:new xh(i,e,n),start:i.dateEnv.toDate(s.start),end:i.dateEnv.toDate(s.end),isStart:t.isStart,isEnd:t.isEnd}}"function"==typeof n&&(n=n({date:s,allDay:Boolean(e.allDayDate),allSegs:e.allSegs.map(r),hiddenSegs:e.hiddenSegs.map(r),jsEvent:t,view:i.viewApi})),n&&"popover"!==n?"string"==typeof n&&i.calendarApi.zoomTo(s,n):this.setState({isPopoverOpen:!0})},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:t,state:e}=this;return z(hd.Consumer,null,(i=>{let{viewApi:n,options:s,calendarApi:r}=i,{moreLinkText:o}=s,{moreCnt:a}=t,l=Af(t),c="function"==typeof o?o.call(r,a):`+${a} ${o}`,d=Fl(s.moreLinkHint,[a],c),h={num:a,shortText:`+${a}`,text:c,view:n};return z(H,null,Boolean(t.moreCnt)&&z(wd,{elTag:t.elTag||"a",elRef:this.handleLinkEl,elClasses:[...t.elClasses||[],"fc-more-link"],elStyle:t.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},t.elAttrs),Rl(this.handleClick)),{title:d,"aria-expanded":e.isPopoverOpen,"aria-controls":e.isPopoverOpen?e.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:t.defaultGenerator||Sf,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},t.children),e.isPopoverOpen&&z(_f,{id:e.popoverId,startDate:l.start,endDate:l.end,dateProfile:t.dateProfile,todayRange:t.todayRange,extraDateSpan:t.extraDateSpan,parentEl:this.parentEl,alignmentEl:t.alignmentElRef?t.alignmentElRef.current:this.linkEl,alignGridTop:t.alignGridTop,onClose:this.handlePopoverClose},t.popoverContent()))}))}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=xl(this.linkEl,".fc-view-harness"))}}function Sf(t){return t.text}function Af(t){if(t.allDayDate)return{start:t.allDayDate,end:ec(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:Df(e),end:(i=e,i.reduce(Mf).eventRange.range.end)};var i}function Df(t){return t.reduce(Cf).eventRange.range.start}function Cf(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Mf(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}class kf{constructor(){this.handlers=[]}set(t){this.currentValue=t;for(let e of this.handlers)e(t)}subscribe(t){this.handlers.push(t),void 0!==this.currentValue&&t(this.currentValue)}}class Tf extends kf{constructor(){super(...arguments),this.map=new Map}
// for consistent order
handle(t){const{map:e}=this;let i=!1;t.isActive?(e.set(t.id,t),i=!0):e.has(t.id)&&(e.delete(t.id),i=!0),i&&this.set(e)}}gl(':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;-moz-user-select:none;user-select:none}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{border-style:none;padding:0}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}');const Rf=[],Of={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Pf=Object.assign(Object.assign({},Of),{
// Includes things we don't want other locales to inherit,
// things that derive from other translatable strings.
buttonHints:{prev:"Previous $0",next:"Next $0",today:(t,e)=>"day"===e?"Today":`This ${t}`},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:t=>`Show ${t} more event${1===t?"":"s"}`});function Nf(t){let e=t.length>0?t[0].code:"en",i=Rf.concat(t),n={en:Pf};for(let s of i)n[s.code]=s;return{map:n,defaultCode:e}}function If(t,e){return"object"!=typeof t||Array.isArray(t)?function(t,e){let i=[].concat(t||[]),n=function(t,e){for(let i=0;i<t.length;i+=1){let n=t[i].toLocaleLowerCase().split("-");for(let t=n.length;t>0;t-=1){let i=n.slice(0,t).join("-");if(e[i])return e[i]}}return null}(i,e)||Pf;return Lf(t,i,n)}(t,e):Lf(t.code,[t.code],t)}function Lf(t,e,i){let n=$c([Of,i],["buttonText"]);delete n.code;let{week:s}=n;return delete n.week,{codeArg:t,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(t),options:n}}function zf(t){return{id:Nl(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function Hf(){let t,e=[],i=[];return(n,s)=>(t&&Jl(n,e)&&Jl(s,i)||(t=function(t,e){let i={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(t){for(let o of t){const t=o.name,a=i[t];void 0===a?(i[t]=o.id,s(o.deps),r=o,n={premiumReleaseDate:Ff((e=n).premiumReleaseDate,r.premiumReleaseDate),reducers:e.reducers.concat(r.reducers),isLoadingFuncs:e.isLoadingFuncs.concat(r.isLoadingFuncs),contextInit:e.contextInit.concat(r.contextInit),eventRefiners:Object.assign(Object.assign({},e.eventRefiners),r.eventRefiners),eventDefMemberAdders:e.eventDefMemberAdders.concat(r.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},e.eventSourceRefiners),r.eventSourceRefiners),isDraggableTransformers:e.isDraggableTransformers.concat(r.isDraggableTransformers),eventDragMutationMassagers:e.eventDragMutationMassagers.concat(r.eventDragMutationMassagers),eventDefMutationAppliers:e.eventDefMutationAppliers.concat(r.eventDefMutationAppliers),dateSelectionTransformers:e.dateSelectionTransformers.concat(r.dateSelectionTransformers),datePointTransforms:e.datePointTransforms.concat(r.datePointTransforms),dateSpanTransforms:e.dateSpanTransforms.concat(r.dateSpanTransforms),views:Object.assign(Object.assign({},e.views),r.views),viewPropsTransformers:e.viewPropsTransformers.concat(r.viewPropsTransformers),isPropsValid:r.isPropsValid||e.isPropsValid,externalDefTransforms:e.externalDefTransforms.concat(r.externalDefTransforms),viewContainerAppends:e.viewContainerAppends.concat(r.viewContainerAppends),eventDropTransformers:e.eventDropTransformers.concat(r.eventDropTransformers),calendarInteractions:e.calendarInteractions.concat(r.calendarInteractions),componentInteractions:e.componentInteractions.concat(r.componentInteractions),themeClasses:Object.assign(Object.assign({},e.themeClasses),r.themeClasses),eventSourceDefs:e.eventSourceDefs.concat(r.eventSourceDefs),cmdFormatter:r.cmdFormatter||e.cmdFormatter,recurringTypes:e.recurringTypes.concat(r.recurringTypes),namedTimeZonedImpl:r.namedTimeZonedImpl||e.namedTimeZonedImpl,initialView:e.initialView||r.initialView,elementDraggingImpl:e.elementDraggingImpl||r.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},e.optionChangeHandlers),r.optionChangeHandlers),scrollGridImpl:r.scrollGridImpl||e.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},e.listenerRefiners),r.listenerRefiners),optionRefiners:Object.assign(Object.assign({},e.optionRefiners),r.optionRefiners),propSetHandlers:Object.assign(Object.assign({},e.propSetHandlers),r.propSetHandlers)}):a!==o.id&&console.warn(`Duplicate plugin '${t}'`)}var e,r}return t&&s(t),s(e),n}(n,s)),e=n,i=s,t)}function Ff(t,e){return void 0===t?e:void 0===e?t:new Date(Math.max(t.valueOf(),e.valueOf()))}class Vf extends od{}function Bf(t,e,i,n){if(e[t])return e[t];let s=function(t,e,i,n){let s=i[t],r=n[t],o=t=>s&&null!==s[t]?s[t]:r&&null!==r[t]?r[t]:null,a=o("component"),l=o("superType"),c=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");c=Bf(l,e,i,n)}!a&&c&&(a=c.component);if(!a)return null;return{type:t,component:a,defaults:Object.assign(Object.assign({},c?c.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},c?c.overrides:{}),r?r.rawOptions:{})}}(t,e,i,n);return s&&(e[t]=s),s}function jf(t){return Gc(t,Wf)}function Wf(t){let e="function"==typeof t?{component:t}:t,{component:i}=e;var n;return e.content&&(n=e,i=t=>z(hd.Consumer,null,(e=>z(wd,{elTag:"div",elClasses:Sd(e.viewSpec),renderProps:Object.assign(Object.assign({},t),{nextDayThreshold:e.options.nextDayThreshold}),generatorName:void 0,customGenerator:n.content,classNameGenerator:n.classNames,didMount:n.didMount,willUnmount:n.willUnmount})))),{superType:e.type,component:i,rawOptions:e}}function Uf(t,e,i,n){let s=jf(t),r=jf(e.views),o=function(t,e){let i,n={};for(i in t)Bf(i,n,t,e);for(i in e)Bf(i,n,t,e);return n}(s,r);return Gc(o,(t=>function(t,e,i,n,s){let r=t.overrides.duration||t.defaults.duration||n.duration||i.duration,o=null,a="",l="",c={};if(r&&(o=function(t){let e=JSON.stringify(t),i=$f[e];void 0===i&&(i=$l(t),$f[e]=i);return i}(r),o)){let t=Xl(o);a=t.unit,1===t.value&&(l=a,c=e[a]?e[a].rawOptions:{})}let d=e=>{let i=e.buttonText||{},n=t.defaults.buttonTextKey;return null!=n&&null!=i[n]?i[n]:null!=i[t.type]?i[t.type]:null!=i[l]?i[l]:null},h=e=>{let i=e.buttonHints||{},n=t.defaults.buttonTextKey;return null!=n&&null!=i[n]?i[n]:null!=i[t.type]?i[t.type]:null!=i[l]?i[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},c),t.overrides),buttonTextOverride:d(n)||d(i)||// constructor-specified buttonText lookup hash takes precedence
t.overrides.buttonText,buttonTextDefault:d(s)||t.defaults.buttonText||d(Nc)||t.type,
// not DRY
buttonTitleOverride:h(n)||h(i)||t.overrides.buttonHint,buttonTitleDefault:h(s)||t.defaults.buttonHint||h(Nc)}}(t,r,e,i,n)))}Vf.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Vf.prototype.baseIconClass="fc-icon",Vf.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Vf.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Vf.prototype.iconOverrideOption="buttonIcons",Vf.prototype.iconOverrideCustomButtonOption="icon",Vf.prototype.iconOverridePrefix="fc-icon-";let $f={};function Yf(t,e,i){let n=e?e.activeRange:null;return Qf({},function(t,e){let i=rh(e),n=[].concat(t.eventSources||[]),s=[];t.initialEvents&&n.unshift(t.initialEvents);t.events&&n.unshift(t.events);for(let r of n){let t=sh(r,e,i);t&&s.push(t)}return s}(t,i),n,i)}function Gf(t,e,i,n){let s=i?i.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Qf(t,e.sources,s,n);case"REMOVE_EVENT_SOURCE":return r=t,o=e.sourceId,Yc(r,(t=>t.sourceId!==o));case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return i?Zf(t,s,n):t;case"FETCH_EVENT_SOURCES":return Xf(t,e.sourceIds?
// why no type?
qc(e.sourceIds):Kf(t,n),s,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function(t,e,i,n){let s=t[e];if(s&&// not already removed
i===s.latestFetchId)return Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:n})});return t}(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}var r,o}function qf(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function Qf(t,e,i,n){let s={};for(let r of e)s[r.sourceId]=r;return i&&(s=Zf(s,i,n)),Object.assign(Object.assign({},t),s)}function Zf(t,e,i){return Xf(t,Yc(t,(t=>function(t,e,i){if(!tp(t,i))return!t.latestFetchId;return!i.options.lazyFetching||!t.fetchRange||t.isFetching||// always cancel outdated in-progress fetches
e.start<t.fetchRange.start||e.end>t.fetchRange.end}(t,e,i))),e,!1,i)}function Xf(t,e,i,n,s){let r={};for(let o in t){let a=t[o];e[o]?r[o]=Jf(a,i,n,s):r[o]=a}return r}function Jf(t,e,i,n){let{options:s,calendarApi:r}=n,o=n.pluginHooks.eventSourceDefs[t.sourceDefId],a=Nl();return o.fetch({eventSource:t,range:e,isRefetch:i,context:n},(i=>{let{rawEvents:o}=i;s.eventSourceSuccess&&(o=s.eventSourceSuccess.call(r,o,i.response)||o),t.success&&(o=t.success.call(r,o,i.response)||o),n.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:o})}),(i=>{let o=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(r,i),o=!0),t.failure&&(t.failure(i),o=!0),o||console.warn(i.message,i),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:i})})),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function Kf(t,e){return Yc(t,(t=>tp(t,e)))}function tp(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function ep(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function ip(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function np(t,e){let i;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return i=e.state,{affectedEvents:i.affectedEvents,mutatedEvents:i.mutatedEvents,isEvent:i.isEvent};default:return t}}function sp(t,e){let i;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return i=e.state,{affectedEvents:i.affectedEvents,mutatedEvents:i.mutatedEvents,isEvent:i.isEvent};default:return t}}function rp(t,e,i,n,s){return{header:t.headerToolbar?op(t.headerToolbar,t,e,i,n,s):null,footer:t.footerToolbar?op(t.footerToolbar,t,e,i,n,s):null}}function op(t,e,i,n,s,r){let o={},a=[],l=!1;for(let c in t){let d=ap(t[c],e,i,n,s,r);o[c]=d.widgets,a.push(...d.viewsWithButtons),l=l||d.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function ap(t,e,i,n,s,r){let o="rtl"===e.direction,a=e.customButtons||{},l=i.buttonText||{},c=e.buttonText||{},d=i.buttonHints||{},h=e.buttonHints||{},u=t?t.split(" "):[],f=[],p=!1;return{widgets:u.map((t=>t.split(",").map((t=>{if("title"===t)return p=!0,{buttonName:t};let i,u,g,m,v,b;if(i=a[t])g=t=>{i.click&&i.click.call(t.target,t,t.target)},(m=n.getCustomButtonIconClass(i))||(m=n.getIconClass(t,o))||(v=i.text),b=i.hint||i.text;else if(u=s[t]){f.push(t),g=()=>{r.changeView(t)},(v=u.buttonTextOverride)||(m=n.getIconClass(t,o))||(v=u.buttonTextDefault);let i=u.buttonTextOverride||u.buttonTextDefault;b=Fl(u.buttonTitleOverride||u.buttonTitleDefault||e.viewHint,[i,t],
// view-name = buttonName
i)}else if(r[t])if(g=()=>{r[t]()},(v=l[t])||(m=n.getIconClass(t,o))||(v=c[t]),"prevYear"===t||"nextYear"===t){let e="prevYear"===t?"prev":"next";b=Fl(d[e]||h[e],[c.year||"year","year"],c[t])}else b=e=>Fl(d[t]||h[t],[c[e]||e,e],c[t]);return{buttonName:t,buttonClick:g,buttonIcon:m,buttonText:v,buttonHint:b}})))),viewsWithButtons:f,hasTitle:p}}class lp{constructor(t,e,i){this.type=t,this.getCurrentData=e,this.dateEnv=i}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(t){return this.getCurrentData().options[t]}}function cp(t,e){let i=Qc(e.getCurrentData().eventSources);if(1===i.length&&1===t.length&&Array.isArray(i[0]._raw)&&Array.isArray(t[0]))return void e.dispatch({type:"RESET_RAW_EVENTS",sourceId:i[0].sourceId,rawEvents:t[0]});let n=[];for(let s of t){let t=!1;for(let e=0;e<i.length;e+=1)if(i[e]._raw===s){i.splice(e,1),t=!0;break}t||n.push(s)}for(let s of i)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of n)e.calendarApi.addEventSource(s)}const dp=[zf({name:"array-event-source",eventSourceDefs:[{ignoreRange:!0,parseMeta:t=>Array.isArray(t.events)?t.events:null,fetch(t,e){e({rawEvents:t.eventSource.meta})}}]}),zf({name:"func-event-source",eventSourceDefs:[{parseMeta:t=>"function"==typeof t.events?t.events:null,fetch(t,e,i){const{dateEnv:n}=t.context;!function(t,e,i){let n=!1,s=function(t){n||(n=!0,e(t))},r=function(t){n||(n=!0,i(t))},o=t(s,r);o&&"function"==typeof o.then&&o.then(s,r)}(t.eventSource.meta.bind(null,Vh(t.range,n)),(t=>e({rawEvents:t})),i)}}]}),zf({name:"json-event-source",eventSourceRefiners:{method:String,extraParams:Wc,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:t=>!t.url||"json"!==t.format&&t.format?null:{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam},fetch(t,e,i){const{meta:n}=t.eventSource,s=function(t,e,i){let n,s,r,o,{dateEnv:a,options:l}=i,c={};n=t.startParam,null==n&&(n=l.startParam);s=t.endParam,null==s&&(s=l.endParam);r=t.timeZoneParam,null==r&&(r=l.timeZoneParam);o="function"==typeof t.extraParams?t.extraParams():t.extraParams||{};Object.assign(c,o),c[n]=a.formatIso(e.start),c[s]=a.formatIso(e.end),"local"!==a.timeZone&&(c[r]=a.timeZone);return c}(n,t.range,t.context);(function(t,e,i){const n={method:t=t.toUpperCase()};return"GET"===t?e+=(-1===e.indexOf("?")?"?":"&")+new URLSearchParams(i):(n.body=new URLSearchParams(i),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then((t=>{if(t.ok)return t.json().then((e=>[e,t]),(()=>{throw new jh("Failure parsing JSON",t)}));throw new jh("Request failed",t)}))})(n.method,n.url,s).then((([t,i])=>{e({rawEvents:t,response:i})}),i)}}]}),zf({name:"simple-recurring-event",recurringTypes:[{parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let s,r={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null};return t.duration&&(s=t.duration),!s&&t.startTime&&t.endTime&&(i=t.endTime,n=t.startTime,s={years:i.years-n.years,months:i.months-n.months,days:i.days-n.days,milliseconds:i.milliseconds-n.milliseconds}),{allDayGuess:Boolean(!t.startTime&&!t.endTime),duration:s,typeData:r}}var i,n;return null},expand(t,e,i){let n=Cd(e,{start:t.startRecur,end:t.endRecur});return n?function(t,e,i,n){let s=t?qc(t):null,r=rc(i.start),o=i.end,a=[];for(;r<o;){let t;s&&!s[r.getUTCDay()]||(t=e?n.add(r,e):r,a.push(t)),r=ec(r,1)}return a}(t.daysOfWeek,t.startTime,n,i):[]}}],eventRefiners:{daysOfWeek:Wc,startTime:$l,endTime:$l,duration:$l,startRecur:Wc,endRecur:Wc}}),zf({name:"change-handler",optionChangeHandlers:{events(t,e){cp([t],e)},eventSources:cp}}),zf({name:"misc",isLoadingFuncs:[t=>qf(t.eventSources)],propSetHandlers:{dateProfile:function(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Vh(t.activeRange,e.dateEnv)),{view:e.viewApi}))},eventStore:function(t,e){let{emitter:i}=e;i.hasHandlers("eventsSet")&&i.trigger("eventsSet",_h(t,e))}}})];class hp{constructor(t,e){this.runTaskOption=t,this.drainedOption=e,this.queue=[],this.delayedRunner=new bl(this.drain.bind(this))}request(t,e){this.queue.push(t),this.delayedRunner.request(e)}pause(t){this.delayedRunner.pause(t)}resume(t,e){this.delayedRunner.resume(t,e)}drain(){let{queue:t}=this;for(;t.length;){let e,i=[];for(;e=t.shift();)this.runTask(e),i.push(e);this.drained(i)}}runTask(t){this.runTaskOption&&this.runTaskOption(t)}drained(t){this.drainedOption&&this.drainedOption(t)}}function up(t,e,i){let n;return n=/^(year|month)$/.test(t.currentRangeUnit)?t.currentRange:t.activeRange,i.formatRange(n.start,n.end,Oc(e.titleFormat||function(t){let{currentRangeUnit:e}=t;if("year"===e)return{year:"numeric"};if("month"===e)return{year:"numeric",month:"long"};let i=sc(t.currentRange.start,t.currentRange.end);if(null!==i&&i>1)return{year:"numeric",month:"short",day:"numeric"};return{year:"numeric",month:"long",day:"numeric"}}(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}class fp{constructor(t){this.computeCurrentViewData=vc(this._computeCurrentViewData),this.organizeRawLocales=vc(Nf),this.buildLocale=vc(If),this.buildPluginHooks=Hf(),this.buildDateEnv=vc(pp),this.buildTheme=vc(gp),this.parseToolbars=vc(rp),this.buildViewSpecs=vc(Uf),this.buildDateProfileGenerator=bc(mp),this.buildViewApi=vc(vp),this.buildViewUiProps=bc(xp),this.buildEventUiBySource=vc(bp,Zc),this.buildEventUiBases=vc(yp),this.parseContextBusinessHours=bc(_p),this.buildTitle=vc(up),this.emitter=new dh,this.actionRunner=new hp(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=t=>{this.actionRunner.request(t)},this.props=t,this.actionRunner.pause();let e={},i=this.computeOptionsData(t.optionOverrides,e,t.calendarApi),n=i.calendarOptions.initialView||i.pluginHooks.initialView,s=this.computeCurrentViewData(n,i,t.optionOverrides,e);t.calendarApi.currentDataManager=this,this.emitter.setThisContext(t.calendarApi),this.emitter.setOptions(s.options);let r=function(t,e){let i=t.initialDate;return null!=i?e.createMarker(i):Nd(t.now,e)}(i.calendarOptions,i.dateEnv),o=s.dateProfileGenerator.build(r);Td(o.activeRange,r)||(r=o.currentRange.start);let a={dateEnv:i.dateEnv,options:i.calendarOptions,pluginHooks:i.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let h of i.pluginHooks.contextInit)h(a);let l=Yf(i.calendarOptions,o,a),c={dynamicOptionOverrides:e,currentViewType:n,currentDate:r,dateProfile:o,businessHours:this.parseContextBusinessHours(a),eventSources:l,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},d=Object.assign(Object.assign({},a),c);for(let h of i.pluginHooks.reducers)Object.assign(c,h(null,null,d));wp(c,a)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(t,e){let{props:i}=this;void 0===e?i.optionOverrides=t:(i.optionOverrides=Object.assign(Object.assign({},i.optionOverrides||{}),t),this.optionsForRefining.push(...e)),(void 0===e||e.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(t){let{props:e,state:i,emitter:n}=this,s=function(t,e){return"SET_OPTION"===e.type?Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue}):t}(i.dynamicOptionOverrides,t),r=this.computeOptionsData(e.optionOverrides,s,e.calendarApi),o=function(t,e){"CHANGE_VIEW_TYPE"===e.type&&(t=e.viewType);return t}(i.currentViewType,t),a=this.computeCurrentViewData(o,r,e.optionOverrides,s);e.calendarApi.currentDataManager=this,n.setThisContext(e.calendarApi),n.setOptions(a.options);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:n,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:d}=i;this.data&&this.data.dateProfileGenerator!==a.dateProfileGenerator&&(d=a.dateProfileGenerator.build(c)),c=function(t,e){return"CHANGE_DATE"===e.type?e.dateMarker:t}(c,t),d=function(t,e,i,n){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||i);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(s=n.buildPrev(t,i),s.isValid)return s;break;case"NEXT":if(s=n.buildNext(t,i),s.isValid)return s}return t}(d,t,c,a.dateProfileGenerator),"PREV"!==t.type&&// TODO: move this logic into DateProfileGenerator
"NEXT"!==t.type&&Td(d.currentRange,c)||(c=d.currentRange.start);let h=Gf(i.eventSources,t,d,l),u=oh(i.eventStore,t,h,d,l),f=qf(h)&&!a.options.progressiveEventRendering&&i.renderableEventStore||
// try from previous state
u,{eventUiSingleBase:p,selectionConfig:g}=this.buildViewUiProps(l),m=this.buildEventUiBySource(h),v={dynamicOptionOverrides:s,currentViewType:o,currentDate:c,dateProfile:d,eventSources:h,eventStore:u,renderableEventStore:f,selectionConfig:g,eventUiBases:this.buildEventUiBases(f.defs,p,m),businessHours:this.parseContextBusinessHours(l),dateSelection:ep(i.dateSelection,t),eventSelection:ip(i.eventSelection,t),eventDrag:np(i.eventDrag,t),eventResize:sp(i.eventResize,t)},b=Object.assign(Object.assign({},l),v);for(let w of r.pluginHooks.reducers)Object.assign(v,w(i,t,b));let y=wp(i,l),x=wp(v,l);!y&&x?n.trigger("loading",!0):y&&!x&&n.trigger("loading",!1),this.state=v,e.onAction&&e.onAction(t)}updateData(){let{props:t,state:e}=this,i=this.data,n=this.computeOptionsData(t.optionOverrides,e.dynamicOptionOverrides,t.calendarApi),s=this.computeCurrentViewData(e.currentViewType,n,t.optionOverrides,e.dynamicOptionOverrides),r=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(e.dateProfile,s.options,n.dateEnv),calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},n),s),e),o=n.pluginHooks.optionChangeHandlers,a=i&&i.calendarOptions,l=n.calendarOptions;if(a&&a!==l){a.timeZone!==l.timeZone&&(e.eventSources=r.eventSources=function(t,e,i){let n=e?e.activeRange:null;return Xf(t,Kf(t,i),n,!0,i)}(r.eventSources,e.dateProfile,r),e.eventStore=r.eventStore=function(t,e,i){let{defs:n}=t,s=Gc(t.instances,(t=>{let s=n[t.defId];return s.allDay||s.recurringDef?t:Object.assign(Object.assign({},t),{range:{start:i.createMarker(e.toDate(t.range.start,t.forcedStartTzo)),end:i.createMarker(e.toDate(t.range.end,t.forcedEndTzo))},forcedStartTzo:i.canComputeOffset?null:t.forcedStartTzo,forcedEndTzo:i.canComputeOffset?null:t.forcedEndTzo})}));return{defs:n,instances:s}}(r.eventStore,i.dateEnv,r.dateEnv));for(let t in o)-1===this.optionsForHandling.indexOf(t)&&a[t]===l[t]||o[t](l[t],r)}this.optionsForHandling=[],t.onData&&t.onData(r)}computeOptionsData(t,e,i){if(!this.optionsForRefining.length&&t===this.stableOptionOverrides&&e===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:n,pluginHooks:s,localeDefaults:r,availableLocaleData:o,extra:a}=this.processRawCalendarOptions(t,e);Ep(a);let l=this.buildDateEnv(n.timeZone,n.locale,n.weekNumberCalculation,n.firstDay,n.weekText,s,o,n.defaultRangeSeparator),c=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,r),d=this.buildTheme(n,s),h=this.parseToolbars(n,this.stableOptionOverrides,d,c,i);return this.stableCalendarOptionsData={calendarOptions:n,pluginHooks:s,dateEnv:l,viewSpecs:c,theme:d,toolbarConfig:h,localeDefaults:r,availableRawLocales:o.map}}
// always called from behind a memoizer
processRawCalendarOptions(t,e){let{locales:i,locale:n}=Bc([Nc,t,e]),s=this.organizeRawLocales(i),r=s.map,o=this.buildLocale(n||s.defaultCode,r).options,a=this.buildPluginHooks(t.plugins||[],dp),l=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pc),Ic),Lc),a.listenerRefiners),a.optionRefiners),c={},d=Bc([Nc,o,t,e]),h={},u=this.currentCalendarOptionsInput,f=this.currentCalendarOptionsRefined,p=!1;for(let g in d)-1===this.optionsForRefining.indexOf(g)&&(d[g]===u[g]||zc[g]&&g in u&&zc[g](u[g],d[g]))?h[g]=f[g]:l[g]?(h[g]=l[g](d[g]),p=!0):c[g]=u[g];return p&&(this.currentCalendarOptionsInput=d,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=t,this.stableDynamicOptionOverrides=e),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:a,availableLocaleData:s,localeDefaults:o,extra:c}}_computeCurrentViewData(t,e,i,n){let s=e.viewSpecs[t];if(!s)throw new Error(`viewType "${t}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:r,extra:o}=this.processRawViewOptions(s,e.pluginHooks,e.localeDefaults,i,n);return Ep(o),{viewSpec:s,options:r,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:e.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:r.slotMinTime,slotMaxTime:r.slotMaxTime,showNonCurrentDates:r.showNonCurrentDates,dayCount:r.dayCount,dateAlignment:r.dateAlignment,dateIncrement:r.dateIncrement,hiddenDays:r.hiddenDays,weekends:r.weekends,nowInput:r.now,validRangeInput:r.validRange,visibleRangeInput:r.visibleRange,fixedWeekCount:r.fixedWeekCount}),viewApi:this.buildViewApi(t,this.getCurrentData,e.dateEnv)}}processRawViewOptions(t,e,i,n,s){let r=Bc([Nc,t.optionDefaults,i,n,t.optionOverrides,s]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Pc),Ic),Lc),Vc),e.listenerRefiners),e.optionRefiners),a={},l=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,d=!1,h={};for(let u in r)r[u]===l[u]||zc[u]&&zc[u](r[u],l[u])?a[u]=c[u]:(r[u]===this.currentCalendarOptionsInput[u]||zc[u]&&zc[u](r[u],this.currentCalendarOptionsInput[u])?u in this.currentCalendarOptionsRefined&&(a[u]=this.currentCalendarOptionsRefined[u]):o[u]?a[u]=o[u](r[u]):h[u]=r[u],d=!0);return d&&(this.currentViewOptionsInput=r,this.currentViewOptionsRefined=a),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function pp(t,e,i,n,s,r,o,a){let l=If(e||o.defaultCode,o.map);return new rd({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:r.namedTimeZonedImpl,locale:l,weekNumberCalculation:i,firstDay:n,weekText:s,cmdFormatter:r.cmdFormatter,defaultSeparator:a})}function gp(t,e){return new(e.themeClasses[t.themeSystem]||Vf)(t)}function mp(t){return new(t.dateProfileGeneratorClass||Id)(t)}function vp(t,e,i){return new lp(t,e,i)}function bp(t){return Gc(t,(t=>t.ui))}function yp(t,e,i){let n={"":e};for(let s in t){let e=t[s];e.sourceId&&i[e.sourceId]&&(n[s]=i[e.sourceId])}return n}function xp(t){let{options:e}=t;return{eventUiSingleBase:th({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:"boolean"==typeof e.eventOverlap?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:th({constraint:e.selectConstraint,overlap:"boolean"==typeof e.selectOverlap?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function wp(t,e){for(let i of e.pluginHooks.isLoadingFuncs)if(i(t))return!0;return!1}function _p(t){return uh(t.options.businessHours,t)}function Ep(t,e){for(let i in t)console.warn(`Unknown option '${i}'`+(e?` for view '${e}'`:""))}class Sp extends pd{render(){let t=this.props.widgetGroups.map((t=>this.renderWidgetGroup(t)));return z("div",{className:"fc-toolbar-chunk"},...t)}renderWidgetGroup(t){let{props:e}=this,{theme:i}=this.context,n=[],s=!0;for(let r of t){let{buttonName:t,buttonClick:o,buttonText:a,buttonIcon:l,buttonHint:c}=r;if("title"===t)s=!1,n.push(z("h2",{className:"fc-toolbar-title",id:e.titleId},e.title));else{let s=t===e.activeButton,r=!e.isTodayEnabled&&"today"===t||!e.isPrevEnabled&&"prev"===t||!e.isNextEnabled&&"next"===t,d=[`fc-${t}-button`,i.getClass("button")];s&&d.push(i.getClass("buttonActive")),n.push(z("button",{type:"button",title:"function"==typeof c?c(e.navUnit):c,disabled:r,"aria-pressed":s,className:d.join(" "),onClick:o},a||(l?z("span",{className:l}):"")))}}if(n.length>1){let t=s&&i.getClass("buttonGroup")||"";return z("div",{className:t},...n)}return n[0]}}class Ap extends pd{render(){let t,e,{model:i,extraClassName:n}=this.props,s=!1,r=i.sectionWidgets,o=r.center;return r.left?(s=!0,t=r.left):t=r.start,r.right?(s=!0,e=r.right):e=r.end,z("div",{className:[n||"","fc-toolbar",s?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",t||[]),this.renderSection("center",o||[]),this.renderSection("end",e||[]))}renderSection(t,e){let{props:i}=this;return z(Sp,{key:t,widgetGroups:e,title:i.title,navUnit:i.navUnit,activeButton:i.activeButton,isTodayEnabled:i.isTodayEnabled,isPrevEnabled:i.isPrevEnabled,isNextEnabled:i.isNextEnabled,titleId:i.titleId})}}class Dp extends pd{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=t=>{this.el=t,gd(this.props.elRef,t),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:t,state:e}=this,{aspectRatio:i}=t,n=["fc-view-harness",i||t.liquid||t.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",r="";return i?null!==e.availableWidth?s=e.availableWidth/i:r=1/i*100+"%":s=t.height||"",z("div",{"aria-labelledby":t.labeledById,ref:this.handleEl,className:n.join(" "),style:{height:s,paddingBottom:r}},t.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&// needed. but why?
this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class Cp extends Yh{constructor(t){super(t),this.handleSegClick=(t,e)=>{let{component:i}=this,{context:n}=i,s=Ah(e);if(s&&// might be the <div> surrounding the more link
i.isValidSegDownEl(t.target)){let r=xl(t.target,".fc-event-forced-url"),o=r?r.querySelector("a[href]").href:"";n.emitter.trigger("eventClick",{el:e,event:new xh(i.context,s.eventRange.def,s.eventRange.instance),jsEvent:t,view:n.viewApi}),o&&!t.defaultPrevented&&(window.location.href=o)}},this.destroy=kl(t.el,"click",".fc-event",
// on both fg and bg events
this.handleSegClick)}}class Mp extends Yh{constructor(t){super(t),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,e)=>{Ah(e)&&(this.currentSegEl=e,this.triggerEvent("eventMouseEnter",t,e))},this.handleSegLeave=(t,e)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,e))},this.removeHoverListeners=function(t,e,i,n){let s;return kl(t,"mouseover",e,((t,e)=>{if(e!==s){s=e,i(t,e);let r=t=>{s=null,n(t,e),e.removeEventListener("mouseleave",r)};e.addEventListener("mouseleave",r)}}))}(t.el,".fc-event",
// on both fg and bg events
this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(t,e,i){let{component:n}=this,{context:s}=n,r=Ah(i);e&&!n.isValidSegDownEl(e.target)||s.emitter.trigger(t,{el:i,event:new xh(s,r.eventRange.def,r.eventRange.instance),jsEvent:e,view:s.viewApi})}}class kp extends fd{constructor(){super(...arguments),this.buildViewContext=vc(ud),this.buildViewPropTransformers=vc(Rp),this.buildToolbarProps=vc(Tp),this.headerRef=j(),this.footerRef=j(),this.interactionsStore={},this.state={viewLabelId:Cl()},this.registerInteractiveComponent=(t,e)=>{let i=function(t,e){return{component:t,el:e.el,useEventCenter:null==e.useEventCenter||e.useEventCenter,isHitComboAllowed:e.isHitComboAllowed||null}}(t,e),n=[Cp,Mp].concat(this.props.pluginHooks.componentInteractions).map((t=>new t(i)));this.interactionsStore[t.uid]=n,qh[t.uid]=i},this.unregisterInteractiveComponent=t=>{let e=this.interactionsStore[t.uid];if(e){for(let t of e)t.destroy();delete this.interactionsStore[t.uid]}delete qh[t.uid]},this.resizeRunner=new bl((()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})})),this.handleWindowResize=t=>{let{options:e}=this.props;e.handleWindowResize&&t.target===window&&this.resizeRunner.request(e.windowResizeDelay)}}
/*
  renders INSIDE of an outer div
  */render(){let t,{props:e}=this,{toolbarConfig:i,options:n}=e,s=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Nd(e.options.now,e.dateEnv),
// TODO: use NowTimer????
e.viewTitle),r=!1,o="";e.isHeightAuto||e.forPrint?o="":null!=n.height?r=!0:null!=n.contentHeight?o=n.contentHeight:t=Math.max(n.aspectRatio,.5);let a=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=i.header&&i.header.hasTitle?this.state.viewLabelId:"";return z(hd.Provider,{value:a},i.header&&z(Ap,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:i.header,titleId:l},s)),z(Dp,{liquid:r,height:o,aspectRatio:t,labeledById:l},this.renderView(e),this.buildAppendContent()),i.footer&&z(Ap,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:i.footer,titleId:""},s)))}componentDidMount(){let{props:t}=this;this.calendarInteractions=t.pluginHooks.calendarInteractions.map((e=>new e(t))),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:e}=t.pluginHooks;for(let i in e)e[i](t[i],t)}componentDidUpdate(t){let{props:e}=this,{propSetHandlers:i}=e.pluginHooks;for(let n in i)e[n]!==t[n]&&i[n](e[n],e)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let t of this.calendarInteractions)t.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:t}=this,e=t.pluginHooks.viewContainerAppends.map((e=>e(t)));return z(H,{},...e)}renderView(t){let{pluginHooks:e}=t,{viewSpec:i}=t,n={dateProfile:t.dateProfile,businessHours:t.businessHours,eventStore:t.renderableEventStore,eventUiBases:t.eventUiBases,dateSelection:t.dateSelection,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,isHeightAuto:t.isHeightAuto,forPrint:t.forPrint},s=this.buildViewPropTransformers(e.viewPropsTransformers);for(let o of s)Object.assign(n,o.transform(n,t));let r=i.component;return z(r,Object.assign({},n))}}function Tp(t,e,i,n,s,r){let o=i.build(s,void 0,!1),a=i.buildPrev(e,n,!1),l=i.buildNext(e,n,!1);return{title:r,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!Td(e.currentRange,s),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function Rp(t){return t.map((t=>new t))}class Op extends Qh{constructor(t,e={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=t=>{switch(t.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=t=>{this.currentData=t,this.renderRunner.request(t.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:t}=this;ad((()=>{V(z($h,{options:t.calendarOptions,theme:t.theme,emitter:t.emitter},((e,i,n,s)=>(this.setClassNames(e),this.setHeight(i),z(xd.Provider,{value:this.customContentRenderId},z(kp,Object.assign({isHeightAuto:n,forPrint:s},t)))))),this.el)}))}else this.isRendered&&(this.isRendered=!1,V(null,this.el),this.setClassNames([]),this.setHeight(""))},function(t){const e=t.getRootNode();if(!pl.get(e)){pl.set(e,!0);for(const t of fl)ml(e,t.innerText)}}(t),this.el=t,this.renderRunner=new bl(this.handleRenderRequest),new fp({optionOverrides:e,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){ad((()=>{super.updateSize()}))}batchRendering(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(t,e){this.currentDataManager.resetOptions(t,e)}setClassNames(t){if(!Jl(t,this.currentClassNames)){let{classList:e}=this.el;for(let t of this.currentClassNames)e.remove(t);for(let i of t)e.add(i);this.currentClassNames=t}}setHeight(t){Sl(this.el,"height",t)}}const Pp={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},Np=h({props:{options:Object},data:()=>({renderId:0,customRenderingMap:new Map}),methods:{getApi(){return this.calendar},buildOptions(t){return c(l({},t),{customRenderingMetaMap:this.$slots,handleCustomRendering:this.handleCustomRendering})}},render(){const t=[];for(const e of this.customRenderingMap.values()){const i="function"==typeof e.generatorMeta?e.generatorMeta(e.renderProps):
// vue-normalized slot function
e.generatorMeta;t.push(x(w,{key:e.id,to:e.containerEl},i))}return x("div",{
// when renderId is changed, Vue will trigger a real-DOM async rerender, calling beforeUpdate/updated
attrs:{"data-fc-render-id":this.renderId}},x(_,t))},mounted(){const t=new Tf;this.handleCustomRendering=t.handle.bind(t);const e=this.buildOptions(this.options),i=new Op(this.$el,e);this.calendar=i,i.render(),t.subscribe((t=>{this.customRenderingMap=t,this.renderId++,this.needCustomRenderingResize=!0}))},beforeUpdate(){this.getApi().resumeRendering()},updated(){this.needCustomRenderingResize&&(this.needCustomRenderingResize=!1,this.getApi().updateSize())},beforeUnmount(){this.getApi().destroy()},watch:function(){let t={
// watches changes of ALL options and their nested objects,
// but this is only a means to be notified of top-level non-complex options changes.
options:{deep:!0,handler(t){let e=this.getApi();e.pauseRendering();let i=this.buildOptions(t);e.resetOptions(i),this.renderId++}}};for(let e in Pp)t[`options.${e}`]={deep:!0,handler(t){if(void 0!==t){let i=this.getApi();i.pauseRendering(),i.resetOptions({[e]:t},[e]),this.renderId++}}};return t}()});function Ip(t,e){let i=[];for(let n=0;n<e;n+=1)i[n]=[];for(let n of t)i[n.row].push(n);return i}function Lp(t,e){let i=[];for(let n=0;n<e;n+=1)i[n]=[];for(let n of t)i[n.firstCol].push(n);return i}function zp(t,e){let i=[];if(t){for(let n=0;n<e;n+=1)i[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let e of t.segs)i[e.row].segs.push(e)}else for(let n=0;n<e;n+=1)i[n]=null;return i}const Hp=Oc({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Fp(t){let{display:e}=t.eventRange.ui;return"list-item"===e||"auto"===e&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&// can't be multi-day
t.isStart&&// "
t.isEnd}class Vp extends pd{render(){let{props:t}=this;return z(cf,Object.assign({},t,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:Hp,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))}}class Bp extends pd{render(){let{props:t,context:e}=this,{options:i}=e,{seg:n}=t,s=Ph(n,i.eventTimeFormat||Hp,e,!0,t.defaultDisplayEventEnd);return z(lf,Object.assign({},t,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:zh(t.seg,e),defaultGenerator:jp,timeText:s,isResizing:!1,isDateSelecting:!1}))}}function jp(t){return z(H,null,z("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&z("div",{className:"fc-event-time"},t.timeText),z("div",{className:"fc-event-title"},t.event.title||z(H,null," ")))}class Wp extends pd{constructor(){super(...arguments),this.compileSegs=vc(Up)}render(){let{props:t}=this,{allSegs:e,invisibleSegs:i}=this.compileSegs(t.singlePlacements);return z(Ef,{elClasses:["fc-daygrid-more-link"],dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:e,hiddenSegs:i,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:()=>{let i=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return z(H,null,e.map((e=>{let n=e.eventRange.instance.instanceId;return z("div",{className:"fc-daygrid-event-harness",key:n,style:{visibility:i[n]?"hidden":""}},Fp(e)?z(Bp,Object.assign({seg:e,isDragging:!1,isSelected:n===t.eventSelection,defaultDisplayEventEnd:!1},Nh(e,t.todayRange))):z(Vp,Object.assign({seg:e,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:n===t.eventSelection,defaultDisplayEventEnd:!1},Nh(e,t.todayRange))))})))}})}}function Up(t){let e=[],i=[];for(let n of t)e.push(n.seg),n.isVisible||i.push(n.seg);return{allSegs:e,invisibleSegs:i}}const $p=Oc({week:"narrow"});class Yp extends yu{constructor(){super(...arguments),this.rootElRef=j(),this.state={dayNumberId:Cl()},this.handleRootEl=t=>{gd(this.rootElRef,t),gd(this.props.elRef,t)}}render(){let{context:t,props:e,state:i,rootElRef:n}=this,{options:s,dateEnv:r}=t,{date:o,dateProfile:a}=e;const l=e.showDayNumber&&function(t,e,i){const{start:n,end:s}=e,r=ic(s,-1),o=i.getYear(n),a=i.getMonth(n),l=i.getYear(r),c=i.getMonth(r);return!(o===l&&a===c)&&Boolean(
// first date in current view?
t.valueOf()===n.valueOf()||// a month-start that's within the current range?
1===i.getDay(t)&&t.valueOf()<s.valueOf())}(o,a.currentRange,r);return z(ff,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...e.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},e.extraDataAttrs),e.showDayNumber?{"aria-labelledby":i.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:Gp,date:o,dateProfile:a,todayRange:e.todayRange,showDayNumber:e.showDayNumber,isMonthStart:l,extraRenderProps:e.extraRenderProps},((r,a)=>z("div",{ref:e.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:e.minHeight}},e.showWeekNumber&&z(yf,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:ru(t,o,"week"),date:o,defaultFormat:$p}),!a.isDisabled&&(e.showDayNumber||pf(s)||e.forceDayTop)?z("div",{className:"fc-daygrid-day-top"},z(r,{elTag:"a",elClasses:["fc-daygrid-day-number",l&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},ru(t,o)),{id:i.dayNumberId})})):e.showDayNumber?
// for creating correct amount of space (see issue #7162)
z("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},z("a",{className:"fc-daygrid-day-number"}," ")):void 0,z("div",{className:"fc-daygrid-day-events",ref:e.fgContentElRef},e.fgContent,z("div",{className:"fc-daygrid-day-bottom",style:{marginTop:e.moreMarginTop}},z(Wp,{allDayDate:o,singlePlacements:e.singlePlacements,moreCnt:e.moreCnt,alignmentElRef:n,alignGridTop:!e.showDayNumber,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange}))),z("div",{className:"fc-daygrid-day-bg"},e.bgContent))))}}function Gp(t){return t.dayNumberText||z(H,null," ")}function qp(t,e,i,n,s,r,o){let a=new Zp;a.allowReslicing=!0,a.strictOrder=n,!0===e||!0===i?(a.maxCoord=r,a.hiddenConsumes=!0):"number"==typeof e?a.maxStackCnt=e:"number"==typeof i&&(a.maxStackCnt=i,a.hiddenConsumes=!0);let l=[],c=[];for(let v=0;v<t.length;v+=1){let e=t[v],{instanceId:i}=e.eventRange.instance,n=s[i];null!=n?l.push({index:v,thickness:n,span:{start:e.firstCol,end:e.lastCol+1}}):c.push(e)}let d=a.addSegs(l),h=a.toRects(),{singleColPlacements:u,multiColPlacements:f,leftoverMargins:p}=function(t,e,i){let n=function(t,e){let i=[];for(let n=0;n<e;n+=1)i.push([]);for(let n of t)for(let t=n.span.start;t<n.span.end;t+=1)i[t].push(n);return i}(t,i.length),s=[],r=[],o=[];for(let a=0;a<i.length;a+=1){let t=n[a],l=[],c=0,d=0;for(let n of t){let t=e[n.index];l.push({seg:Qp(t,a,a+1,i),isVisible:!0,isAbsolute:!1,absoluteTop:n.levelCoord,marginTop:n.levelCoord-c}),c=n.levelCoord+n.thickness}let h=[];c=0,d=0;for(let n of t){let t=e[n.index],s=n.span.end-n.span.start>1,r=n.span.start===a;d+=n.levelCoord-c,c=n.levelCoord+n.thickness,s?(d+=n.thickness,r&&h.push({seg:Qp(t,n.span.start,n.span.end,i),isVisible:!0,isAbsolute:!0,absoluteTop:n.levelCoord,marginTop:0})):r&&(h.push({seg:Qp(t,n.span.start,n.span.end,i),isVisible:!0,isAbsolute:!1,absoluteTop:n.levelCoord,marginTop:d}),d=0)}s.push(l),r.push(h),o.push(d)}return{singleColPlacements:s,multiColPlacements:r,leftoverMargins:o}}(h,t,o),g=[],m=[];for(let v of c){f[v.firstCol].push({seg:v,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=v.firstCol;t<=v.lastCol;t+=1)u[t].push({seg:Qp(v,t,t+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<o.length;v+=1)g.push(0);for(let v of d){let e=t[v.index],i=v.span;f[i.start].push({seg:Qp(e,i.start,i.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let t=i.start;t<i.end;t+=1)g[t]+=1,u[t].push({seg:Qp(e,t,t+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let v=0;v<o.length;v+=1)m.push(p[v]);return{singleColPlacements:u,multiColPlacements:f,moreCnts:g,moreMarginTops:m}}function Qp(t,e,i,n){if(t.firstCol===e&&t.lastCol===i-1)return t;let s=t.eventRange,r=s.range,o=Cd(r,{start:n[e].date,end:ec(n[i-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:i-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:o},isStart:t.isStart&&o.start.valueOf()===r.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===r.end.valueOf()})}class Zp extends xu{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(t){const e=super.addSegs(t),{entriesByLevel:i}=this,n=t=>!this.forceHidden[_u(t)];for(let s=0;s<i.length;s+=1)i[s]=i[s].filter(n);return e}handleInvalidInsertion(t,e,i){const{entriesByLevel:n,forceHidden:s}=this,{touchingEntry:r,touchingLevel:o,touchingLateral:a}=t;if(this.hiddenConsumes&&r){const t=_u(r);if(!s[t])if(this.allowReslicing){const t=Object.assign(Object.assign({},r),{span:Eu(r.span,e.span)});s[_u(t)]=!0,n[o][a]=t,this.splitEntry(r,e,i)}else s[t]=!0,i.push(r)}return super.handleInvalidInsertion(t,e,i)}}class Xp extends yu{constructor(){super(...arguments),this.cellElRefs=new Zu,this.frameElRefs=new Zu,this.fgElRefs=new Zu,this.segHarnessRefs=new Zu,this.rootElRef=j(),this.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},this.handleResize=t=>{t&&this.updateSizing(!0)}}render(){let{props:t,state:e,context:i}=this,{options:n}=i,s=t.cells.length,r=Lp(t.businessHourSegs,s),o=Lp(t.bgEventSegs,s),a=Lp(this.getHighlightSegs(),s),l=Lp(this.getMirrorSegs(),s),{singleColPlacements:c,multiColPlacements:d,moreCnts:h,moreMarginTops:u}=qp(Mh(t.fgEventSegs,n.eventOrder),t.dayMaxEvents,t.dayMaxEventRows,n.eventOrderStrict,e.eventInstanceHeights,e.maxContentHeight,t.cells),f=
// TODO: messy way to compute this
t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{};return z("tr",{ref:this.rootElRef,role:"row"},t.renderIntro&&t.renderIntro(),t.cells.map(((e,i)=>{let n=this.renderFgSegs(i,t.forPrint?c[i]:d[i],t.todayRange,f),s=this.renderFgSegs(i,function(t,e){if(!t.length)return[];let i=function(t){let e={};for(let i of t)for(let t of i)e[t.seg.eventRange.instance.instanceId]=t.absoluteTop;return e}(e);return t.map((t=>({seg:t,isVisible:!0,isAbsolute:!0,absoluteTop:i[t.eventRange.instance.instanceId],marginTop:0})))}(l[i],d),t.todayRange,{},Boolean(t.eventDrag),Boolean(t.eventResize),!1);return z(Yp,{key:e.key,elRef:this.cellElRefs.createRef(e.key),innerElRef:this.frameElRefs.createRef(e.key),dateProfile:t.dateProfile,date:e.date,showDayNumber:t.showDayNumbers,showWeekNumber:t.showWeekNumbers&&0===i,forceDayTop:t.showWeekNumbers,todayRange:t.todayRange,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,extraRenderProps:e.extraRenderProps,extraDataAttrs:e.extraDataAttrs,extraClassNames:e.extraClassNames,extraDateSpan:e.extraDateSpan,moreCnt:h[i],moreMarginTop:u[i],singlePlacements:c[i],fgContentElRef:this.fgElRefs.createRef(e.key),fgContent:
// Fragment scopes the keys
z(H,null,z(H,null,n),z(H,null,s)),bgContent:
// Fragment scopes the keys
z(H,null,this.renderFillSegs(a[i],"highlight"),this.renderFillSegs(r[i],"non-business"),this.renderFillSegs(o[i],"bg-event")),minHeight:t.cellMinHeight})})))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(t,e){let i=this.props;this.updateSizing(!Zc(t,i))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:t}=this;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs}getMirrorSegs(){let{props:t}=this;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]}renderFgSegs(t,e,i,n,s,r,o){let{context:a}=this,{eventSelection:l}=this.props,{framePositions:c}=this.state,d=1===this.props.cells.length,h=s||r||o,u=[];if(c)for(let f of e){let{seg:e}=f,{instanceId:p}=e.eventRange.instance,g=p+":"+t,m=f.isVisible&&!n[p],v=f.isAbsolute,b="",y="";v&&(a.isRtl?(y=0,b=c.lefts[e.lastCol]-c.lefts[e.firstCol]):(b=0,y=c.rights[e.firstCol]-c.rights[e.lastCol])),u.push(z("div",{className:"fc-daygrid-event-harness"+(v?" fc-daygrid-event-harness-abs":""),key:g,ref:h?null:this.segHarnessRefs.createRef(g),style:{visibility:m?"":"hidden",marginTop:v?"":f.marginTop,top:v?f.absoluteTop:"",left:b,right:y}},Fp(e)?z(Bp,Object.assign({seg:e,isDragging:s,isSelected:p===l,defaultDisplayEventEnd:d},Nh(e,i))):z(Vp,Object.assign({seg:e,isDragging:s,isResizing:r,isDateSelecting:o,isSelected:p===l,defaultDisplayEventEnd:d},Nh(e,i)))))}return u}renderFillSegs(t,e){let{isRtl:i}=this.context,{todayRange:n}=this.props,{framePositions:s}=this.state,r=[];if(s)for(let o of t){let t=i?{right:0,left:s.lefts[o.lastCol]-s.lefts[o.firstCol]}:{left:0,right:s.rights[o.firstCol]-s.rights[o.lastCol]};r.push(z("div",{key:Lh(o.eventRange),className:"fc-daygrid-bg-harness",style:t},"bg-event"===e?z(mf,Object.assign({seg:o},Nh(o,n))):bf(e)))}return z(H,{},...r)}updateSizing(t){let{props:e,state:i,frameElRefs:n}=this;if(!e.forPrint&&null!==e.clientWidth){if(t){let t=e.cells.map((t=>n.currentMap[t.key]));if(t.length){let e=this.rootElRef.current,n=new pu(e,t,!0,
// isHorizontal
!1);i.framePositions&&i.framePositions.similarTo(n)||this.setState({framePositions:new pu(e,t,!0,
// isHorizontal
!1)})}}const s=this.state.eventInstanceHeights,r=this.queryEventInstanceHeights(),o=!0===e.dayMaxEvents||!0===e.dayMaxEventRows;this.safeSetState({
// HACK to prevent oscillations of events being shown/hidden from max-event-rows
// Essentially, once you compute an element's height, never null-out.
// TODO: always display all events, as visibility:hidden?
eventInstanceHeights:Object.assign(Object.assign({},s),r),maxContentHeight:o?this.computeMaxContentHeight():null})}}queryEventInstanceHeights(){let t=this.segHarnessRefs.currentMap,e={};for(let i in t){let n=Math.round(t[i].getBoundingClientRect().height),s=i.split(":")[0];e[s]=Math.max(e[s]||0,n)}return e}computeMaxContentHeight(){let t=this.props.cells[0].key,e=this.cellElRefs.currentMap[t],i=this.fgElRefs.currentMap[t];return e.getBoundingClientRect().bottom-i.getBoundingClientRect().top}getCellEls(){let t=this.cellElRefs.currentMap;return this.props.cells.map((e=>t[e.key]))}}Xp.addStateEquality({eventInstanceHeights:Zc});class Jp extends yu{constructor(){super(...arguments),this.splitBusinessHourSegs=vc(Ip),this.splitBgEventSegs=vc(Ip),this.splitFgEventSegs=vc(Ip),this.splitDateSelectionSegs=vc(Ip),this.splitEventDrag=vc(zp),this.splitEventResize=vc(zp),this.rowRefs=new Zu}render(){let{props:t,context:e}=this,i=t.cells.length,n=this.splitBusinessHourSegs(t.businessHourSegs,i),s=this.splitBgEventSegs(t.bgEventSegs,i),r=this.splitFgEventSegs(t.fgEventSegs,i),o=this.splitDateSelectionSegs(t.dateSelectionSegs,i),a=this.splitEventDrag(t.eventDrag,i),l=this.splitEventResize(t.eventResize,i),c=i>=7&&t.clientWidth?t.clientWidth/e.options.aspectRatio/6:null;return z(Pu,{unit:"day"},((e,d)=>z(H,null,t.cells.map(((e,h)=>z(Xp,{ref:this.rowRefs.createRef(h),key:e.length?e[0].date.toISOString():h,showDayNumbers:i>1,showWeekNumbers:t.showWeekNumbers,todayRange:d,dateProfile:t.dateProfile,cells:e,renderIntro:t.renderRowIntro,businessHourSegs:n[h],eventSelection:t.eventSelection,bgEventSegs:s[h].filter(Kp),fgEventSegs:r[h],dateSelectionSegs:o[h],eventDrag:a[h],eventResize:l[h],dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,clientWidth:t.clientWidth,clientHeight:t.clientHeight,cellMinHeight:c,forPrint:t.forPrint}))))))}componentDidMount(){const t=this.rowRefs.currentMap[0].getCellEls()[0];this.rootEl=t?t.closest(".fc-daygrid-body"):null,this.rootEl&&this.context.registerInteractiveComponent(this,{el:this.rootEl,isHitComboAllowed:this.props.isHitComboAllowed})}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}
// Hit System
// ----------------------------------------------------------------------------------------------------
prepareHits(){this.rowPositions=new pu(this.rootEl,this.rowRefs.collect().map((t=>t.getCellEls()[0])),
// first cell el in each row. TODO: not optimal
!1,!0),this.colPositions=new pu(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),
// cell els in first row
!0,
// horizontal
!1)}queryHit(t,e){let{colPositions:i,rowPositions:n}=this,s=i.leftToIndex(t),r=n.topToIndex(e);if(null!=r&&null!=s){let t=this.props.cells[r][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(r,s),allDay:!0},t.extraDateSpan),dayEl:this.getCellEl(r,s),rect:{left:i.lefts[s],right:i.rights[s],top:n.tops[r],bottom:n.bottoms[r]},layer:0}}return null}getCellEl(t,e){return this.rowRefs.currentMap[t].getCellEls()[e]}getCellRange(t,e){let i=this.props.cells[t][e].date;return{start:i,end:ec(i,1)}}}function Kp(t){return t.eventRange.def.allDay}class tg extends yu{constructor(){super(...arguments),this.elRef=j(),this.needsScrollReset=!1}render(){let{props:t}=this,{dayMaxEventRows:e,dayMaxEvents:i,expandRows:n}=t,s=!0===i||!0===e;s&&!n&&(s=!1,e=null,i=null);let r=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",n?"":"fc-daygrid-body-natural"];return z("div",{ref:this.elRef,className:r.join(" "),style:{
// these props are important to give this wrapper correct dimensions for interactions
// TODO: if we set it here, can we avoid giving to inner tables?
width:t.clientWidth,minWidth:t.tableMinWidth}},z("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:t.clientWidth,minWidth:t.tableMinWidth,height:n?t.clientHeight:""}},t.colGroupNode,z("tbody",{role:"presentation"},z(Jp,{dateProfile:t.dateProfile,cells:t.cells,renderRowIntro:t.renderRowIntro,showWeekNumbers:t.showWeekNumbers,clientWidth:t.clientWidth,clientHeight:t.clientHeight,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,dayMaxEvents:i,dayMaxEventRows:e,forPrint:t.forPrint,isHitComboAllowed:t.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(t){t.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const t=function(t,e){let i;e.currentRangeUnit.match(/year|month/)&&(i=t.querySelector(`[data-date="${n=e.currentDate,n.toISOString().match(/^\d{4}-\d{2}/)[0]}-01"]`));var n;i||(i=t.querySelector(`[data-date="${gc(e.currentDate)}"]`));return i}(this.elRef.current,this.props.dateProfile);if(t){const e=t.closest(".fc-daygrid-body"),i=e.closest(".fc-scroller"),n=t.getBoundingClientRect().top-e.getBoundingClientRect().top;i.scrollTop=n?n+1:0}this.needsScrollReset=!1}}}class eg extends Fu{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(t,e){return e.sliceRange(t)}}class ig extends yu{constructor(){super(...arguments),this.slicer=new eg,this.tableRef=j()}render(){let{props:t,context:e}=this;return z(tg,Object.assign({ref:this.tableRef},this.slicer.sliceProps(t,t.dateProfile,t.nextDayThreshold,e,t.dayTableModel),{dateProfile:t.dateProfile,cells:t.dayTableModel.cells,colGroupNode:t.colGroupNode,tableMinWidth:t.tableMinWidth,renderRowIntro:t.renderRowIntro,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.showWeekNumbers,expandRows:t.expandRows,headerAlignElRef:t.headerAlignElRef,clientWidth:t.clientWidth,clientHeight:t.clientHeight,forPrint:t.forPrint}))}}class ng extends yu{constructor(){super(...arguments),this.headerElRef=j()}renderSimpleLayout(t,e){let{props:i,context:n}=this,s=[],r=rf(n.options);return t&&s.push({type:"header",key:"header",isSticky:r,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:e}}),z(Ed,{elClasses:["fc-daygrid"],viewSpec:n.viewSpec},z(af,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[],sections:s}))}renderHScrollLayout(t,e,i,n){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:r,context:o}=this,a=!r.forPrint&&rf(o.options),l=!r.forPrint&&of(o.options),c=[];return t&&c.push({type:"header",key:"header",isSticky:a,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:e}]}),l&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:sf}]}),z(Ed,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},z(s,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,colGroups:[{cols:[{span:i,minWidth:n}]}],sections:c}))}}function sg(t,e){let i=new zu(t.renderRange,e);return new Hu(i,/year|month|week/.test(t.currentRangeUnit))}gl(':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}');var rg=zf({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:class extends ng{constructor(){super(...arguments),this.buildDayTableModel=vc(sg),this.headerRef=j(),this.tableRef=j()}render(){let{options:t,dateProfileGenerator:e}=this.context,{props:i}=this,n=this.buildDayTableModel(i.dateProfile,e),s=t.dayHeaders&&z(Iu,{ref:this.headerRef,dateProfile:i.dateProfile,dates:n.headerDates,datesRepDistinctDays:1===n.rowCnt}),r=e=>z(ig,{ref:this.tableRef,dateProfile:i.dateProfile,dayTableModel:n,businessHours:i.businessHours,dateSelection:i.dateSelection,eventStore:i.eventStore,eventUiBases:i.eventUiBases,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,nextDayThreshold:t.nextDayThreshold,colGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,dayMaxEvents:t.dayMaxEvents,dayMaxEventRows:t.dayMaxEventRows,showWeekNumbers:t.weekNumbers,expandRows:!i.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:i.forPrint});return t.dayMinWidth?this.renderHScrollLayout(s,r,n.colCnt,t.dayMinWidth):this.renderSimpleLayout(s,r)}},dateProfileGeneratorClass:class extends Id{
// Computes the date range that will be rendered
buildRenderRange(t,e,i){let n=super.buildRenderRange(t,e,i),{props:s}=this;return function(t){let e,{dateEnv:i,currentRange:n}=t,{start:s,end:r}=n;t.snapToWeek&&(s=i.startOfWeek(s),e=i.startOfWeek(r),e.valueOf()!==r.valueOf()&&(r=tc(e,1)));if(t.fixedWeekCount){let t=i.startOfWeek(i.startOfMonth(ec(n.end,-1)));r=tc(r,6-Math.ceil(nc(t,r)/7))}return{start:s,end:r}}({currentRange:n,snapToWeek:/^(year|month)$/.test(e),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}}},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});Cu.touchMouseIgnoreWait=500;let og=0,ag=0,lg=!1;class cg{constructor(t){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&function(t){return 0===t.button&&!t.ctrlKey}(t)&&this.tryStart(t)){let e=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",e),this.initScrollWatch(e),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let e=this.createEventFromMouse(t);this.recordCoords(e),this.emitter.trigger("pointermove",e)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let e=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",e),this.initScrollWatch(e);let i=t.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let e=this.createEventFromTouch(t);this.recordCoords(e),this.emitter.trigger("pointermove",e)},this.handleTouchEnd=t=>{if(this.isDragging){let e=t.target;e.removeEventListener("touchmove",this.handleTouchMove),e.removeEventListener("touchend",this.handleTouchEnd),e.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,og+=1,setTimeout((()=>{og-=1}),Cu.touchMouseIgnoreWait)}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let e=window.pageXOffset-this.prevScrollX+this.prevPageX,i=window.pageYOffset-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:e,pageY:i,deltaX:e-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=t,this.emitter=new dh,t.addEventListener("mousedown",this.handleMouseDown),t.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),ag+=1,1===ag&&window.addEventListener("touchmove",dg,{passive:!1})}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),ag-=1,ag||window.removeEventListener("touchmove",dg,{passive:!1})}tryStart(t){let e=this.querySubjectEl(t),i=t.target;return!(!e||this.handleSelector&&!xl(i,this.handleSelector))&&(this.subjectEl=e,this.isDragging=!0,this.wasTouchScroll=!1,!0)}cleanup(){lg=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(t){return this.selector?xl(t.target,this.selector):this.containerEl}shouldIgnoreMouse(){return og||this.isTouchDragging}
// can be called by user of this class, to cancel touch-based scrolling for the current drag
cancelTouchScroll(){this.isDragging&&(lg=!0)}
// Scrolling that simulates pointermoves
// ----------------------------------------------------------------------------------------------------
initScrollWatch(t){this.shouldWatchScroll&&(this.recordCoords(t),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(t){this.shouldWatchScroll&&(this.prevPageX=t.pageX,this.prevPageY=t.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}
// Event Normalization
// ----------------------------------------------------------------------------------------------------
createEventFromMouse(t,e){let i=0,n=0;return e?(this.origPageX=t.pageX,this.origPageY=t.pageY):(i=t.pageX-this.origPageX,n=t.pageY-this.origPageY),{origEvent:t,isTouch:!1,subjectEl:this.subjectEl,pageX:t.pageX,pageY:t.pageY,deltaX:i,deltaY:n}}createEventFromTouch(t,e){let i,n,s=t.touches,r=0,o=0;return s&&s.length?(i=s[0].pageX,n=s[0].pageY):(i=t.pageX,n=t.pageY),e?(this.origPageX=i,this.origPageY=n):(r=i-this.origPageX,o=n-this.origPageY),{origEvent:t,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:n,deltaX:r,deltaY:o}}}function dg(t){lg&&t.preventDefault()}class hg{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(t,e,i){this.sourceEl=t,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=e-window.pageXOffset,this.origScreenY=i-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(t,e){this.deltaX=t-window.pageXOffset-this.origScreenX,this.deltaY=e-window.pageYOffset-this.origScreenY,this.updateElPosition()}
// can be called before start
setIsVisible(t){t?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=t,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=t)}
// always async
stop(t,e){let i=()=>{this.cleanup(),e()};t&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(// if 0, transition won't work
this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)}doRevertAnimation(t,e){let i=this.mirrorEl,n=this.sourceEl.getBoundingClientRect();i.style.transition="top "+e+"ms,left "+e+"ms",El(i,{left:n.left,top:n.top}),function(t,e){let i=n=>{e(n),Tl.forEach((e=>{t.removeEventListener(e,i)}))};Tl.forEach((e=>{t.addEventListener(e,i)}))}(i,(()=>{i.style.transition="",t()}))}cleanup(){this.mirrorEl&&(yl(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&El(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let t=this.sourceElRect,e=this.mirrorEl;return e||(e=this.mirrorEl=this.sourceEl.cloneNode(!0),e.classList.add("fc-unselectable"),e.classList.add("fc-event-dragging"),El(e,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:t.right-t.left,height:t.bottom-t.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(e)),e}}class ug extends mu{constructor(t,e){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=t,this.doesListening=e,this.scrollTop=this.origScrollTop=t.getScrollTop(),this.scrollLeft=this.origScrollLeft=t.getScrollLeft(),this.scrollWidth=t.getScrollWidth(),this.scrollHeight=t.getScrollHeight(),this.clientWidth=t.getClientWidth(),this.clientHeight=t.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class fg extends ug{constructor(t,e){super(new vu(t),e)}getEventTarget(){return this.scrollController.el}computeClientRect(){return hu(this.scrollController.el)}}class pg extends ug{constructor(t){super(new bu,t)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}
// the window is the only scroll object that changes it's rectangle relative
// to the document's topleft as it scrolls
handleScrollChange(){this.clientRect=this.computeClientRect()}}const gg="function"==typeof performance?performance.now:Date.now;class mg{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let t=this.computeBestEdge(this.pointerScreenX+window.pageXOffset,this.pointerScreenY+window.pageYOffset);if(t){let e=gg();this.handleSide(t,(e-this.msSinceRequest)/1e3),this.requestAnimation(e)}else this.isAnimating=!1}}}start(t,e,i){this.isEnabled&&(this.scrollCaches=this.buildCaches(i),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(t,e))}handleMove(t,e){if(this.isEnabled){let i=t-window.pageXOffset,n=e-window.pageYOffset,s=null===this.pointerScreenY?0:n-this.pointerScreenY,r=null===this.pointerScreenX?0:i-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),r<0?this.everMovedLeft=!0:r>0&&(this.everMovedRight=!0),this.pointerScreenX=i,this.pointerScreenY=n,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(gg()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let t of this.scrollCaches)t.destroy();this.scrollCaches=null}}requestAnimation(t){this.msSinceRequest=t,requestAnimationFrame(this.animate)}handleSide(t,e){let{scrollCache:i}=t,{edgeThreshold:n}=this,s=n-t.distance,r=
// the closer to the edge, the faster we scroll
s*s/(n*n)*// quadratic
this.maxVelocity*e,o=1;switch(t.name){case"left":o=-1;case"right":i.setScrollLeft(i.getScrollLeft()+r*o);break;case"top":o=-1;case"bottom":i.setScrollTop(i.getScrollTop()+r*o)}}
// left/top are relative to document topleft
computeBestEdge(t,e){let{edgeThreshold:i}=this,n=null,s=this.scrollCaches||[];for(let r of s){let s=r.clientRect,o=t-s.left,a=s.right-t,l=e-s.top,c=s.bottom-e;o>=0&&a>=0&&l>=0&&c>=0&&(l<=i&&this.everMovedUp&&r.canScrollUp()&&(!n||n.distance>l)&&(n={scrollCache:r,name:"top",distance:l}),c<=i&&this.everMovedDown&&r.canScrollDown()&&(!n||n.distance>c)&&(n={scrollCache:r,name:"bottom",distance:c}),o<=i&&this.everMovedLeft&&r.canScrollLeft()&&(!n||n.distance>o)&&(n={scrollCache:r,name:"left",distance:o}),a<=i&&this.everMovedRight&&r.canScrollRight()&&(!n||n.distance>a)&&(n={scrollCache:r,name:"right",distance:a}))}return n}buildCaches(t){return this.queryScrollEls(t).map((t=>t===window?new pg(!1):new fg(t,!1)))}queryScrollEls(t){let e=[];for(let i of this.scrollQuery)"object"==typeof i?e.push(i):e.push(...Array.prototype.slice.call(t.getRootNode().querySelectorAll(i)));return e}}class vg extends Du{constructor(t,e){super(t),this.containerEl=t,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=t=>{var e;this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,(e=document.body).classList.add("fc-unselectable"),e.addEventListener("selectstart",Ml),function(t){t.addEventListener("contextmenu",Ml)}(document.body),t.isTouch||t.origEvent.preventDefault(),this.emitter.trigger("pointerdown",t),this.isInteracting&&// not destroyed via pointerdown handler
!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(t.subjectEl,t.pageX,t.pageY),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t)))},this.onPointerMove=t=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",t),!this.isDistanceSurpassed){let e,i=this.minDistance,{deltaX:n,deltaY:s}=t;e=n*n+s*s,e>=i*i&&this.handleDistanceSurpassed(t)}this.isDragging&&("scroll"!==t.origEvent.type&&(this.mirror.handleMove(t.pageX,t.pageY),this.autoScroller.handleMove(t.pageX,t.pageY)),this.emitter.trigger("dragmove",t))}},this.onPointerUp=t=>{var e;this.isInteracting&&(this.isInteracting=!1,(e=document.body).classList.remove("fc-unselectable"),e.removeEventListener("selectstart",Ml),function(t){t.removeEventListener("contextmenu",Ml)}(document.body),this.emitter.trigger("pointerup",t),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(t)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let i=this.pointer=new cg(t);i.emitter.on("pointerdown",this.onPointerDown),i.emitter.on("pointermove",this.onPointerMove),i.emitter.on("pointerup",this.onPointerUp),e&&(i.selector=e),this.mirror=new hg,this.autoScroller=new mg}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(t){"number"==typeof this.delay?this.delayTimeoutId=setTimeout((()=>{this.delayTimeoutId=null,this.handleDelayEnd(t)}),this.delay):this.handleDelayEnd(t)}handleDelayEnd(t){this.isDelayEnded=!0,this.tryStartDrag(t)}handleDistanceSurpassed(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)}tryStartDrag(t){this.isDelayEnded&&this.isDistanceSurpassed&&(this.pointer.wasTouchScroll&&!this.touchScrollAllowed||(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll()))}tryStopDrag(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))}stopDrag(t){this.isDragging=!1,this.emitter.trigger("dragend",t)}
// fill in the implementations...
setIgnoreMove(t){this.pointer.shouldIgnoreMove=t}setMirrorIsVisible(t){this.mirror.setIsVisible(t)}setMirrorNeedsRevert(t){this.mirrorNeedsRevert=t}setAutoScrollEnabled(t){this.autoScroller.isEnabled=t}}class bg{constructor(t){this.origRect=uu(t),this.scrollCaches=fu(t).map((t=>new fg(t,!0)))}destroy(){for(let t of this.scrollCaches)t.destroy()}computeLeft(){let t=this.origRect.left;for(let e of this.scrollCaches)t+=e.origScrollLeft-e.getScrollLeft();return t}computeTop(){let t=this.origRect.top;for(let e of this.scrollCaches)t+=e.origScrollTop-e.getScrollTop();return t}isWithinClipping(t,e){let i={left:t,top:e};for(let n of this.scrollCaches)if(!yg(n.getEventTarget())&&!Zh(i,n.clientRect))return!1;return!0}}function yg(t){let e=t.tagName;return"HTML"===e||"BODY"===e}class xg{constructor(t,e){this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=t=>{let{dragging:e}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(t),this.initialHit||!this.requireInitial?(e.setIgnoreMove(!1),this.emitter.trigger("pointerdown",t)):e.setIgnoreMove(!0)},this.handleDragStart=t=>{this.emitter.trigger("dragstart",t),this.handleMove(t,!0)},this.handleDragMove=t=>{this.emitter.trigger("dragmove",t),this.handleMove(t)},this.handlePointerUp=t=>{this.releaseHits(),this.emitter.trigger("pointerup",t)},this.handleDragEnd=t=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,t),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",t)},this.droppableStore=e,t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragstart",this.handleDragStart),t.emitter.on("dragmove",this.handleDragMove),t.emitter.on("pointerup",this.handlePointerUp),t.emitter.on("dragend",this.handleDragEnd),this.dragging=t,this.emitter=new dh}
// sets initialHit
// sets coordAdjust
processFirstCoord(t){let e,i={left:t.pageX,top:t.pageY},n=i,s=t.subjectEl;var r,o;s instanceof HTMLElement&&(e=uu(s),r=n,o=e,n={left:Math.min(Math.max(r.left,o.left),o.right),top:Math.min(Math.max(r.top,o.top),o.bottom)});let a=this.initialHit=this.queryHitForOffset(n.left,n.top);if(a){if(this.useSubjectCenter&&e){let t=Xh(e,a.rect);t&&(n=function(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}(t))}this.coordAdjust=(c=i,{left:(l=n).left-c.left,top:l.top-c.top})}else this.coordAdjust={left:0,top:0};var l,c}handleMove(t,e){let i=this.queryHitForOffset(t.pageX+this.coordAdjust.left,t.pageY+this.coordAdjust.top);!e&&wg(this.movingHit,i)||(this.movingHit=i,this.emitter.trigger("hitupdate",i,!1,t))}prepareHits(){this.offsetTrackers=Gc(this.droppableStore,(t=>(t.component.prepareHits(),new bg(t.el))))}releaseHits(){let{offsetTrackers:t}=this;for(let e in t)t[e].destroy();this.offsetTrackers={}}queryHitForOffset(t,e){let{droppableStore:i,offsetTrackers:n}=this,s=null;for(let r in i){let o=i[r].component,a=n[r];if(a&&// wasn't destroyed mid-drag
a.isWithinClipping(t,e)){let i=a.computeLeft(),n=a.computeTop(),l=t-i,c=e-n,{origRect:d}=a,h=d.right-d.left,u=d.bottom-d.top;if(
// must be within the element's bounds
l>=0&&l<h&&c>=0&&c<u){let t=o.queryHit(l,c,h,u);t&&// make sure the hit is within activeRange, meaning it's not a dead cell
kd(t.dateProfile.activeRange,t.dateSpan.range)&&(!s||t.layer>s.layer)&&(t.componentId=r,t.context=o.context,t.rect.left+=i,t.rect.right+=i,t.rect.top+=n,t.rect.bottom+=n,s=t)}}}return s}}function wg(t,e){return!t&&!e||Boolean(t)===Boolean(e)&&(i=t.dateSpan,n=e.dateSpan,s=i.range,r=n.range,(null===s.start?null:s.start.valueOf())===(null===r.start?null:r.start.valueOf())&&(null===s.end?null:s.end.valueOf())===(null===r.end?null:r.end.valueOf())&&i.allDay===n.allDay&&function(t,e){for(let i in e)if("range"!==i&&"allDay"!==i&&t[i]!==e[i])return!1;for(let i in t)if(!(i in e))return!1;return!0}(i,n));var i,n,s,r}function _g(t,e){let i={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(i,r(t,e));var n,s;return Object.assign(i,(n=t,{date:(s=e.dateEnv).toDate(n.range.start),dateStr:s.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay})),i}class Eg extends Yh{constructor(t){super(t),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=t=>{let e=t.origEvent.target,{component:i,dragging:n}=this,{mirror:s}=n,{options:r}=i.context,o=i.context;this.subjectEl=t.subjectEl;let a=this.subjectSeg=Ah(t.subjectEl),l=(this.eventRange=a.eventRange).instance.instanceId;this.relevantEvents=qd(o.getCurrentData().eventStore,l),n.minDistance=t.isTouch?0:r.eventDragMinDistance,n.delay=// only do a touch delay if touch and this event hasn't been selected yet
t.isTouch&&l!==i.props.eventSelection?function(t){let{options:e}=t.context,i=e.eventLongPressDelay;null==i&&(i=e.longPressDelay);return i}(i):null,r.fixedMirrorParent?s.parentNode=r.fixedMirrorParent:s.parentNode=xl(e,".fc"),s.revertDuration=r.dragRevertDuration;let c=i.isValidSegDownEl(e)&&!xl(e,".fc-event-resizer");n.setIgnoreMove(!c),this.isDragging=c&&t.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=t=>{let e=this.component.context,i=this.eventRange,n=i.instance.instanceId;t.isTouch?n!==this.component.props.eventSelection&&e.dispatch({type:"SELECT_EVENT",eventInstanceId:n}):e.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(e.calendarApi.unselect(t),e.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new xh(e,i.def,i.instance),jsEvent:t.origEvent,view:e.viewApi}))},this.handleHitUpdate=(t,e)=>{if(!this.isDragging)return;let i=this.relevantEvents,n=this.hitDragging.initialHit,s=this.component.context,r=null,o=null,a=null,l=!1,c={affectedEvents:i,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(t){r=t.context;let e=r.options;s===r||e.editable&&e.droppable?(o=function(t,e,i){let n=t.dateSpan,s=e.dateSpan,r=n.range.start,o=s.range.start,a={};n.allDay!==s.allDay&&(a.allDay=s.allDay,a.hasEnd=e.context.options.allDayMaintainDuration,s.allDay&&(r=rc(r)));let l=Pd(r,o,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);l.milliseconds&&(a.allDay=!1);let c={datesDelta:l,standardProps:a};for(let d of i)d(c,t,e);return c}(n,t,r.getCurrentData().pluginHooks.eventDragMutationMassagers),o&&(a=mh(i,r.getCurrentData().eventUiBases,o,r),c.mutatedEvents=a,Bu(c,t.dateProfile,r)||(l=!0,o=null,a=null,c.mutatedEvents={defs:{},instances:{}}))):r=null}this.displayDrag(r,c),l?Il():Ll(),e||(s===r&&// TODO: write test for this
wg(n,t)&&(o=null),this.dragging.setMirrorNeedsRevert(!o),this.dragging.setMirrorIsVisible(!t||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=r,this.validMutation=o,this.mutatedRelevantEvents=a)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=t=>{if(this.isDragging){let e=this.component.context,i=e.viewApi,{receivingContext:n,validMutation:s}=this,r=this.eventRange.def,o=this.eventRange.instance,a=new xh(e,r,o),l=this.relevantEvents,c=this.mutatedRelevantEvents,{finalHit:d}=this.hitDragging;if(this.clearDrag(),e.emitter.trigger("eventDragStop",{el:this.subjectEl,event:a,jsEvent:t.origEvent,view:i}),s){if(n===e){let n=new xh(e,c.defs[r.defId],o?c.instances[o.instanceId]:null);e.dispatch({type:"MERGE_EVENTS",eventStore:c});let d={oldEvent:a,event:n,relatedEvents:_h(c,e,o),revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:l})}},h={};for(let t of e.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(h,t(s,e));e.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},d),h),{el:t.subjectEl,delta:s.datesDelta,jsEvent:t.origEvent,view:i})),e.emitter.trigger("eventChange",d)}else if(n){let s={event:a,relatedEvents:_h(l,e,o),revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:l})}};e.emitter.trigger("eventLeave",Object.assign(Object.assign({},s),{draggedEl:t.subjectEl,view:i})),e.dispatch({type:"REMOVE_EVENTS",eventStore:l}),e.emitter.trigger("eventRemove",s);let h=c.defs[r.defId],u=c.instances[o.instanceId],f=new xh(n,h,u);n.dispatch({type:"MERGE_EVENTS",eventStore:c});let p={event:f,relatedEvents:_h(c,n,u),revert(){n.dispatch({type:"REMOVE_EVENTS",eventStore:c})}};n.emitter.trigger("eventAdd",p),t.isTouch&&n.dispatch({type:"SELECT_EVENT",eventInstanceId:o.instanceId}),n.emitter.trigger("drop",Object.assign(Object.assign({},_g(d.dateSpan,n)),{draggedEl:t.subjectEl,jsEvent:t.origEvent,view:d.context.viewApi})),n.emitter.trigger("eventReceive",Object.assign(Object.assign({},p),{draggedEl:t.subjectEl,view:d.context.viewApi}))}}else e.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:e}=this,{options:i}=e.context,n=this.dragging=new vg(t.el);n.pointer.selector=Eg.SELECTOR,n.touchScrollAllowed=!1,n.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new xg(this.dragging,qh);s.useSubjectCenter=t.useEventCenter,s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}
// render a drag state on the next receivingCalendar
displayDrag(t,e){let i=this.component.context,n=this.receivingContext;n&&n!==t&&(n===i?n.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:e.affectedEvents,mutatedEvents:{defs:{},instances:{}},isEvent:!0}}):n.dispatch({type:"UNSET_EVENT_DRAG"})),t&&t.dispatch({type:"SET_EVENT_DRAG",state:e})}clearDrag(){let t=this.component.context,{receivingContext:e}=this;e&&e.dispatch({type:"UNSET_EVENT_DRAG"}),t!==e&&t.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Eg.SELECTOR=".fc-event-draggable, .fc-event-resizable";const Sg={fixedMirrorParent:Wc},Ag={dateClick:Wc,eventDragStart:Wc,eventDragStop:Wc,eventDrop:Wc,eventResizeStart:Wc,eventResizeStop:Wc,eventResize:Wc,drop:Wc,eventReceive:Wc,eventLeave:Wc};Cu.dataAttrPrefix="";var Dg=zf({name:"@fullcalendar/interaction",componentInteractions:[class extends Yh{constructor(t){super(t),this.handlePointerDown=t=>{let{dragging:e}=this,i=t.origEvent.target;e.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=t=>{let{component:e}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:i,finalHit:n}=this.hitDragging;if(i&&n&&wg(i,n)){let{context:n}=e,s=Object.assign(Object.assign({},_g(i.dateSpan,n)),{dayEl:i.dayEl,jsEvent:t.origEvent,view:n.viewApi||n.calendarApi.view});n.emitter.trigger("dateClick",s)}}},this.dragging=new vg(t.el),this.dragging.autoScroller.isEnabled=!1;let e=this.hitDragging=new xg(this.dragging,Gh(t));e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},class extends Yh{constructor(t){super(t),this.dragSelection=null,this.handlePointerDown=t=>{let{component:e,dragging:i}=this,{options:n}=e.context,s=n.selectable&&e.isValidDateDownEl(t.origEvent.target);i.setIgnoreMove(!s),i.delay=t.isTouch?function(t){let{options:e}=t.context,i=e.selectLongPressDelay;null==i&&(i=e.longPressDelay);return i}(e):null},this.handleDragStart=t=>{this.component.context.calendarApi.unselect(t)},this.handleHitUpdate=(t,e)=>{let{context:i}=this.component,n=null,s=!1;if(t){let e=this.hitDragging.initialHit;t.componentId===e.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(e,t)||(n=function(t,e,i){let n=t.dateSpan,s=e.dateSpan,r=[n.range.start,n.range.end,s.range.start,s.range.end];r.sort(Vl);let o={};for(let a of i){let i=a(t,e);if(!1===i)return null;i&&Object.assign(o,i)}return o.range={start:r[0],end:r[3]},o.allDay=n.allDay,o}(e,t,i.pluginHooks.dateSelectionTransformers)),n&&function(t,e,i){return!!kd(e.validRange,t.range)&&ju({dateSelection:t},i)}(n,t.dateProfile,i)||(s=!0,n=null)}n?i.dispatch({type:"SELECT_DATES",selection:n}):e||i.dispatch({type:"UNSELECT_DATES"}),s?Il():Ll(),e||(this.dragSelection=n)},this.handlePointerUp=t=>{this.dragSelection&&(fh(this.dragSelection,t,this.component.context),this.dragSelection=null)};let{component:e}=t,{options:i}=e.context,n=this.dragging=new vg(t.el);n.touchScrollAllowed=!1,n.minDistance=i.selectMinDistance||0,n.autoScroller.isEnabled=i.dragScroll;let s=this.hitDragging=new xg(this.dragging,Gh(t));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}},Eg,class extends Yh{constructor(t){super(t),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=t=>{let{component:e}=this,i=Ah(this.querySegEl(t)),n=this.eventRange=i.eventRange;this.dragging.minDistance=e.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(t.origEvent.target)||t.isTouch&&this.component.props.eventSelection!==n.instance.instanceId)},this.handleDragStart=t=>{let{context:e}=this.component,i=this.eventRange;this.relevantEvents=qd(e.getCurrentData().eventStore,this.eventRange.instance.instanceId);let n=this.querySegEl(t);this.draggingSegEl=n,this.draggingSeg=Ah(n),e.calendarApi.unselect(),e.emitter.trigger("eventResizeStart",{el:n,event:new xh(e,i.def,i.instance),jsEvent:t.origEvent,view:e.viewApi})},this.handleHitUpdate=(t,e,i)=>{let{context:n}=this.component,s=this.relevantEvents,r=this.hitDragging.initialHit,o=this.eventRange.instance,a=null,l=null,c=!1,d={affectedEvents:s,mutatedEvents:{defs:{},instances:{}},isEvent:!0};if(t){t.componentId===r.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(r,t)||(a=function(t,e,i,n){let s=t.context.dateEnv,r=t.dateSpan.range.start,o=e.dateSpan.range.start,a=Pd(r,o,s,t.largeUnit);if(i){if(s.add(n.start,a)<n.end)return{startDelta:a}}else if(s.add(n.end,a)>n.start)return{endDelta:a};return null}(r,t,i.subjectEl.classList.contains("fc-event-resizer-start"),o.range))}a&&(l=mh(s,n.getCurrentData().eventUiBases,a,n),d.mutatedEvents=l,Bu(d,t.dateProfile,n)||(c=!0,a=null,l=null,d.mutatedEvents=null)),l?n.dispatch({type:"SET_EVENT_RESIZE",state:d}):n.dispatch({type:"UNSET_EVENT_RESIZE"}),c?Il():Ll(),e||(a&&wg(r,t)&&(a=null),this.validMutation=a,this.mutatedRelevantEvents=l)},this.handleDragEnd=t=>{let{context:e}=this.component,i=this.eventRange.def,n=this.eventRange.instance,s=new xh(e,i,n),r=this.relevantEvents,o=this.mutatedRelevantEvents;if(e.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:s,jsEvent:t.origEvent,view:e.viewApi}),this.validMutation){let a=new xh(e,o.defs[i.defId],n?o.instances[n.instanceId]:null);e.dispatch({type:"MERGE_EVENTS",eventStore:o});let l={oldEvent:s,event:a,relatedEvents:_h(o,e,n),revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:r})}};e.emitter.trigger("eventResize",Object.assign(Object.assign({},l),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||$l(0),endDelta:this.validMutation.endDelta||$l(0),jsEvent:t.origEvent,view:e.viewApi})),e.emitter.trigger("eventChange",l)}else e.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:e}=t,i=this.dragging=new vg(t.el);i.pointer.selector=".fc-event-resizer",i.touchScrollAllowed=!1,i.autoScroller.isEnabled=e.context.options.dragScroll;let n=this.hitDragging=new xg(this.dragging,Gh(t));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragstart",this.handleDragStart),n.emitter.on("hitupdate",this.handleHitUpdate),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(t){return xl(t.subjectEl,".fc-event")}}],calendarInteractions:[class{constructor(t){this.context=t,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=t=>{t.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=t=>{let e=this.context.options.unselectCancel,i=Al(t.origEvent);this.matchesCancel=!!xl(i,e),this.matchesEvent=!!xl(i,Eg.SELECTOR)},this.onDocumentPointerUp=t=>{let{context:e}=this,{documentPointer:i}=this,n=e.getCurrentData();if(!i.wasTouchScroll){if(n.dateSelection&&// an existing date selection?
!this.isRecentPointerDateSelect){let i=e.options.unselectAuto;!i||i&&this.matchesCancel||e.calendarApi.unselect(t)}n.eventSelection&&// an existing event selected?
!this.matchesEvent&&e.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let e=this.documentPointer=new cg(document);e.shouldIgnoreMove=!0,e.shouldWatchScroll=!1,e.emitter.on("pointerdown",this.onDocumentPointerDown),e.emitter.on("pointerup",this.onDocumentPointerUp),t.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}],elementDraggingImpl:vg,optionRefiners:Sg,listenerRefiners:Ag});class Cg extends Kh{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(t){return t.allDay?["allDay"]:["timed"]}getKeysForEventDef(t){return t.allDay?"background"===(e=t).ui.display||"inverse-background"===e.ui.display?["timed","allDay"]:["allDay"]:["timed"];var e}}const Mg=Oc({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function kg(t){let e=["fc-timegrid-slot","fc-timegrid-slot-label",t.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return z(hd.Consumer,null,(i=>{if(!t.isLabeled)return z("td",{className:e.join(" "),"data-time":t.isoTimeStr});let{dateEnv:n,options:s,viewApi:r}=i,o=
// TODO: fully pre-parse
null==s.slotLabelFormat?Mg:Array.isArray(s.slotLabelFormat)?Oc(s.slotLabelFormat[0]):Oc(s.slotLabelFormat),a={level:0,time:t.time,date:n.toDate(t.date),view:r,text:n.format(t.date,o)};return z(wd,{elTag:"td",elClasses:e,elAttrs:{"data-time":t.isoTimeStr},renderProps:a,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:Tg,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},(t=>z("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},z(t,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]}))))}))}function Tg(t){return t.text}class Rg extends pd{render(){return this.props.slatMetas.map((t=>z("tr",{key:t.key},z(kg,Object.assign({},t)))))}}const Og=Oc({week:"short"});class Pg extends yu{constructor(){super(...arguments),this.allDaySplitter=new Cg,this.headerElRef=j(),this.rootElRef=j(),this.scrollerElRef=j(),this.state={slatCoords:null},this.handleScrollTopRequest=t=>{let e=this.scrollerElRef.current;e&&(e.scrollTop=t)},this.renderHeadAxis=(t,e="")=>{let{options:i}=this.context,{dateProfile:n}=this.props,s=n.renderRange,r=1===nc(s.start,s.end)?ru(this.context,s.start,"week"):{};return i.weekNumbers&&"day"===t?z(yf,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:s.start,defaultFormat:Og},(t=>z("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:e}},z(t,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:r})))):z("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},z("div",{className:"fc-timegrid-axis-frame",style:{height:e}}))},this.renderTableRowAxis=t=>{let{options:e,viewApi:i}=this.context,n={text:e.allDayText,view:i};
// TODO: make reusable hook. used in list view too
return z(wd,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:n,generatorName:"allDayContent",customGenerator:e.allDayContent,defaultGenerator:Ng,classNameGenerator:e.allDayClassNames,didMount:e.allDayDidMount,willUnmount:e.allDayWillUnmount},(e=>z("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",null==t?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:t}},z(e,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]}))))},this.handleSlatCoords=t=>{this.setState({slatCoords:t})}}
// rendering
// ----------------------------------------------------------------------------------------------------
renderSimpleLayout(t,e,i){let{context:n,props:s}=this,r=[],o=rf(n.options);return t&&r.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),e&&(r.push({type:"body",key:"all-day",chunk:{content:e}}),r.push({type:"body",key:"all-day-divider",outerContent:
// TODO: rename to cellContent so don't need to define <tr>?
z("tr",{role:"presentation",className:"fc-scrollgrid-section"},z("td",{className:"fc-timegrid-divider "+n.theme.getClass("tableCellShaded")}))})),r.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(n.options.expandRows),chunk:{scrollerElRef:this.scrollerElRef,content:i}}),z(Ed,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:n.viewSpec},z(af,{liquid:!s.isHeightAuto&&!s.forPrint,collapsibleWidth:s.forPrint,cols:[{width:"shrink"}],sections:r}))}renderHScrollLayout(t,e,i,n,s,r,o){let a=this.context.pluginHooks.scrollGridImpl;if(!a)throw new Error("No ScrollGrid implementation");let{context:l,props:c}=this,d=!c.forPrint&&rf(l.options),h=!c.forPrint&&of(l.options),u=[];t&&u.push({type:"header",key:"header",isSticky:d,syncRowHeights:!0,chunks:[{key:"axis",rowContent:t=>z("tr",{role:"presentation"},this.renderHeadAxis("day",t.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),e&&(u.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:t=>z("tr",{role:"presentation"},this.renderTableRowAxis(t.rowSyncHeights[0]))},{key:"cols",content:e}]}),u.push({key:"all-day-divider",type:"body",outerContent:
// TODO: rename to cellContent so don't need to define <tr>?
z("tr",{role:"presentation",className:"fc-scrollgrid-section"},z("td",{colSpan:2,className:"fc-timegrid-divider "+l.theme.getClass("tableCellShaded")}))}));let f=l.options.nowIndicator;return u.push({type:"body",key:"body",liquid:!0,expandRows:Boolean(l.options.expandRows),chunks:[{key:"axis",content:t=>
// TODO: make this now-indicator arrow more DRY with TimeColsContent
z("div",{className:"fc-timegrid-axis-chunk"},z("table",{"aria-hidden":!0,style:{height:t.expandRows?t.clientHeight:""}},t.tableColGroupNode,z("tbody",null,z(Rg,{slatMetas:r}))),z("div",{className:"fc-timegrid-now-indicator-container"},z(Pu,{unit:f?"minute":"day"
/* hacky */},(t=>{let e=f&&o&&o.safeComputeTop(t);return"number"==typeof e?z(hf,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:e},isAxis:!0,date:t}):null}))))},{key:"cols",scrollerElRef:this.scrollerElRef,content:i}]}),h&&u.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:sf},{key:"cols",content:sf}]}),z(Ed,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:l.viewSpec},z(a,{liquid:!c.isHeightAuto&&!c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:n,minWidth:s}]}],sections:u}))}
/* Dimensions
  ------------------------------------------------------------------------------------------------------------------*/getAllDayMaxEventProps(){let{dayMaxEvents:t,dayMaxEventRows:e}=this.context.options;return!0!==t&&!0!==e||(t=void 0,e=5),{dayMaxEvents:t,dayMaxEventRows:e}}}function Ng(t){return t.text}class Ig{constructor(t,e,i){this.positions=t,this.dateProfile=e,this.slotDuration=i}safeComputeTop(t){let{dateProfile:e}=this;if(Td(e.currentRange,t)){let i=rc(t),n=t.valueOf()-i.valueOf();if(n>=Ql(e.slotMinTime)&&n<Ql(e.slotMaxTime))return this.computeTimeTop($l(n))}return null}
// Computes the top coordinate, relative to the bounds of the grid, of the given date.
// A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.
computeDateTop(t,e){return e||(e=rc(t)),this.computeTimeTop($l(t.valueOf()-e.valueOf()))}
// Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).
// This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.
// Eventually allow computation with arbirary slat dates.
computeTimeTop(t){let e,i,{positions:n,dateProfile:s}=this,r=n.els.length,o=(t.milliseconds-Ql(s.slotMinTime))/Ql(this.slotDuration);return o=Math.max(0,o),o=Math.min(r,o),e=Math.floor(o),e=Math.min(e,r-1),i=o-e,n.tops[e]+n.getHeight(e)*i}}class Lg extends pd{render(){let{props:t,context:e}=this,{options:i}=e,{slatElRefs:n}=t;return z("tbody",null,t.slatMetas.map(((s,r)=>{let o={time:s.time,date:e.dateEnv.toDate(s.date),view:e.viewApi};return z("tr",{key:s.key,ref:n.createRef(s.key)},t.axis&&z(kg,Object.assign({},s)),z(wd,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!s.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":s.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:i.slotLaneContent,classNameGenerator:i.slotLaneClassNames,didMount:i.slotLaneDidMount,willUnmount:i.slotLaneWillUnmount}))})))}}class zg extends pd{constructor(){super(...arguments),this.rootElRef=j(),this.slatElRefs=new Zu}render(){let{props:t,context:e}=this;return z("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},z("table",{"aria-hidden":!0,className:e.theme.getClass("table"),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:t.minHeight}},t.tableColGroupNode,z(Lg,{slatElRefs:this.slatElRefs,axis:t.axis,slatMetas:t.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:t,props:e}=this;if(e.onCoords&&null!==e.clientWidth){this.rootElRef.current.offsetHeight&&e.onCoords(new Ig(new pu(this.rootElRef.current,(i=this.slatElRefs.currentMap,e.slatMetas.map((t=>i[t.key]))),!1,!0),this.props.dateProfile,t.options.slotDuration))}var i}}function Hg(t,e){let i,n=[];for(i=0;i<e;i+=1)n.push([]);if(t)for(i=0;i<t.length;i+=1)n[t[i].col].push(t[i]);return n}function Fg(t,e){let i=[];if(t){for(let n=0;n<e;n+=1)i[n]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let e of t.segs)i[e.col].segs.push(e)}else for(let n=0;n<e;n+=1)i[n]=null;return i}class Vg extends pd{render(){let{props:t}=this;return z(Ef,{elClasses:["fc-timegrid-more-link"],elStyle:{top:t.top,bottom:t.bottom},allDayDate:null,moreCnt:t.hiddenSegs.length,allSegs:t.hiddenSegs,hiddenSegs:t.hiddenSegs,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,todayRange:t.todayRange,popoverContent:()=>Xg(t.hiddenSegs,t),defaultGenerator:Bg},(t=>z(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]})))}}function Bg(t){return t.shortText}function jg(t,e,i){let n=new xu;null!=e&&(n.strictOrder=e),null!=i&&(n.maxStackCnt=i);let s=function(t){let e=[];for(let s of t){let t=[],r={span:s.span,entries:[s]};for(let s of e)Eu(s.span,r.span)?r={entries:s.entries.concat(r.entries),span:(i=s.span,n=r.span,{start:Math.min(i.start,n.start),end:Math.max(i.end,n.end)})}:t.push(s);t.push(r),e=t}var i,n;return e}(n.addSegs(t)),r=function(t){const{entriesByLevel:e}=t,i=Yg(((t,e)=>t+":"+e),((n,s)=>{let r=function(t,e,i){let{levelCoords:n,entriesByLevel:s}=t,r=s[e][i],o=n[e]+r.thickness,a=n.length,l=e;for(;l<a&&n[l]<o;l+=1);for(;l<a;l+=1){let t,e=s[l],i=Au(e,r.span.start,wu),n=i[0]+i[1],o=n;for(;
// loop through entries that horizontally intersect
(t=e[o])&&// but not past the whole seg list
t.span.start<r.span.end;)o+=1;if(n<o)return{level:l,lateralStart:n,lateralEnd:o}}return null}(t,n,s),o=Wg(r,i),a=e[n][s];return[Object.assign(Object.assign({},a),{nextLevelNodes:o[0]}),a.thickness+o[1]]}));return Wg(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,i)[0]}(n);return r=function(t,e){const i=Yg(((t,e,i)=>_u(t)),((t,n,s)=>{let r,{nextLevelNodes:o,thickness:a}=t,l=a+s,c=a/l,d=[];if(o.length)for(let e of o)if(void 0===r){let t=i(e,n,l);r=t[0],d.push(t[1])}else{let t=i(e,r,0);d.push(t[1])}else r=e;let h=(r-n)*c;return[r-h,Object.assign(Object.assign({},t),{thickness:h,nextLevelNodes:d})]}));return t.map((t=>i(t,0,0)[1]))}(r,1),{segRects:function(t){let e=[];const i=Yg(((t,e,i)=>_u(t)),((t,i,s)=>{let r=Object.assign(Object.assign({},t),{levelCoord:i,stackDepth:s,stackForward:0});return e.push(r),r.stackForward=n(t.nextLevelNodes,i+t.thickness,s+1)+1}));function n(t,e,n){let s=0;for(let r of t)s=Math.max(i(r,e,n),s);return s}return n(t,0,0),e}(r),hiddenGroups:s}}function Wg(t,e){if(!t)return[[],0];let{level:i,lateralStart:n,lateralEnd:s}=t,r=n,o=[];for(;r<s;)o.push(e(i,r)),r+=1;return o.sort(Ug),[o.map($g),o[0][1]]}function Ug(t,e){return e[1]-t[1]}function $g(t){return t[0]}function Yg(t,e){const i={};return(...n)=>{let s=t(...n);return s in i?i[s]:i[s]=e(...n)}}function Gg(t,e,i=null,n=0){let s=[];if(i)for(let r=0;r<t.length;r+=1){let o=t[r],a=i.computeDateTop(o.start,e),l=Math.max(a+(n||0),
// :(
i.computeDateTop(o.end,e));s.push({start:Math.round(a),end:Math.round(l)})}return s}const qg=Oc({hour:"numeric",minute:"2-digit",meridiem:!1});class Qg extends pd{render(){return z(cf,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:qg}))}}class Zg extends pd{constructor(){super(...arguments),this.sortEventSegs=vc(Mh)}
// TODO: memoize event-placement?
render(){let{props:t,context:e}=this,{options:i}=e,n=i.selectMirror,s=
// yuck
t.eventDrag&&t.eventDrag.segs||t.eventResize&&t.eventResize.segs||n&&t.dateSelectionSegs||[],r=
// TODO: messy way to compute this
t.eventDrag&&t.eventDrag.affectedInstances||t.eventResize&&t.eventResize.affectedInstances||{},o=this.sortEventSegs(t.fgEventSegs,i.eventOrder);return z(ff,{elTag:"td",elRef:t.elRef,elClasses:["fc-timegrid-col",...t.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},t.extraDataAttrs),date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,extraRenderProps:t.extraRenderProps},(e=>z("div",{className:"fc-timegrid-col-frame"},z("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(t.businessHourSegs,"non-business"),this.renderFillSegs(t.bgEventSegs,"bg-event"),this.renderFillSegs(t.dateSelectionSegs,"highlight")),z("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,r,!1,!1,!1)),z("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(s,{},Boolean(t.eventDrag),Boolean(t.eventResize),Boolean(n))),z("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(t.nowIndicatorSegs)),pf(i)&&z(e,{elTag:"div",elClasses:["fc-timegrid-col-misc"]}))))}renderFgSegs(t,e,i,n,s){let{props:r}=this;return r.forPrint?Xg(t,r):this.renderPositionedFgSegs(t,e,i,n,s)}renderPositionedFgSegs(t,e,i,n,s){let{eventMaxStack:r,eventShortHeight:o,eventOrderStrict:a,eventMinHeight:l}=this.context.options,{date:c,slatCoords:d,eventSelection:h,todayRange:u,nowDate:f}=this.props,p=i||n||s,g=Gg(t,c,d,l),{segPlacements:m,hiddenGroups:v}=function(t,e,i,n){let s=[],r=[];for(let c=0;c<t.length;c+=1){let i=e[c];i?s.push({index:c,thickness:1,span:i}):r.push(t[c])}let{segRects:o,hiddenGroups:a}=jg(s,i,n),l=[];for(let c of o)l.push({seg:t[c.index],rect:c});for(let c of r)l.push({seg:c,rect:null});return{segPlacements:l,hiddenGroups:a}}(t,g,a,r);return z(H,null,this.renderHiddenGroups(v,t),m.map((t=>{let{seg:r,rect:a}=t,l=r.eventRange.instance.instanceId,c=p||Boolean(!e[l]&&a),d=Jg(a&&a.span),g=!p&&a?this.computeSegHStyle(a):{left:0,right:0},m=Boolean(a)&&a.stackForward>0,v=Boolean(a)&&a.span.end-a.span.start<o;return z("div",{className:"fc-timegrid-event-harness"+(m?" fc-timegrid-event-harness-inset":""),key:l,style:Object.assign(Object.assign({visibility:c?"":"hidden"},d),g)},z(Qg,Object.assign({seg:r,isDragging:i,isResizing:n,isDateSelecting:s,isSelected:l===h,isShort:v},Nh(r,u,f))))})))}
// will already have eventMinHeight applied because segInputs already had it
renderHiddenGroups(t,e){let{extraDateSpan:i,dateProfile:n,todayRange:s,nowDate:r,eventSelection:o,eventDrag:a,eventResize:l}=this.props;return z(H,null,t.map((t=>{let c=Jg(t.span),d=(h=t.entries,u=e,h.map((t=>u[t.index])));var h,u;return z(Vg,{key:pc(Df(d)),hiddenSegs:d,top:c.top,bottom:c.bottom,extraDateSpan:i,dateProfile:n,todayRange:s,nowDate:r,eventSelection:o,eventDrag:a,eventResize:l})})))}renderFillSegs(t,e){let{props:i,context:n}=this,s=Gg(t,i.date,i.slatCoords,n.options.eventMinHeight).map(((n,s)=>{let r=t[s];return z("div",{key:Lh(r.eventRange),className:"fc-timegrid-bg-harness",style:Jg(n)},"bg-event"===e?z(mf,Object.assign({seg:r},Nh(r,i.todayRange,i.nowDate))):bf(e))}));return z(H,null,s)}renderNowIndicator(t){let{slatCoords:e,date:i}=this.props;return e?t.map(((t,n)=>z(hf,{
// key doesn't matter. will only ever be one
key:n,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:e.computeDateTop(t.start,i)},isAxis:!1,date:i}))):null}computeSegHStyle(t){let e,i,{isRtl:n,options:s}=this.context,r=s.slotEventOverlap,o=t.levelCoord,a=t.levelCoord+t.thickness;r&&(a=Math.min(1,o+2*(a-o))),n?(e=1-a,i=o):(e=o,i=1-a);let l={zIndex:t.stackDepth+1,left:100*e+"%",right:100*i+"%"};return r&&!t.stackForward&&(l[n?"marginLeft":"marginRight"]=20),l}}function Xg(t,{todayRange:e,nowDate:i,eventSelection:n,eventDrag:s,eventResize:r}){let o=(s?s.affectedInstances:null)||(r?r.affectedInstances:null)||{};return z(H,null,t.map((t=>{let s=t.eventRange.instance.instanceId;return z("div",{key:s,style:{visibility:o[s]?"hidden":""}},z(Qg,Object.assign({seg:t,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===n,isShort:!1},Nh(t,e,i))))})))}function Jg(t){return t?{top:t.start,bottom:-t.end}:{top:"",bottom:""}}class Kg extends pd{constructor(){super(...arguments),this.splitFgEventSegs=vc(Hg),this.splitBgEventSegs=vc(Hg),this.splitBusinessHourSegs=vc(Hg),this.splitNowIndicatorSegs=vc(Hg),this.splitDateSelectionSegs=vc(Hg),this.splitEventDrag=vc(Fg),this.splitEventResize=vc(Fg),this.rootElRef=j(),this.cellElRefs=new Zu}render(){let{props:t,context:e}=this,i=e.options.nowIndicator&&t.slatCoords&&t.slatCoords.safeComputeTop(t.nowDate),n=t.cells.length,s=this.splitFgEventSegs(t.fgEventSegs,n),r=this.splitBgEventSegs(t.bgEventSegs,n),o=this.splitBusinessHourSegs(t.businessHourSegs,n),a=this.splitNowIndicatorSegs(t.nowIndicatorSegs,n),l=this.splitDateSelectionSegs(t.dateSelectionSegs,n),c=this.splitEventDrag(t.eventDrag,n),d=this.splitEventResize(t.eventResize,n);return z("div",{className:"fc-timegrid-cols",ref:this.rootElRef},z("table",{role:"presentation",style:{minWidth:t.tableMinWidth,width:t.clientWidth}},t.tableColGroupNode,z("tbody",{role:"presentation"},z("tr",{role:"row"},t.axis&&z("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},z("div",{className:"fc-timegrid-col-frame"},z("div",{className:"fc-timegrid-now-indicator-container"},"number"==typeof i&&z(hf,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:i},isAxis:!0,date:t.nowDate})))),t.cells.map(((e,i)=>z(Zg,{key:e.key,elRef:this.cellElRefs.createRef(e.key),dateProfile:t.dateProfile,date:e.date,nowDate:t.nowDate,todayRange:t.todayRange,extraRenderProps:e.extraRenderProps,extraDataAttrs:e.extraDataAttrs,extraClassNames:e.extraClassNames,extraDateSpan:e.extraDateSpan,fgEventSegs:s[i],bgEventSegs:r[i],businessHourSegs:o[i],nowIndicatorSegs:a[i],dateSelectionSegs:l[i],eventDrag:c[i],eventResize:d[i],slatCoords:t.slatCoords,eventSelection:t.eventSelection,forPrint:t.forPrint})))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:t}=this;var e;t.onColCoords&&null!==t.clientWidth&&t.onColCoords(new pu(this.rootElRef.current,(e=this.cellElRefs.currentMap,t.cells.map((t=>e[t.key]))),!0,
// horizontal
!1))}}class tm extends yu{constructor(){super(...arguments),this.processSlotOptions=vc(em),this.state={slatCoords:null},this.handleRootEl=t=>{t?this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=t=>{let{onScrollTopRequest:e}=this.props,{slatCoords:i}=this.state;if(e&&i){if(t.time){let n=i.computeTimeTop(t.time);n=Math.ceil(n),n&&(n+=1),e(n)}return!0}return!1},this.handleColCoords=t=>{this.colCoords=t},this.handleSlatCoords=t=>{this.setState({slatCoords:t}),this.props.onSlatCoords&&this.props.onSlatCoords(t)}}render(){let{props:t,state:e}=this;return z("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{
// these props are important to give this wrapper correct dimensions for interactions
// TODO: if we set it here, can we avoid giving to inner tables?
width:t.clientWidth,minWidth:t.tableMinWidth}},z(zg,{axis:t.axis,dateProfile:t.dateProfile,slatMetas:t.slatMetas,clientWidth:t.clientWidth,minHeight:t.expandRows?t.clientHeight:"",tableMinWidth:t.tableMinWidth,tableColGroupNode:t.axis?t.tableColGroupNode:null,onCoords:this.handleSlatCoords}),z(Kg,{cells:t.cells,axis:t.axis,dateProfile:t.dateProfile,businessHourSegs:t.businessHourSegs,bgEventSegs:t.bgEventSegs,fgEventSegs:t.fgEventSegs,dateSelectionSegs:t.dateSelectionSegs,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange,nowDate:t.nowDate,nowIndicatorSegs:t.nowIndicatorSegs,clientWidth:t.clientWidth,tableMinWidth:t.tableMinWidth,tableColGroupNode:t.tableColGroupNode,slatCoords:e.slatCoords,onColCoords:this.handleColCoords,forPrint:t.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(t){this.scrollResponder.update(t.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(t,e){let{dateEnv:i,options:n}=this.context,{colCoords:s}=this,{dateProfile:r}=this.props,{slatCoords:o}=this.state,{snapDuration:a,snapsPerSlot:l}=this.processSlotOptions(this.props.slotDuration,n.snapDuration),c=s.leftToIndex(t),d=o.positions.topToIndex(e);if(null!=c&&null!=d){let t=this.props.cells[c],n=o.positions.tops[d],f=o.positions.getHeight(d),p=(e-n)/f,g=d*l+Math.floor(p*l),m=this.props.cells[c].date,v=Gl(r.slotMinTime,(u=g,{years:(h=a).years*u,months:h.months*u,days:h.days*u,milliseconds:h.milliseconds*u})),b=i.add(m,v),y=i.add(b,a);return{dateProfile:r,dateSpan:Object.assign({range:{start:b,end:y},allDay:!1},t.extraDateSpan),dayEl:s.els[c],rect:{left:s.lefts[c],right:s.rights[c],top:n,bottom:n+f},layer:0}}var h,u;return null}}function em(t,e){let i=e||t,n=Zl(t,i);return null===n&&(i=t,n=1),{snapDuration:i,snapsPerSlot:n}}class im extends Fu{sliceRange(t,e){let i=[];for(let n=0;n<e.length;n+=1){let s=Cd(t,e[n]);s&&i.push({start:s.start,end:s.end,isStart:s.start.valueOf()===t.start.valueOf(),isEnd:s.end.valueOf()===t.end.valueOf(),col:n})}return i}}class nm extends yu{constructor(){super(...arguments),this.buildDayRanges=vc(sm),this.slicer=new im,this.timeColsRef=j()}render(){let{props:t,context:e}=this,{dateProfile:i,dayTableModel:n}=t,{nowIndicator:s,nextDayThreshold:r}=e.options,o=this.buildDayRanges(n,i,e.dateEnv);return z(Pu,{unit:s?"minute":"day"},((a,l)=>z(tm,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(t,i,null,e,o),{forPrint:t.forPrint,axis:t.axis,dateProfile:i,slatMetas:t.slatMetas,slotDuration:t.slotDuration,cells:n.cells[0],tableColGroupNode:t.tableColGroupNode,tableMinWidth:t.tableMinWidth,clientWidth:t.clientWidth,clientHeight:t.clientHeight,expandRows:t.expandRows,nowDate:a,nowIndicatorSegs:s&&this.slicer.sliceNowDate(a,i,r,e,o),todayRange:l,onScrollTopRequest:t.onScrollTopRequest,onSlatCoords:t.onSlatCoords}))))}}function sm(t,e,i){let n=[];for(let s of t.headerDates)n.push({start:i.add(s,e.slotMinTime),end:i.add(s,e.slotMaxTime)});return n}const rm=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function om(t,e,i,n,s){let r=new Date(0),o=t,a=$l(0),l=i||function(t){let e,i,n;for(e=rm.length-1;e>=0;e-=1)if(i=$l(rm[e]),n=Zl(i,t),null!==n&&n>1)return i;return t}(n),c=[];for(;Ql(o)<Ql(e);){let t=s.add(r,o),e=null!==Zl(a,l);c.push({date:t,time:o,key:t.toISOString(),isoTimeStr:(d=t,Hl(d.getUTCHours(),2)+":"+Hl(d.getUTCMinutes(),2)+":"+Hl(d.getUTCSeconds(),2)),isLabeled:e}),o=Gl(o,n),a=Gl(a,n)}var d;return c}function am(t,e){let i=new zu(t.renderRange,e);return new Hu(i,!1)}const lm={allDaySlot:Boolean};gl('.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}');var cm=zf({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:lm,views:{timeGrid:{component:class extends Pg{constructor(){super(...arguments),this.buildTimeColsModel=vc(am),this.buildSlatMetas=vc(om)}render(){let{options:t,dateEnv:e,dateProfileGenerator:i}=this.context,{props:n}=this,{dateProfile:s}=n,r=this.buildTimeColsModel(s,i),o=this.allDaySplitter.splitProps(n),a=this.buildSlatMetas(s.slotMinTime,s.slotMaxTime,t.slotLabelInterval,t.slotDuration,e),{dayMinWidth:l}=t,c=!l,d=l,h=t.dayHeaders&&z(Iu,{dates:r.headerDates,dateProfile:s,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),u=!1!==t.allDaySlot&&(e=>z(ig,Object.assign({},o.allDay,{dateProfile:s,dayTableModel:r,nextDayThreshold:t.nextDayThreshold,tableMinWidth:e.tableMinWidth,colGroupNode:e.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:n.forPrint},this.getAllDayMaxEventProps()))),f=e=>z(nm,Object.assign({},o.timed,{dayTableModel:r,dateProfile:s,axis:c,slotDuration:t.slotDuration,slatMetas:a,forPrint:n.forPrint,tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:e.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return d?this.renderHScrollLayout(h,u,f,r.colCnt,l,a,this.state.slatCoords):this.renderSimpleLayout(h,u,f)}},usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});const dm={class:"flex justify-between card-header"},hm=v("h3",null,"Fullcalendar",-1),um=h({__name:"FullCalendar",setup(t){var e;const i=null==(e=E())?void 0:e.appContext.app.config.globalProperties.$swal;let n=0;const s=()=>String(n++),r=(new Date).toISOString().replace(/T.*$/,""),o=[{id:s(),title:"All-day event",start:r},{id:s(),title:"Timed event",start:r+"T12:00:00"},{id:s(),title:"Timed love",start:r+"T14:00:00"}],a=S({plugins:[rg,Dg,cm],initialView:"dayGridMonth",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},initialEvents:o,editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,dateClick:t=>{console.log(t),i.fire({text:`The datetime is ${t.dateStr}`,icon:"success"})}});return f((()=>{})),(t,e)=>{const i=N,n=P;return p(),g(n,{class:"mb-4"},{header:m((()=>[v("div",dm,[hm,b(i,{type:"primary",href:"https://fullcalendar.io/docs/vue",target:"_blank"},{default:m((()=>[y("To Fullcalendar")])),_:1})])])),default:m((()=>[b(A(Np),{options:A(a)},null,8,["options"])])),_:1})}}});var fm=function t(){var e=[].slice.call(arguments),i=!1;"boolean"==typeof e[0]&&(i=e.shift());var n=e[0];if(pm(n))throw new Error("extendee must be an object");for(var s=e.slice(1),r=s.length,o=0;o<r;o++){var a=s[o];for(var l in a)if(Object.prototype.hasOwnProperty.call(a,l)){var c=a[l];if(i&&(h=c,Array.isArray(h)||"[object Object]"=={}.toString.call(h))){var d=Array.isArray(c)?[]:{};n[l]=t(!0,Object.prototype.hasOwnProperty.call(n,l)&&!pm(n[l])?n[l]:d,c)}else n[l]=c}}var h;return n};function pm(t){return!t||"object"!=typeof t&&"function"!=typeof t}function gm(t){return t&&t.__esModule?t.default:t}class mm{
// Add an event listener for given event
on(t,e){return this._callbacks=this._callbacks||{},this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push(e),this}emit(t,...e){this._callbacks=this._callbacks||{};let i=this._callbacks[t];if(i)for(let n of i)n.apply(this,e);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+t,{args:e})),this}makeEvent(t,e){let i={bubbles:!0,cancelable:!0,detail:e};if("function"==typeof window.CustomEvent)return new CustomEvent(t,i);var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),n}
// Remove event listener for given event. If fn is not provided, all event
// listeners for that event will be removed. If neither is provided, all
// event listeners will be removed.
off(t,e){if(!this._callbacks||0===arguments.length)return this._callbacks={},this;let i=this._callbacks[t];if(!i)return this;if(1===arguments.length)return delete this._callbacks[t],this;for(let n=0;n<i.length;n++){if(i[n]===e){i.splice(n,1);break}}return this}}let vm={
/**
  * Has to be specified on elements other than form (or when the form doesn't
  * have an `action` attribute).
  *
  * You can also provide a function that will be called with `files` and
  * `dataBlocks`  and must return the url as string.
  */
url:null,
/**
  * Can be changed to `"put"` if necessary. You can also provide a function
  * that will be called with `files` and must return the method (since `v3.12.0`).
  */
method:"post",
/**
  * Will be set on the XHRequest.
  */
withCredentials:!1,
/**
  * The timeout for the XHR requests in milliseconds (since `v4.4.0`).
  * If set to null or 0, no timeout is going to be set.
  */
timeout:null,
/**
  * How many file uploads to process in parallel (See the
  * Enqueuing file uploads documentation section for more info)
  */
parallelUploads:2,
/**
  * Whether to send multiple files in one request. If
  * this it set to true, then the fallback file input element will
  * have the `multiple` attribute as well. This option will
  * also trigger additional events (like `processingmultiple`). See the events
  * documentation section for more information.
  */
uploadMultiple:!1,
/**
  * Whether you want files to be uploaded in chunks to your server. This can't be
  * used in combination with `uploadMultiple`.
  *
  * See [chunksUploaded](#config-chunksUploaded) for the callback to finalise an upload.
  */
chunking:!1,
/**
  * If `chunking` is enabled, this defines whether **every** file should be chunked,
  * even if the file size is below chunkSize. This means, that the additional chunk
  * form data will be submitted and the `chunksUploaded` callback will be invoked.
  */
forceChunking:!1,
/**
  * If `chunking` is `true`, then this defines the chunk size in bytes.
  */
chunkSize:2097152,
/**
  * If `true`, the individual chunks of a file are being uploaded simultaneously.
  */
parallelChunkUploads:!1,
/**
  * Whether a chunk should be retried if it fails.
  */
retryChunks:!1,
/**
  * If `retryChunks` is true, how many times should it be retried.
  */
retryChunksLimit:3,
/**
  * The maximum filesize (in MiB) that is allowed to be uploaded.
  */
maxFilesize:256,
/**
  * The name of the file param that gets transferred.
  * **NOTE**: If you have the option  `uploadMultiple` set to `true`, then
  * Dropzone will append `[]` to the name.
  */
paramName:"file",
/**
  * Whether thumbnails for images should be generated
  */
createImageThumbnails:!0,
/**
  * In MB. When the filename exceeds this limit, the thumbnail will not be generated.
  */
maxThumbnailFilesize:10,
/**
  * If `null`, the ratio of the image will be used to calculate it.
  */
thumbnailWidth:120,
/**
  * The same as `thumbnailWidth`. If both are null, images will not be resized.
  */
thumbnailHeight:120,
/**
  * How the images should be scaled down in case both, `thumbnailWidth` and `thumbnailHeight` are provided.
  * Can be either `contain` or `crop`.
  */
thumbnailMethod:"crop",
/**
  * If set, images will be resized to these dimensions before being **uploaded**.
  * If only one, `resizeWidth` **or** `resizeHeight` is provided, the original aspect
  * ratio of the file will be preserved.
  *
  * The `options.transformFile` function uses these options, so if the `transformFile` function
  * is overridden, these options don't do anything.
  */
resizeWidth:null,
/**
  * See `resizeWidth`.
  */
resizeHeight:null,
/**
  * The mime type of the resized image (before it gets uploaded to the server).
  * If `null` the original mime type will be used. To force jpeg, for example, use `image/jpeg`.
  * See `resizeWidth` for more information.
  */
resizeMimeType:null,
/**
  * The quality of the resized images. See `resizeWidth`.
  */
resizeQuality:.8,
/**
  * How the images should be scaled down in case both, `resizeWidth` and `resizeHeight` are provided.
  * Can be either `contain` or `crop`.
  */
resizeMethod:"contain",
/**
  * The base that is used to calculate the **displayed** filesize. You can
  * change this to 1024 if you would rather display kibibytes, mebibytes,
  * etc... 1024 is technically incorrect, because `1024 bytes` are `1 kibibyte`
  * not `1 kilobyte`. You can change this to `1024` if you don't care about
  * validity.
  */
filesizeBase:1e3,
/**
  * If not `null` defines how many files this Dropzone handles. If it exceeds,
  * the event `maxfilesexceeded` will be called. The dropzone element gets the
  * class `dz-max-files-reached` accordingly so you can provide visual
  * feedback.
  */
maxFiles:null,
/**
  * An optional object to send additional headers to the server. Eg:
  * `{ "My-Awesome-Header": "header value" }`
  */
headers:null,
/**
  * Should the default headers be set or not?
  * Accept: application/json <- for requesting json response
  * Cache-Control: no-cache <- Request shouldnt be cached
  * X-Requested-With: XMLHttpRequest <- We sent the request via XMLHttpRequest
  */
defaultHeaders:!0,
/**
  * If `true`, the dropzone element itself will be clickable, if `false`
  * nothing will be clickable.
  *
  * You can also pass an HTML element, a CSS selector (for multiple elements)
  * or an array of those. In that case, all of those elements will trigger an
  * upload when clicked.
  */
clickable:!0,
/**
  * Whether hidden files in directories should be ignored.
  */
ignoreHiddenFiles:!0,
/**
  * The default implementation of `accept` checks the file's mime type or
  * extension against this list. This is a comma separated list of mime
  * types or file extensions.
  *
  * Eg.: `image/*,application/pdf,.psd`
  *
  * If the Dropzone is `clickable` this option will also be used as
  * [`accept`](https://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-accept)
  * parameter on the hidden file input as well.
  */
acceptedFiles:null,
/**
  * **Deprecated!**
  * Use acceptedFiles instead.
  */
acceptedMimeTypes:null,
/**
  * If false, files will be added to the queue but the queue will not be
  * processed automatically.
  * This can be useful if you need some additional user input before sending
  * files (or if you want want all files sent at once).
  * If you're ready to send the file simply call `myDropzone.processQueue()`.
  *
  * See the [enqueuing file uploads](#enqueuing-file-uploads) documentation
  * section for more information.
  */
autoProcessQueue:!0,
/**
  * If false, files added to the dropzone will not be queued by default.
  * You'll have to call `enqueueFile(file)` manually.
  */
autoQueue:!0,
/**
  * If `true`, this will add a link to every file preview to remove or cancel (if
  * already uploading) the file. The `dictCancelUpload`, `dictCancelUploadConfirmation`
  * and `dictRemoveFile` options are used for the wording.
  */
addRemoveLinks:!1,
/**
  * Defines where to display the file previews – if `null` the
  * Dropzone element itself is used. Can be a plain `HTMLElement` or a CSS
  * selector. The element should have the `dropzone-previews` class so
  * the previews are displayed properly.
  */
previewsContainer:null,
/**
  * Set this to `true` if you don't want previews to be shown.
  */
disablePreviews:!1,
/**
  * This is the element the hidden input field (which is used when clicking on the
  * dropzone to trigger file selection) will be appended to. This might
  * be important in case you use frameworks to switch the content of your page.
  *
  * Can be a selector string, or an element directly.
  */
hiddenInputContainer:"body",
/**
  * If null, no capture type will be specified
  * If camera, mobile devices will skip the file selection and choose camera
  * If microphone, mobile devices will skip the file selection and choose the microphone
  * If camcorder, mobile devices will skip the file selection and choose the camera in video mode
  * On apple devices multiple must be set to false.  AcceptedFiles may need to
  * be set to an appropriate mime type (e.g. "image/*", "audio/*", or "video/*").
  */
capture:null,
/**
  * **Deprecated**. Use `renameFile` instead.
  */
renameFilename:null,
/**
  * A function that is invoked before the file is uploaded to the server and renames the file.
  * This function gets the `File` as argument and can use the `file.name`. The actual name of the
  * file that gets used during the upload can be accessed through `file.upload.filename`.
  */
renameFile:null,
/**
  * If `true` the fallback will be forced. This is very useful to test your server
  * implementations first and make sure that everything works as
  * expected without dropzone if you experience problems, and to test
  * how your fallbacks will look.
  */
forceFallback:!1,
/**
  * The text used before any files are dropped.
  */
dictDefaultMessage:"Drop files here to upload",
/**
  * The text that replaces the default message text it the browser is not supported.
  */
dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",
/**
  * The text that will be added before the fallback form.
  * If you provide a  fallback element yourself, or if this option is `null` this will
  * be ignored.
  */
dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",
/**
  * If the filesize is too big.
  * `{{filesize}}` and `{{maxFilesize}}` will be replaced with the respective configuration values.
  */
dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",
/**
  * If the file doesn't match the file type.
  */
dictInvalidFileType:"You can't upload files of this type.",
/**
  * If the server response was invalid.
  * `{{statusCode}}` will be replaced with the servers status code.
  */
dictResponseError:"Server responded with {{statusCode}} code.",
/**
  * If `addRemoveLinks` is true, the text to be used for the cancel upload link.
  */
dictCancelUpload:"Cancel upload",
/**
  * The text that is displayed if an upload was manually canceled
  */
dictUploadCanceled:"Upload canceled.",
/**
  * If `addRemoveLinks` is true, the text to be used for confirmation when cancelling upload.
  */
dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",
/**
  * If `addRemoveLinks` is true, the text to be used to remove a file.
  */
dictRemoveFile:"Remove file",
/**
  * If this is not null, then the user will be prompted before removing a file.
  */
dictRemoveFileConfirmation:null,
/**
  * Displayed if `maxFiles` is st and exceeded.
  * The string `{{maxFiles}}` will be replaced by the configuration value.
  */
dictMaxFilesExceeded:"You can not upload any more files.",
/**
  * Allows you to translate the different units. Starting with `tb` for terabytes and going down to
  * `b` for bytes.
  */
dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},
/**
  * Called when dropzone initialized
  * You can add event listeners here
  */
init(){},
/**
  * Can be an **object** of additional parameters to transfer to the server, **or** a `Function`
  * that gets invoked with the `files`, `xhr` and, if it's a chunked upload, `chunk` arguments. In case
  * of a function, this needs to return a map.
  *
  * The default implementation does nothing for normal uploads, but adds relevant information for
  * chunked uploads.
  *
  * This is the same as adding hidden input fields in the form element.
  */
params(t,e,i){if(i)return{dzuuid:i.file.upload.uuid,dzchunkindex:i.index,dztotalfilesize:i.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:i.file.upload.totalChunkCount,dzchunkbyteoffset:i.index*this.options.chunkSize}},
/**
  * A function that gets a [file](https://developer.mozilla.org/en-US/docs/DOM/File)
  * and a `done` function as parameters.
  *
  * If the done function is invoked without arguments, the file is "accepted" and will
  * be processed. If you pass an error message, the file is rejected, and the error
  * message will be displayed.
  * This function will not be called if the file is too big or doesn't match the mime types.
  */
accept:(t,e)=>e(),
/**
  * The callback that will be invoked when all chunks have been uploaded for a file.
  * It gets the file for which the chunks have been uploaded as the first parameter,
  * and the `done` function as second. `done()` needs to be invoked when everything
  * needed to finish the upload process is done.
  */
chunksUploaded:function(t,e){e()},
/**
  * Sends the file as binary blob in body instead of form data.
  * If this is set, the `params` option will be ignored.
  * It's an error to set this to `true` along with `uploadMultiple` since
  * multiple files cannot be in a single binary body.
  */
binaryBody:!1,
/**
  * Gets called when the browser is not supported.
  * The default implementation shows the fallback input field and adds
  * a text.
  */
fallback(){let t;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let i of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(i.className)){t=i,i.className="dz-message";break}t||(t=ym.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t));let e=t.getElementsByTagName("span")[0];return e&&(null!=e.textContent?e.textContent=this.options.dictFallbackMessage:null!=e.innerText&&(e.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},
/**
  * Gets called to calculate the thumbnail dimensions.
  *
  * It gets `file`, `width` and `height` (both may be `null`) as parameters and must return an object containing:
  *
  *  - `srcWidth` & `srcHeight` (required)
  *  - `trgWidth` & `trgHeight` (required)
  *  - `srcX` & `srcY` (optional, default `0`)
  *  - `trgX` & `trgY` (optional, default `0`)
  *
  * Those values are going to be used by `ctx.drawImage()`.
  */
resize(t,e,i,n){let s={srcX:0,srcY:0,srcWidth:t.width,srcHeight:t.height},r=t.width/t.height;null==e&&null==i?(e=s.srcWidth,i=s.srcHeight):null==e?e=i*r:null==i&&(i=e/r);let o=(e=Math.min(e,s.srcWidth))/(i=Math.min(i,s.srcHeight));if(s.srcWidth>e||s.srcHeight>i)if("crop"===n)r>o?(s.srcHeight=t.height,s.srcWidth=s.srcHeight*o):(s.srcWidth=t.width,s.srcHeight=s.srcWidth/o);else{if("contain"!==n)throw new Error(`Unknown resizeMethod '${n}'`);r>o?i=e/r:e=i*r}return s.srcX=(t.width-s.srcWidth)/2,s.srcY=(t.height-s.srcHeight)/2,s.trgWidth=e,s.trgHeight=i,s},
/**
  * Can be used to transform the file (for example, resize an image if necessary).
  *
  * The default implementation uses `resizeWidth` and `resizeHeight` (if provided) and resizes
  * images according to those dimensions.
  *
  * Gets the `file` as the first parameter, and a `done()` function as the second, that needs
  * to be invoked with the file when the transformation is done.
  */
transformFile(t,e){return(this.options.resizeWidth||this.options.resizeHeight)&&t.type.match(/image.*/)?this.resizeImage(t,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(t)},
/**
  * A string that contains the template used for each dropped
  * file. Change it to fulfill your needs but make sure to properly
  * provide all elements.
  *
  * If you want to use an actual HTML element instead of providing a String
  * as a config option, you could create a div with the id `tpl`,
  * put the template inside it and provide the element like this:
  *
  *     document
  *       .querySelector('#tpl')
  *       .innerHTML
  *
  */
previewTemplate:gm('<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail=""></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size=""></span></div>\n    <div class="dz-filename"><span data-dz-name=""></span></div>\n  </div>\n  <div class="dz-progress">\n    <span class="dz-upload" data-dz-uploadprogress=""></span>\n  </div>\n  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>\n  <div class="dz-success-mark">\n    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">\n      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">\n      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>\n    </svg>\n  </div>\n</div>\n'),
/*
  Those functions register themselves to the events on init and handle all
  the user interface specific stuff. Overwriting them won't break the upload
  but can break the way it's displayed.
  You can overwrite them if you don't like the default behavior. If you just
  want to add an additional event handler, register it on the dropzone object
  and don't overwrite those options.
  */
// Those are self explanatory and simply concern the DragnDrop.
drop(t){return this.element.classList.remove("dz-drag-hover")},dragstart(t){},dragend(t){return this.element.classList.remove("dz-drag-hover")},dragenter(t){return this.element.classList.add("dz-drag-hover")},dragover(t){return this.element.classList.add("dz-drag-hover")},dragleave(t){return this.element.classList.remove("dz-drag-hover")},paste(t){},
// Called whenever there are no files left in the dropzone anymore, and the
// dropzone should be displayed as if in the initial state.
reset(){return this.element.classList.remove("dz-started")},
// Called when a file is added to the queue
// Receives `file`
addedfile(t){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){for(var e of(t.previewElement=ym.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),t.previewElement.querySelectorAll("[data-dz-name]")))e.textContent=t.name;for(e of t.previewElement.querySelectorAll("[data-dz-size]"))e.innerHTML=this.filesize(t.size);this.options.addRemoveLinks&&(t._removeLink=ym.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),t.previewElement.appendChild(t._removeLink));let i=e=>(e.preventDefault(),e.stopPropagation(),t.status===ym.UPLOADING?ym.confirm(this.options.dictCancelUploadConfirmation,(()=>this.removeFile(t))):this.options.dictRemoveFileConfirmation?ym.confirm(this.options.dictRemoveFileConfirmation,(()=>this.removeFile(t))):this.removeFile(t));for(let e of t.previewElement.querySelectorAll("[data-dz-remove]"))e.addEventListener("click",i)}},
// Called whenever a file is removed.
removedfile(t){return null!=t.previewElement&&null!=t.previewElement.parentNode&&t.previewElement.parentNode.removeChild(t.previewElement),this._updateMaxFilesReachedClass()},
// Called when a thumbnail has been generated
// Receives `file` and `dataUrl`
thumbnail(t,e){if(t.previewElement){t.previewElement.classList.remove("dz-file-preview");for(let i of t.previewElement.querySelectorAll("[data-dz-thumbnail]"))i.alt=t.name,i.src=e;return setTimeout((()=>t.previewElement.classList.add("dz-image-preview")),1)}},
// Called whenever an error occurs
// Receives `file` and `message`
error(t,e){if(t.previewElement){t.previewElement.classList.add("dz-error"),"string"!=typeof e&&e.error&&(e=e.error);for(let i of t.previewElement.querySelectorAll("[data-dz-errormessage]"))i.textContent=e}},errormultiple(){},
// Called when a file gets processed. Since there is a cue, not all added
// files are processed immediately.
// Receives `file`
processing(t){if(t.previewElement&&(t.previewElement.classList.add("dz-processing"),t._removeLink))return t._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},
// Called whenever the upload progress gets updated.
// Receives `file`, `progress` (percentage 0-100) and `bytesSent`.
// To get the total number of bytes of the file, use `file.size`
uploadprogress(t,e,i){if(t.previewElement)for(let n of t.previewElement.querySelectorAll("[data-dz-uploadprogress]"))"PROGRESS"===n.nodeName?n.value=e:n.style.width=`${e}%`},
// Called whenever the total upload progress gets updated.
// Called with totalUploadProgress (0-100), totalBytes and totalBytesSent
totaluploadprogress(){},
// Called just before the file is sent. Gets the `xhr` object as second
// parameter, so you can modify it (for example to add a CSRF token) and a
// `formData` object to add additional information.
sending(){},sendingmultiple(){},
// When the complete upload is finished and successful
// Receives `file`
success(t){if(t.previewElement)return t.previewElement.classList.add("dz-success")},successmultiple(){},
// When the upload is canceled.
canceled(t){return this.emit("error",t,this.options.dictUploadCanceled)},canceledmultiple(){},
// When the upload is finished, either with success or an error.
// Receives `file`
complete(t){if(t._removeLink&&(t._removeLink.innerHTML=this.options.dictRemoveFile),t.previewElement)return t.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var bm=vm;class ym extends mm{static initClass(){this.prototype.Emitter=mm,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}
// Returns all files that have been accepted
getAcceptedFiles(){return this.files.filter((t=>t.accepted)).map((t=>t))}
// Returns all files that have been rejected
// Not sure when that's going to be useful, but added for completeness.
getRejectedFiles(){return this.files.filter((t=>!t.accepted)).map((t=>t))}getFilesWithStatus(t){return this.files.filter((e=>e.status===t)).map((t=>t))}
// Returns all files that are in the queue
getQueuedFiles(){return this.getFilesWithStatus(ym.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(ym.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(ym.ADDED)}
// Files that are either queued or uploading
getActiveFiles(){return this.files.filter((t=>t.status===ym.UPLOADING||t.status===ym.QUEUED)).map((t=>t))}
// The function that gets called when Dropzone is initialized. You
// can (and should) setup event listeners inside this function.
init(){if("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(ym.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let t=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(null===this.options.maxFiles||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",null!==this.options.acceptedFiles&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),null!==this.options.capture&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",ym.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",(()=>{let{files:e}=this.hiddenFileInput;if(e.length)for(let t of e)this.addFile(t);this.emit("addedfiles",e),t()}))};t()}this.URL=null!==window.URL?window.URL:window.webkitURL;for(let e of this.events)this.on(e,this.options[e]);this.on("uploadprogress",(()=>this.updateTotalUploadProgress())),this.on("removedfile",(()=>this.updateTotalUploadProgress())),this.on("canceled",(t=>this.emit("complete",t))),this.on("complete",(t=>{if(0===this.getAddedFiles().length&&0===this.getUploadingFiles().length&&0===this.getQueuedFiles().length)return setTimeout((()=>this.emit("queuecomplete")),0)}));let t=function(t){if(function(t){if(t.dataTransfer.types)for(var e=0;e<t.dataTransfer.types.length;e++)if("Files"===t.dataTransfer.types[e])return!0;return!1}(t))return t.stopPropagation(),t.preventDefault?t.preventDefault():t.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:t=>this.emit("dragstart",t),dragenter:e=>(t(e),this.emit("dragenter",e)),dragover:e=>{let i;try{i=e.dataTransfer.effectAllowed}catch(n){}return e.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(e),this.emit("dragover",e)},dragleave:t=>this.emit("dragleave",t),drop:e=>(t(e),this.drop(e)),dragend:t=>this.emit("dragend",t)}}],this.clickableElements.forEach((t=>this.listeners.push({element:t,events:{click:e=>((t!==this.element||e.target===this.element||ym.elementInside(e.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}}))),this.enable(),this.options.init.call(this)}
// Not fully tested yet
destroy(){return this.disable(),this.removeAllFiles(!0),(null!=this.hiddenFileInput?this.hiddenFileInput.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,ym.instances.splice(ym.instances.indexOf(this),1)}updateTotalUploadProgress(){let t,e=0,i=0;if(this.getActiveFiles().length){for(let t of this.getActiveFiles())e+=t.upload.bytesSent,i+=t.upload.total;t=100*e/i}else t=100;return this.emit("totaluploadprogress",t,i,e)}
// @options.paramName can be a function taking one parameter rather than a string.
// A parameter name for a file is obtained simply by calling this with an index number.
_getParamName(t){return"function"==typeof this.options.paramName?this.options.paramName(t):`${this.options.paramName}${this.options.uploadMultiple?`[${t}]`:""}`}
// If @options.renameFile is a function,
// the function will be used to rename the file.name before appending it to the formData
_renameFile(t){return"function"!=typeof this.options.renameFile?t.name:this.options.renameFile(t)}
// Returns a form that can be used as fallback if the browser does not support DragnDrop
// If the dropzone is already a form, only the input field and button are returned. Otherwise a complete form element is provided.
// This code has to pass in IE7 :(
getFallbackForm(){let t,e;if(t=this.getExistingFallback())return t;let i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+=`<p>${this.options.dictFallbackText}</p>`),i+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let n=ym.createElement(i);return"FORM"!==this.element.tagName?(e=ym.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),e.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:n}
// Returns the fallback elements if they exist already
// This code has to pass in IE7 :(
getExistingFallback(){let t=function(t){for(let e of t)if(/(^| )fallback($| )/.test(e.className))return e};for(let i of["div","form"]){var e;if(e=t(this.element.getElementsByTagName(i)))return e}}
// Activates all listeners stored in @listeners
setupEventListeners(){return this.listeners.map((t=>(()=>{let e=[];for(let i in t.events){let n=t.events[i];e.push(t.element.addEventListener(i,n,!1))}return e})()))}
// Deactivates all listeners stored in @listeners
removeEventListeners(){return this.listeners.map((t=>(()=>{let e=[];for(let i in t.events){let n=t.events[i];e.push(t.element.removeEventListener(i,n,!1))}return e})()))}
// Removes all event listeners and cancels all files in the queue or being processed.
disable(){return this.clickableElements.forEach((t=>t.classList.remove("dz-clickable"))),this.removeEventListeners(),this.disabled=!0,this.files.map((t=>this.cancelUpload(t)))}enable(){return delete this.disabled,this.clickableElements.forEach((t=>t.classList.add("dz-clickable"))),this.setupEventListeners()}
// Returns a nicely formatted filesize
filesize(t){let e=0,i="b";if(t>0){let n=["tb","gb","mb","kb","b"];for(let s=0;s<n.length;s++){let r=n[s];if(t>=Math.pow(this.options.filesizeBase,4-s)/10){e=t/Math.pow(this.options.filesizeBase,4-s),i=r;break}}e=Math.round(10*e)/10}return`<strong>${e}</strong> ${this.options.dictFileSizeUnits[i]}`}
// Adds or removes the `dz-max-files-reached` class from the form.
_updateMaxFilesReachedClass(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(t){if(!t.dataTransfer)return;this.emit("drop",t);let e=[];for(let i=0;i<t.dataTransfer.files.length;i++)e[i]=t.dataTransfer.files[i];if(e.length){let{items:i}=t.dataTransfer;i&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(e)}this.emit("addedfiles",e)}paste(t){if(null==(e=null!=t?t.clipboardData:void 0,i=t=>t.items,null!=e?i(e):void 0))return;var e,i;this.emit("paste",t);let{items:n}=t.clipboardData;return n.length?this._addFilesFromItems(n):void 0}handleFiles(t){for(let e of t)this.addFile(e)}
// When a folder is dropped (or files are pasted), items must be handled
// instead of files.
_addFilesFromItems(t){return(()=>{let e=[];for(let n of t){var i;null!=n.webkitGetAsEntry&&(i=n.webkitGetAsEntry())?i.isFile?e.push(this.addFile(n.getAsFile())):i.isDirectory?e.push(this._addFilesFromDirectory(i,i.name)):e.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?e.push(this.addFile(n.getAsFile())):e.push(void 0)}return e})()}
// Goes through the directory, and adds each file it finds recursively
_addFilesFromDirectory(t,e){let i=t.createReader(),n=t=>{return e=console,i="log",n=e=>e.log(t),null!=e&&"function"==typeof e[i]?n(e,i):void 0;var e,i,n};var s=()=>i.readEntries((t=>{if(t.length>0){for(let i of t)i.isFile?i.file((t=>{if(!this.options.ignoreHiddenFiles||"."!==t.name.substring(0,1))return t.fullPath=`${e}/${t.name}`,this.addFile(t)})):i.isDirectory&&this._addFilesFromDirectory(i,`${e}/${i.name}`);s()}return null}),n);return s()}
// If `done()` is called without argument the file is accepted
// If you call it with an error message, the file is rejected
// (This allows for asynchronous validation)
// This function checks the filesize, and if the file.type passes the
// `acceptedFiles` check.
accept(t,e){this.options.maxFilesize&&t.size>1048576*this.options.maxFilesize?e(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(t.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):ym.isValidFile(t,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(e(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",t)):this.options.accept.call(this,t,e):e(this.options.dictInvalidFileType)}addFile(t){t.upload={uuid:ym.uuidv4(),progress:0,
// Setting the total upload size to file.size for the beginning
// It's actual different than the size to be transmitted.
total:t.size,bytesSent:0,filename:this._renameFile(t)},this.files.push(t),t.status=ym.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(e=>{e?(t.accepted=!1,this._errorProcessing([t],e)):(t.accepted=!0,this.options.autoQueue&&this.enqueueFile(t)),this._updateMaxFilesReachedClass()}))}
// Wrapper for enqueueFile
enqueueFiles(t){for(let e of t)this.enqueueFile(e);return null}enqueueFile(t){if(t.status!==ym.ADDED||!0!==t.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(t.status=ym.QUEUED,this.options.autoProcessQueue)return setTimeout((()=>this.processQueue()),0)}_enqueueThumbnail(t){if(this.options.createImageThumbnails&&t.type.match(/image.*/)&&t.size<=1048576*this.options.maxThumbnailFilesize)return this._thumbnailQueue.push(t),setTimeout((()=>this._processThumbnailQueue()),0)}_processThumbnailQueue(){if(this._processingThumbnail||0===this._thumbnailQueue.length)return;this._processingThumbnail=!0;let t=this._thumbnailQueue.shift();return this.createThumbnail(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,(e=>(this.emit("thumbnail",t,e),this._processingThumbnail=!1,this._processThumbnailQueue())))}
// Can be called by the user to remove a file
removeFile(t){if(t.status===ym.UPLOADING&&this.cancelUpload(t),this.files=xm(this.files,t),this.emit("removedfile",t),0===this.files.length)return this.emit("reset")}
// Removes all files that aren't currently processed from the list
removeAllFiles(t){null==t&&(t=!1);for(let e of this.files.slice())(e.status!==ym.UPLOADING||t)&&this.removeFile(e);return null}
// Resizes an image before it gets sent to the server. This function is the default behavior of
// `options.transformFile` if `resizeWidth` or `resizeHeight` are set. The callback is invoked with
// the resized blob.
resizeImage(t,e,i,n,s){return this.createThumbnail(t,e,i,n,!0,((e,i)=>{if(null==i)return s(t);{let{resizeMimeType:e}=this.options;null==e&&(e=t.type);let n=i.toDataURL(e,this.options.resizeQuality);return"image/jpeg"!==e&&"image/jpg"!==e||(n=Em.restore(t.dataURL,n)),s(ym.dataURItoBlob(n))}}))}createThumbnail(t,e,i,n,s,r){let o=new FileReader;o.onload=()=>{t.dataURL=o.result,"image/svg+xml"!==t.type?this.createThumbnailFromUrl(t,e,i,n,s,r):null!=r&&r(o.result)},o.readAsDataURL(t)}
// `mockFile` needs to have these attributes:
//     { name: 'name', size: 12345, imageUrl: '' }
// `callback` will be invoked when the image has been downloaded and displayed.
// `crossOrigin` will be added to the `img` tag when accessing the file.
displayExistingFile(t,e,i,n,s=!0){if(this.emit("addedfile",t),this.emit("complete",t),s){let s=e=>{this.emit("thumbnail",t,e),i&&i()};t.dataURL=e,this.createThumbnailFromUrl(t,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,s,n)}else this.emit("thumbnail",t,e),i&&i()}createThumbnailFromUrl(t,e,i,n,s,r,o){let a=document.createElement("img");return o&&(a.crossOrigin=o),s="from-image"!=getComputedStyle(document.body).imageOrientation&&s,a.onload=()=>{let o=t=>t(1);return"undefined"!=typeof EXIF&&null!==EXIF&&s&&(o=t=>EXIF.getData(a,(function(){return t(EXIF.getTag(this,"Orientation"))}))),o((s=>{t.width=a.width,t.height=a.height;let o=this.options.resize.call(this,t,e,i,n),l=document.createElement("canvas"),c=l.getContext("2d");switch(l.width=o.trgWidth,l.height=o.trgHeight,s>4&&(l.width=o.trgHeight,l.height=o.trgWidth),s){case 2:c.translate(l.width,0),c.scale(-1,1);break;case 3:c.translate(l.width,l.height),c.rotate(Math.PI);break;case 4:c.translate(0,l.height),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-l.width);break;case 7:c.rotate(.5*Math.PI),c.translate(l.height,-l.width),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-l.height,0)}_m(c,a,null!=o.srcX?o.srcX:0,null!=o.srcY?o.srcY:0,o.srcWidth,o.srcHeight,null!=o.trgX?o.trgX:0,null!=o.trgY?o.trgY:0,o.trgWidth,o.trgHeight);let d=l.toDataURL("image/png");if(null!=r)return r(d,l)}))},null!=r&&(a.onerror=r),a.src=t.dataURL}
// Goes through the queue and processes files if there aren't too many already.
processQueue(){let{parallelUploads:t}=this.options,e=this.getUploadingFiles().length,i=e;if(e>=t)return;let n=this.getQueuedFiles();if(n.length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-e));for(;i<t;){if(!n.length)return;this.processFile(n.shift()),i++}}}
// Wrapper for `processFiles`
processFile(t){return this.processFiles([t])}
// Loads the file, then calls finishedLoading()
processFiles(t){for(let e of t)e.processing=!0,e.status=ym.UPLOADING,this.emit("processing",e);return this.options.uploadMultiple&&this.emit("processingmultiple",t),this.uploadFiles(t)}_getFilesWithXhr(t){return this.files.filter((e=>e.xhr===t)).map((t=>t))}
// Cancels the file upload and sets the status to CANCELED
// **if** the file is actually being uploaded.
// If it's still in the queue, the file is being removed from it and the status
// set to CANCELED.
cancelUpload(t){if(t.status===ym.UPLOADING){let e=this._getFilesWithXhr(t.xhr);for(let t of e)t.status=ym.CANCELED;void 0!==t.xhr&&t.xhr.abort();for(let t of e)this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",e)}else t.status!==ym.ADDED&&t.status!==ym.QUEUED||(t.status=ym.CANCELED,this.emit("canceled",t),this.options.uploadMultiple&&this.emit("canceledmultiple",[t]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(t,...e){return"function"==typeof t?t.apply(this,e):t}uploadFile(t){return this.uploadFiles([t])}uploadFiles(t){this._transformFiles(t,(e=>{if(this.options.chunking){let i=e[0];t[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||i.size>this.options.chunkSize),t[0].upload.totalChunkCount=Math.ceil(i.size/this.options.chunkSize)}if(t[0].upload.chunked){let i=t[0],n=e[0];i.upload.chunks=[];let s=()=>{let e=0;for(;void 0!==i.upload.chunks[e];)e++;if(e>=i.upload.totalChunkCount)return;let s=e*this.options.chunkSize,r=Math.min(s+this.options.chunkSize,n.size),o={name:this._getParamName(0),data:n.webkitSlice?n.webkitSlice(s,r):n.slice(s,r),filename:i.upload.filename,chunkIndex:e};i.upload.chunks[e]={file:i,index:e,dataBlock:o,status:ym.UPLOADING,progress:0,retries:0},this._uploadData(t,[o])};if(i.upload.finishedChunkUpload=(e,n)=>{let r=!0;e.status=ym.SUCCESS,e.dataBlock=null,e.response=e.xhr.responseText,e.responseHeaders=e.xhr.getAllResponseHeaders(),e.xhr=null;for(let t=0;t<i.upload.totalChunkCount;t++){if(void 0===i.upload.chunks[t])return s();i.upload.chunks[t].status!==ym.SUCCESS&&(r=!1)}r&&this.options.chunksUploaded(i,(()=>{this._finished(t,n,null)}))},this.options.parallelChunkUploads)for(let t=0;t<i.upload.totalChunkCount;t++)s();else s()}else{let i=[];for(let n=0;n<t.length;n++)i[n]={name:this._getParamName(n),data:e[n],filename:t[n].upload.filename};this._uploadData(t,i)}}))}
/// Returns the right chunk for given file and xhr
_getChunk(t,e){for(let i=0;i<t.upload.totalChunkCount;i++)if(void 0!==t.upload.chunks[i]&&t.upload.chunks[i].xhr===e)return t.upload.chunks[i]}
// This function actually uploads the file(s) to the server.
//  If dataBlocks contains the actual data to upload (meaning, that this could
// either be transformed files, or individual chunks for chunked upload) then
// they will be used for the actual data to upload.
_uploadData(t,e){let i=new XMLHttpRequest;for(let o of t)o.xhr=i;t[0].upload.chunked&&(t[0].upload.chunks[e[0].chunkIndex].xhr=i);let n=this.resolveOption(this.options.method,t,e),s=this.resolveOption(this.options.url,t,e);i.open(n,s,!0),this.resolveOption(this.options.timeout,t)&&(i.timeout=this.resolveOption(this.options.timeout,t)),i.withCredentials=!!this.options.withCredentials,i.onload=e=>{this._finishedUploading(t,i,e)},i.ontimeout=()=>{this._handleUploadError(t,i,`Request timedout after ${this.options.timeout/1e3} seconds`)},i.onerror=()=>{this._handleUploadError(t,i)},(null!=i.upload?i.upload:i).onprogress=e=>this._updateFilesUploadProgress(t,i,e);let r=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(r["Content-Type"]=t[0].type),this.options.headers&&fm(r,this.options.headers);for(let o in r){let t=r[o];t&&i.setRequestHeader(o,t)}if(this.options.binaryBody){for(let e of t)this.emit("sending",e,i);this.options.uploadMultiple&&this.emit("sendingmultiple",t,i),this.submitRequest(i,null,t)}else{let n=new FormData;if(this.options.params){let e=this.options.params;"function"==typeof e&&(e=e.call(this,t,i,t[0].upload.chunked?this._getChunk(t[0],i):null));for(let t in e){let i=e[t];if(Array.isArray(i))for(let e=0;e<i.length;e++)n.append(t,i[e]);else n.append(t,i)}}for(let e of t)this.emit("sending",e,i,n);this.options.uploadMultiple&&this.emit("sendingmultiple",t,i,n),this._addFormElementData(n);for(let t=0;t<e.length;t++){let i=e[t];n.append(i.name,i.data,i.filename)}this.submitRequest(i,n,t)}}
// Transforms all files with this.options.transformFile and invokes done with the transformed files when done.
_transformFiles(t,e){let i=[],n=0;for(let s=0;s<t.length;s++)this.options.transformFile.call(this,t[s],(r=>{i[s]=r,++n===t.length&&e(i)}))}
// Takes care of adding other input elements of the form to the AJAX request
_addFormElementData(t){if("FORM"===this.element.tagName)for(let e of this.element.querySelectorAll("input, textarea, select, button")){let i=e.getAttribute("name"),n=e.getAttribute("type");if(n&&(n=n.toLowerCase()),null!=i)if("SELECT"===e.tagName&&e.hasAttribute("multiple"))for(let s of e.options)s.selected&&t.append(i,s.value);else(!n||"checkbox"!==n&&"radio"!==n||e.checked)&&t.append(i,e.value)}}
// Invoked when there is new progress information about given files.
// If e is not provided, it is assumed that the upload is finished.
_updateFilesUploadProgress(t,e,i){if(t[0].upload.chunked){let n=t[0],s=this._getChunk(n,e);i?(s.progress=100*i.loaded/i.total,s.total=i.total,s.bytesSent=i.loaded):(s.progress=100,s.bytesSent=s.total),n.upload.progress=0,n.upload.total=0,n.upload.bytesSent=0;for(let t=0;t<n.upload.totalChunkCount;t++)n.upload.chunks[t]&&void 0!==n.upload.chunks[t].progress&&(n.upload.progress+=n.upload.chunks[t].progress,n.upload.total+=n.upload.chunks[t].total,n.upload.bytesSent+=n.upload.chunks[t].bytesSent);n.upload.progress=n.upload.progress/n.upload.totalChunkCount,this.emit("uploadprogress",n,n.upload.progress,n.upload.bytesSent)}else for(let n of t)n.upload.total&&n.upload.bytesSent&&n.upload.bytesSent==n.upload.total||(i?(n.upload.progress=100*i.loaded/i.total,n.upload.total=i.total,n.upload.bytesSent=i.loaded):(n.upload.progress=100,n.upload.bytesSent=n.upload.total),this.emit("uploadprogress",n,n.upload.progress,n.upload.bytesSent))}_finishedUploading(t,e,i){let n;if(t[0].status!==ym.CANCELED&&4===e.readyState){if("arraybuffer"!==e.responseType&&"blob"!==e.responseType&&(n=e.responseText,e.getResponseHeader("content-type")&&~e.getResponseHeader("content-type").indexOf("application/json")))try{n=JSON.parse(n)}catch(s){i=s,n="Invalid JSON response from server."}this._updateFilesUploadProgress(t,e),200<=e.status&&e.status<300?t[0].upload.chunked?t[0].upload.finishedChunkUpload(this._getChunk(t[0],e),n):this._finished(t,n,i):this._handleUploadError(t,e,n)}}_handleUploadError(t,e,i){if(t[0].status!==ym.CANCELED){if(t[0].upload.chunked&&this.options.retryChunks){let i=this._getChunk(t[0],e);if(i.retries++<this.options.retryChunksLimit)return void this._uploadData(t,[i.dataBlock]);console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(t,i||this.options.dictResponseError.replace("{{statusCode}}",e.status),e)}}submitRequest(t,e,i){if(1==t.readyState)if(this.options.binaryBody)if(i[0].upload.chunked){const e=this._getChunk(i[0],t);t.send(e.dataBlock.data)}else t.send(i[0]);else t.send(e);else console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.")}
// Called internally when processing is finished.
// Individual callbacks have to be called in the appropriate sections.
_finished(t,e,i){for(let n of t)n.status=ym.SUCCESS,this.emit("success",n,e,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}
// Called internally when processing is finished.
// Individual callbacks have to be called in the appropriate sections.
_errorProcessing(t,e,i){for(let n of t)n.status=ym.ERROR,this.emit("error",n,e,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",t,e,i),this.emit("completemultiple",t)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){let e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}constructor(t,e){let i,n;if(super(),this.element=t,this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");ym.instances.push(this),this.element.dropzone=this;let s=null!=(n=ym.optionsForElement(this.element))?n:{};if(this.options=fm(!0,{},bm,s,null!=e?e:{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!ym.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),null!=this.options.renameFilename&&(this.options.renameFile=t=>this.options.renameFilename.call(this,t.name,t)),"string"==typeof this.options.method&&(this.options.method=this.options.method.toUpperCase()),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=ym.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=ym.getElements(this.options.clickable,"clickable")),this.init()}}ym.initClass(),ym.options={},ym.optionsForElement=function(t){return t.getAttribute("id")?ym.options[wm(t.getAttribute("id"))]:void 0},ym.instances=[],ym.forElement=function(t){if("string"==typeof t&&(t=document.querySelector(t)),null==(null!=t?t.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return t.dropzone},ym.discover=function(){let t;if(document.querySelectorAll)t=document.querySelectorAll(".dropzone");else{t=[];let e=e=>(()=>{let i=[];for(let n of e)/(^| )dropzone($| )/.test(n.className)?i.push(t.push(n)):i.push(void 0);return i})();e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return(()=>{let e=[];for(let i of t)!1!==ym.optionsForElement(i)?e.push(new ym(i)):e.push(void 0);return e})()},ym.blockedBrowsers=[
// The mac os and windows phone version of opera 12 seems to have a problem with the File drag'n'drop API.
/opera.*(Macintosh|Windows Phone).*version\/12/i],ym.isBrowserSupported=function(){let t=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a")){void 0!==ym.blacklistedBrowsers&&(ym.blockedBrowsers=ym.blacklistedBrowsers);for(let e of ym.blockedBrowsers)if(e.test(navigator.userAgent)){t=!1;continue}}else t=!1;else t=!1;return t},ym.dataURItoBlob=function(t){let e=atob(t.split(",")[1]),i=t.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),s=new Uint8Array(n);for(let r=0,o=e.length,a=0<=o;a?r<=o:r>=o;a?r++:r--)s[r]=e.charCodeAt(r);return new Blob([n],{type:i})};const xm=(t,e)=>t.filter((t=>t!==e)).map((t=>t)),wm=t=>t.replace(/[\-_](\w)/g,(t=>t.charAt(1).toUpperCase()));ym.createElement=function(t){let e=document.createElement("div");return e.innerHTML=t,e.childNodes[0]},ym.elementInside=function(t,e){if(t===e)return!0;for(;t=t.parentNode;)if(t===e)return!0;return!1},ym.getElement=function(t,e){let i;if("string"==typeof t?i=document.querySelector(t):null!=t.nodeType&&(i=t),null==i)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector or a plain HTML element.`);return i},ym.getElements=function(t,e){let i,n;if(t instanceof Array){n=[];try{for(i of t)n.push(this.getElement(i,e))}catch(fv){n=null}}else if("string"==typeof t)for(i of(n=[],document.querySelectorAll(t)))n.push(i);else null!=t.nodeType&&(n=[t]);if(null==n||!n.length)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return n},ym.confirm=function(t,e,i){return window.confirm(t)?e():null!=i?i():void 0},ym.isValidFile=function(t,e){if(!e)return!0;e=e.split(",");let i=t.type,n=i.replace(/\/.*$/,"");for(let s of e)if(s=s.trim(),"."===s.charAt(0)){if(-1!==t.name.toLowerCase().indexOf(s.toLowerCase(),t.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(n===s.replace(/\/.*$/,""))return!0}else if(i===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each((function(){return new ym(this,t)}))}),ym.ADDED="added",ym.QUEUED="queued",ym.ACCEPTED=ym.QUEUED,ym.UPLOADING="uploading",ym.PROCESSING=ym.UPLOADING,ym.CANCELED="canceled",ym.ERROR="error",ym.SUCCESS="success";var _m=function(t,e,i,n,s,r,o,a,l,c){let d=function(t){t.naturalWidth;let e=t.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=e;let n=i.getContext("2d");n.drawImage(t,0,0);let{data:s}=n.getImageData(1,0,1,e),r=0,o=e,a=e;for(;a>r;)0===s[4*(a-1)+3]?o=a:r=a,a=o+r>>1;let l=a/e;return 0===l?1:l}(e);return t.drawImage(e,i,n,s,r,o,a,l,c/d)};class Em{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(t){let e,i,n,s,r,o="",a="",l="",c=0;for(;e=t[c++],i=t[c++],a=t[c++],n=e>>2,s=(3&e)<<4|i>>4,r=(15&i)<<2|a>>6,l=63&a,isNaN(i)?r=l=64:isNaN(a)&&(l=64),o=o+this.KEY_STR.charAt(n)+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(l),e=i=a="",n=s=r=l="",c<t.length;);return o}static restore(t,e){if(!t.match("data:image/jpeg;base64,"))return e;let i=this.decode64(t.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(i),s=this.exifManipulation(e,n);return`data:image/jpeg;base64,${this.encode64(s)}`}static exifManipulation(t,e){let i=this.getExifArray(e),n=this.insertExif(t,i);return new Uint8Array(n)}static getExifArray(t){let e,i=0;for(;i<t.length;){if(e=t[i],255===e[0]&225===e[1])return e;i++}return[]}static insertExif(t,e){let i=t.replace("data:image/jpeg;base64,",""),n=this.decode64(i),s=n.indexOf(255,3),r=n.slice(0,s),o=n.slice(s),a=r;return a=a.concat(e),a=a.concat(o),a}static slice2Segments(t){let e=0,i=[];for(;;){if(255===t[e]&218===t[e+1])break;if(255===t[e]&216===t[e+1])e+=2;else{let n=e+(256*t[e+2]+t[e+3])+2,s=t.slice(e,n);i.push(s),e=n}if(e>t.length)break}return i}static decode64(t){let e,i,n,s,r,o="",a="",l=0,c=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(t)&&console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");n=this.KEY_STR.indexOf(t.charAt(l++)),s=this.KEY_STR.indexOf(t.charAt(l++)),r=this.KEY_STR.indexOf(t.charAt(l++)),a=this.KEY_STR.indexOf(t.charAt(l++)),e=n<<2|s>>4,i=(15&s)<<4|r>>2,o=(3&r)<<6|a,c.push(e),64!==r&&c.push(i),64!==a&&c.push(o),e=i=o="",n=s=r=a="",l<t.length;);return c}}Em.initClass();const Sm=t=>(C("data-v-84017cd3"),t=t(),M(),t),Am={class:"flex justify-between card-header"},Dm=Sm((()=>v("h3",null,"Dropzone",-1))),Cm={id:"my-dropzone"},Mm={class:"dz-preview dz-file-preview"},km={class:"dz-default dz-message"},Tm=Sm((()=>v("div",{id:"dropzone-list"},[
v("div",{id:"template",class:"flex items-center mb-3"},[
v("div",null,[
v("span",{class:"preview"},[
v("img",{class:"shadow rounded-xl","data-dz-thumbnail":""})])]),
v("div",{class:"dz-filename flex-1 mx-[12px]"},[
v("h4",{class:"text-[#32325d]","data-dz-name":""}),
v("p",{"data-dz-size":"",class:"small text-muted mb-0 text-[#8898AA]"})]),
v("div",{class:"dz-progress"}),
v("div",{class:"dz-error-message"}),
v("div",{class:"dz-success-mark"}),
v("div",{class:"dz-error-mark"})])],-1))),Rm=k(h({__name:"DropZone",setup:t=>(f((()=>{const t=document.getElementById("template");t.id="";const e=(null==t?void 0:t.parentNode).innerHTML;new ym("#my-dropzone",{url:"https://httpbin.org/post",thumbnailWidth:80,thumbnailHeight:80,parallelUploads:20,previewTemplate:e,autoQueue:!1,
// Make sure the files aren't queued until manually added
previewsContainer:"#dropzone-list",
// Define the container to display the previews
clickable:!0}).on("addedfile",(t=>{console.log(`File added: ${t.name}`)}))})),(t,e)=>{const i=N,n=D,s=P;return p(),g(s,{class:"mb-4"},{header:m((()=>[v("div",Am,[Dm,b(i,{type:"primary",href:"https://docs.dropzone.dev/",target:"_blank"},{default:m((()=>[y("To Dropzone")])),_:1})])])),default:m((()=>[v("div",Cm,[v("div",Mm,[v("div",km,[b(n,{class:"dz-button"},{default:m((()=>[y(" Drop files here to upload ")])),_:1})]),Tm])])])),_:1})})}),[["__scopeId","data-v-84017cd3"]]),Om=(t,e)=>{const i=document.createElement(t);if(e&&"object"==typeof e)for(const n in e)"html"===n?i.innerHTML=e[n]:i.setAttribute(n,e[n]);return i},Pm=t=>["#text","#comment"].includes(t.nodeName)?t.data:t.childNodes?t.childNodes.map((t=>Pm(t))).join(""):"",Nm=function(t,e){let i=0,n=0;for(;i<t+1;)e[n].hidden||(i+=1),n+=1;return n-1};function Im(t,e,i){var n;return"#text"===t.nodeName?n=i.document.createTextNode(t.data):"#comment"===t.nodeName?n=i.document.createComment(t.data):(e?n=i.document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):"svg"===t.nodeName.toLowerCase()?(n=i.document.createElementNS("http://www.w3.org/2000/svg","svg"),e=!0):n=i.document.createElement(t.nodeName),t.attributes&&Object.entries(t.attributes).forEach((function(t){var e=t[0],i=t[1];return n.setAttribute(e,i)})),t.childNodes&&t.childNodes.forEach((function(t){return n.appendChild(Im(t,e,i))})),i.valueDiffing&&(t.value&&(n instanceof HTMLButtonElement||n instanceof HTMLDataElement||n instanceof HTMLInputElement||n instanceof HTMLLIElement||n instanceof HTMLMeterElement||n instanceof HTMLOptionElement||n instanceof HTMLProgressElement||n instanceof HTMLParamElement)&&(n.value=t.value),t.checked&&n instanceof HTMLInputElement&&(n.checked=t.checked),t.selected&&n instanceof HTMLOptionElement&&(n.selected=t.selected))),n}var Lm=function(t,e){for(e=e.slice();e.length>0;){var i=e.splice(0,1)[0];t=t.childNodes[i]}return t};function zm(t,e,i){var n,s,r,o=e[i._const.action],a=e[i._const.route];[i._const.addElement,i._const.addTextElement].includes(o)||(n=Lm(t,a));var l={diff:e,node:n};if(i.preDiffApply(l))return!0;switch(o){case i._const.addAttribute:if(!(n&&n instanceof Element))return!1;n.setAttribute(e[i._const.name],e[i._const.value]);break;case i._const.modifyAttribute:if(!(n&&n instanceof Element))return!1;n.setAttribute(e[i._const.name],e[i._const.newValue]),n instanceof HTMLInputElement&&"value"===e[i._const.name]&&(n.value=e[i._const.newValue]);break;case i._const.removeAttribute:if(!(n&&n instanceof Element))return!1;n.removeAttribute(e[i._const.name]);break;case i._const.modifyTextElement:if(!(n&&n instanceof Text))return!1;i.textDiff(n,n.data,e[i._const.oldValue],e[i._const.newValue]);break;case i._const.modifyValue:if(!n||void 0===n.value)return!1;n.value=e[i._const.newValue];break;case i._const.modifyComment:if(!(n&&n instanceof Comment))return!1;i.textDiff(n,n.data,e[i._const.oldValue],e[i._const.newValue]);break;case i._const.modifyChecked:if(!n||void 0===n.checked)return!1;n.checked=e[i._const.newValue];break;case i._const.modifySelected:if(!n||void 0===n.selected)return!1;n.selected=e[i._const.newValue];break;case i._const.replaceElement:n.parentNode.replaceChild(Im(e[i._const.newValue],"svg"===e[i._const.newValue].nodeName.toLowerCase(),i),n);break;case i._const.relocateGroup:Array.apply(void 0,new Array(e[i._const.groupLength])).map((function(){return n.removeChild(n.childNodes[e[i._const.from]])})).forEach((function(t,s){0===s&&(r=n.childNodes[e[i._const.to]]),n.insertBefore(t,r||null)}));break;case i._const.removeElement:n.parentNode.removeChild(n);break;case i._const.addElement:var c=(d=a.slice()).splice(d.length-1,1)[0];if(!((n=Lm(t,d))instanceof Element))return!1;n.insertBefore(Im(e[i._const.element],"http://www.w3.org/2000/svg"===n.namespaceURI,i),n.childNodes[c]||null);break;case i._const.removeTextElement:if(!n||3!==n.nodeType)return!1;n.parentNode.removeChild(n);break;case i._const.addTextElement:var d;if(c=(d=a.slice()).splice(d.length-1,1)[0],s=i.document.createTextNode(e[i._const.value]),!(n=Lm(t,d)).childNodes)return!1;n.insertBefore(s,n.childNodes[c]||null);break;default:console.log("unknown action")}return i.postDiffApply({diff:l.diff,node:l.node,newNode:s}),!0}function Hm(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}var Fm=function(t){var e=[];return e.push(t.nodeName),"#text"!==t.nodeName&&"#comment"!==t.nodeName&&t.attributes&&(t.attributes.class&&e.push("".concat(t.nodeName,".").concat(t.attributes.class.replace(/ /g,"."))),t.attributes.id&&e.push("".concat(t.nodeName,"#").concat(t.attributes.id))),e},Vm=function(t){var e={},i={};return t.forEach((function(t){Fm(t).forEach((function(t){var n=t in e;n||t in i?n&&(delete e[t],i[t]=!0):e[t]=!0}))})),e},Bm=function(t,e){var i=Vm(t),n=Vm(e),s={};return Object.keys(i).forEach((function(t){n[t]&&(s[t]=!0)})),s},jm=function(t){return delete t.outerDone,delete t.innerDone,delete t.valueDone,!t.childNodes||t.childNodes.every(jm)},Wm=function(t){if(Object.prototype.hasOwnProperty.call(t,"data"))return{nodeName:"#text"===t.nodeName?"#text":"#comment",data:t.data};var e={nodeName:t.nodeName};return Object.prototype.hasOwnProperty.call(t,"attributes")&&(e.attributes=t.attributes),Object.prototype.hasOwnProperty.call(t,"checked")&&(e.checked=t.checked),Object.prototype.hasOwnProperty.call(t,"value")&&(e.value=t.value),Object.prototype.hasOwnProperty.call(t,"selected")&&(e.selected=t.selected),Object.prototype.hasOwnProperty.call(t,"childNodes")&&(e.childNodes=t.childNodes.map((function(t){return Wm(t)}))),e},Um=function(t,e){if(!["nodeName","value","checked","selected","data"].every((function(i){return t[i]===e[i]})))return!1;if(Object.prototype.hasOwnProperty.call(t,"data"))return!0;if(Boolean(t.attributes)!==Boolean(e.attributes))return!1;if(Boolean(t.childNodes)!==Boolean(e.childNodes))return!1;if(t.attributes){var i=Object.keys(t.attributes),n=Object.keys(e.attributes);if(i.length!==n.length)return!1;if(!i.every((function(i){return t.attributes[i]===e.attributes[i]})))return!1}if(t.childNodes){if(t.childNodes.length!==e.childNodes.length)return!1;if(!t.childNodes.every((function(t,i){return Um(t,e.childNodes[i])})))return!1}return!0},$m=function(t,e,i,n,s){if(void 0===s&&(s=!1),!t||!e)return!1;if(t.nodeName!==e.nodeName)return!1;if(["#text","#comment"].includes(t.nodeName))return!!s||t.data===e.data;if(t.nodeName in i)return!0;if(t.attributes&&e.attributes){if(t.attributes.id){if(t.attributes.id!==e.attributes.id)return!1;if("".concat(t.nodeName,"#").concat(t.attributes.id)in i)return!0}if(t.attributes.class&&t.attributes.class===e.attributes.class&&"".concat(t.nodeName,".").concat(t.attributes.class.replace(/ /g,"."))in i)return!0}if(n)return!0;var r=t.childNodes?t.childNodes.slice().reverse():[],o=e.childNodes?e.childNodes.slice().reverse():[];if(r.length!==o.length)return!1;if(s)return r.every((function(t,e){return t.nodeName===o[e].nodeName}));var a=Bm(r,o);return r.every((function(t,e){return $m(t,o[e],a,!0,!0)}))},Ym=function(t,e){return Array.apply(void 0,new Array(t)).map((function(){return e}))},Gm=function(){function t(){this.list=[]}return t.prototype.add=function(t){var e;(e=this.list).push.apply(e,t)},t.prototype.forEach=function(t){this.list.forEach((function(e){return t(e)}))},t}(),qm=function(){function t(t){void 0===t&&(t={});var e=this;Object.entries(t).forEach((function(t){var i=t[0],n=t[1];return e[i]=n}))}return t.prototype.toString=function(){return JSON.stringify(this)},t.prototype.setValue=function(t,e){return this[t]=e,this},t}();function Qm(t,e){var i,n,s=t;for(e=e.slice();e.length>0;)n=e.splice(0,1)[0],i=s,s=s.childNodes?s.childNodes[n]:void 0;return{node:s,parentNode:i,nodeIndex:n}}function Zm(t,e,i){return e.forEach((function(e){!function(t,e,i){var n,s,r,o;if(![i._const.addElement,i._const.addTextElement].includes(e[i._const.action])){var a=Qm(t,e[i._const.route]);s=a.node,r=a.parentNode,o=a.nodeIndex}var l,c,d=[],h={diff:e,node:s};if(i.preVirtualDiffApply(h))return!0;switch(e[i._const.action]){case i._const.addAttribute:s.attributes||(s.attributes={}),s.attributes[e[i._const.name]]=e[i._const.value],"checked"===e[i._const.name]?s.checked=!0:"selected"===e[i._const.name]?s.selected=!0:"INPUT"===s.nodeName&&"value"===e[i._const.name]&&(s.value=e[i._const.value]);break;case i._const.modifyAttribute:s.attributes[e[i._const.name]]=e[i._const.newValue];break;case i._const.removeAttribute:delete s.attributes[e[i._const.name]],0===Object.keys(s.attributes).length&&delete s.attributes,"checked"===e[i._const.name]?s.checked=!1:"selected"===e[i._const.name]?delete s.selected:"INPUT"===s.nodeName&&"value"===e[i._const.name]&&delete s.value;break;case i._const.modifyTextElement:s.data=e[i._const.newValue];break;case i._const.modifyValue:s.value=e[i._const.newValue];break;case i._const.modifyComment:s.data=e[i._const.newValue];break;case i._const.modifyChecked:s.checked=e[i._const.newValue];break;case i._const.modifySelected:s.selected=e[i._const.newValue];break;case i._const.replaceElement:l=e[i._const.newValue],r.childNodes[o]=l;break;case i._const.relocateGroup:s.childNodes.splice(e[i._const.from],e[i._const.groupLength]).reverse().forEach((function(t){return s.childNodes.splice(e[i._const.to],0,t)})),s.subsets&&s.subsets.forEach((function(t){if(e[i._const.from]<e[i._const.to]&&t.oldValue<=e[i._const.to]&&t.oldValue>e[i._const.from])t.oldValue-=e[i._const.groupLength],(n=t.oldValue+t.length-e[i._const.to])>0&&(d.push({oldValue:e[i._const.to]+e[i._const.groupLength],newValue:t.newValue+t.length-n,length:n}),t.length-=n);else if(e[i._const.from]>e[i._const.to]&&t.oldValue>e[i._const.to]&&t.oldValue<e[i._const.from]){var n;t.oldValue+=e[i._const.groupLength],(n=t.oldValue+t.length-e[i._const.to])>0&&(d.push({oldValue:e[i._const.to]+e[i._const.groupLength],newValue:t.newValue+t.length-n,length:n}),t.length-=n)}else t.oldValue===e[i._const.from]&&(t.oldValue=e[i._const.to])}));break;case i._const.removeElement:r.childNodes.splice(o,1),r.subsets&&r.subsets.forEach((function(t){t.oldValue>o?t.oldValue-=1:t.oldValue===o?t.delete=!0:t.oldValue<o&&t.oldValue+t.length>o&&(t.oldValue+t.length-1===o?t.length--:(d.push({newValue:t.newValue+o-t.oldValue,oldValue:o,length:t.length-o+t.oldValue-1}),t.length=o-t.oldValue))})),s=r;break;case i._const.addElement:var u=(c=e[i._const.route].slice()).splice(c.length-1,1)[0];s=null===(n=Qm(t,c))||void 0===n?void 0:n.node,l=e[i._const.element],s.childNodes||(s.childNodes=[]),u>=s.childNodes.length?s.childNodes.push(l):s.childNodes.splice(u,0,l),s.subsets&&s.subsets.forEach((function(t){if(t.oldValue>=u)t.oldValue+=1;else if(t.oldValue<u&&t.oldValue+t.length>u){var e=t.oldValue+t.length-u;d.push({newValue:t.newValue+t.length-e,oldValue:u+1,length:e}),t.length-=e}}));break;case i._const.removeTextElement:r.childNodes.splice(o,1),"TEXTAREA"===r.nodeName&&delete r.value,r.subsets&&r.subsets.forEach((function(t){t.oldValue>o?t.oldValue-=1:t.oldValue===o?t.delete=!0:t.oldValue<o&&t.oldValue+t.length>o&&(t.oldValue+t.length-1===o?t.length--:(d.push({newValue:t.newValue+o-t.oldValue,oldValue:o,length:t.length-o+t.oldValue-1}),t.length=o-t.oldValue))})),s=r;break;case i._const.addTextElement:var f=(c=e[i._const.route].slice()).splice(c.length-1,1)[0];(l={}).nodeName="#text",l.data=e[i._const.value],(s=Qm(t,c).node).childNodes||(s.childNodes=[]),f>=s.childNodes.length?s.childNodes.push(l):s.childNodes.splice(f,0,l),"TEXTAREA"===s.nodeName&&(s.value=e[i._const.newValue]),s.subsets&&s.subsets.forEach((function(t){if(t.oldValue>=f&&(t.oldValue+=1),t.oldValue<f&&t.oldValue+t.length>f){var e=t.oldValue+t.length-f;d.push({newValue:t.newValue+t.length-e,oldValue:f+1,length:e}),t.length-=e}}));break;default:console.log("unknown action")}s.subsets&&(s.subsets=s.subsets.filter((function(t){return!t.delete&&t.oldValue!==t.newValue})),d.length&&(s.subsets=s.subsets.concat(d))),i.postVirtualDiffApply({node:h.node,diff:h.diff,newNode:l})}(t,e,i)})),!0}function Xm(t,e){void 0===e&&(e={});var i={nodeName:t.nodeName};return t instanceof Text||t instanceof Comment?i.data=t.data:(t.attributes&&t.attributes.length>0&&(i.attributes={},Array.prototype.slice.call(t.attributes).forEach((function(t){return i.attributes[t.name]=t.value}))),t instanceof HTMLTextAreaElement?i.value=t.value:t.childNodes&&t.childNodes.length>0&&(i.childNodes=[],Array.prototype.slice.call(t.childNodes).forEach((function(t){return i.childNodes.push(Xm(t,e))}))),e.valueDiffing&&(t instanceof HTMLInputElement&&["radio","checkbox"].includes(t.type.toLowerCase())&&void 0!==t.checked?i.checked=t.checked:(t instanceof HTMLButtonElement||t instanceof HTMLDataElement||t instanceof HTMLInputElement||t instanceof HTMLLIElement||t instanceof HTMLMeterElement||t instanceof HTMLOptionElement||t instanceof HTMLProgressElement||t instanceof HTMLParamElement)&&(i.value=t.value),t instanceof HTMLOptionElement&&(i.selected=t.selected))),i}var Jm=/<\s*\/*[a-zA-Z:_][a-zA-Z0-9:_\-.]*\s*(?:"[^"]*"['"]*|'[^']*'['"]*|[^'"/>])*\/*\s*>|<!--(?:.|\n|\r)*?-->/g,Km=Object.create?Object.create(null):{},tv=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function ev(t){return t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")}var iv={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuItem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},nv=function(t){var e={nodeName:"",attributes:{}},i=!1,n=t.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(e.nodeName=n[1].toUpperCase(),(iv[n[1]]||"/"===t.charAt(t.length-2))&&(i=!0),e.nodeName.startsWith("!--"))){var s=t.indexOf("--\x3e");return{type:"comment",node:{nodeName:"#comment",data:-1!==s?t.slice(4,s):""},voidElement:i}}for(var r=new RegExp(tv),o=null,a=!1;!a;)if(null===(o=r.exec(t)))a=!0;else if(o[0].trim())if(o[1]){var l=o[1].trim(),c=[l,""];l.indexOf("=")>-1&&(c=l.split("=")),e.attributes[c[0]]=c[1],r.lastIndex--}else o[2]&&(e.attributes[o[2]]=o[3].trim().substring(1,o[3].length-1));return{type:"tag",node:e,voidElement:i}},sv=function(t,e){void 0===e&&(e={components:Km});var i,n=[],s=-1,r=[],o=!1;if(0!==t.indexOf("<")){var a=t.indexOf("<");n.push({nodeName:"#text",data:-1===a?t:t.substring(0,a)})}return t.replace(Jm,(function(a,l){if(o){if(a!=="</".concat(i.node.nodeName,">"))return"";o=!1}var c="/"!==a.charAt(1),d=a.startsWith("\x3c!--"),h=l+a.length,u=t.charAt(h);if(d){var f=nv(a).node;if(s<0)return n.push(f),"";var p=r[s];return p&&f.nodeName&&(p.node.childNodes||(p.node.childNodes=[]),p.node.childNodes.push(f)),""}if(c){i=nv(a),s++,"tag"===i.type&&e.components[i.node.nodeName]&&(i.type="component",o=!0),i.voidElement||o||!u||"<"===u||(i.node.childNodes||(i.node.childNodes=[]),i.node.childNodes.push({nodeName:"#text",data:ev(t.slice(h,t.indexOf("<",h)))})),0===s&&i.node.nodeName&&n.push(i.node);var g=r[s-1];g&&i.node.nodeName&&(g.node.childNodes||(g.node.childNodes=[]),g.node.childNodes.push(i.node)),r[s]=i}if((!c||i.voidElement)&&(s>-1&&(i.voidElement||i.node.nodeName===a.slice(2,-1).toUpperCase())&&--s>-1&&(i=r[s]),!o&&"<"!==u&&u)){var m=-1===s?n:r[s].node.childNodes||[],v=t.indexOf("<",h),b=ev(t.slice(h,-1===v?void 0:v));m.push({nodeName:"#text",data:b})}return""})),n[0]},rv=function(){function t(t,e,i){this.options=i,this.t1="undefined"!=typeof Element&&t instanceof Element?Xm(t,this.options):"string"==typeof t?sv(t,this.options):JSON.parse(JSON.stringify(t)),this.t2="undefined"!=typeof Element&&e instanceof Element?Xm(e,this.options):"string"==typeof e?sv(e,this.options):JSON.parse(JSON.stringify(e)),this.diffcount=0,this.foundAll=!1,this.debug&&(this.t1Orig="undefined"!=typeof Element&&t instanceof Element?Xm(t,this.options):"string"==typeof t?sv(t,this.options):JSON.parse(JSON.stringify(t)),this.t2Orig="undefined"!=typeof Element&&e instanceof Element?Xm(e,this.options):"string"==typeof e?sv(e,this.options):JSON.parse(JSON.stringify(e))),this.tracker=new Gm}return t.prototype.init=function(){return this.findDiffs(this.t1,this.t2)},t.prototype.findDiffs=function(t,e){var i;do{if(this.options.debug&&(this.diffcount+=1,this.diffcount>this.options.diffcap))throw new Error("surpassed diffcap:".concat(JSON.stringify(this.t1Orig)," -> ").concat(JSON.stringify(this.t2Orig)));0===(i=this.findNextDiff(t,e,[])).length&&(Um(t,e)||(this.foundAll?console.error("Could not find remaining diffs!"):(this.foundAll=!0,jm(t),i=this.findNextDiff(t,e,[])))),i.length>0&&(this.foundAll=!1,this.tracker.add(i),Zm(t,i,this.options))}while(i.length>0);return this.tracker.list},t.prototype.findNextDiff=function(t,e,i){var n,s;if(this.options.maxDepth&&i.length>this.options.maxDepth)return[];if(!t.outerDone){if(n=this.findOuterDiff(t,e,i),this.options.filterOuterDiff&&(s=this.options.filterOuterDiff(t,e,n))&&(n=s),n.length>0)return t.outerDone=!0,n;t.outerDone=!0}if(Object.prototype.hasOwnProperty.call(t,"data"))return[];if(!t.innerDone){if((n=this.findInnerDiff(t,e,i)).length>0)return n;t.innerDone=!0}if(this.options.valueDiffing&&!t.valueDone){if((n=this.findValueDiff(t,e,i)).length>0)return t.valueDone=!0,n;t.valueDone=!0}return[]},t.prototype.findOuterDiff=function(t,e,i){var n,s,r,o,a,l,c=[];if(t.nodeName!==e.nodeName){if(!i.length)throw new Error("Top level nodes have to be of the same kind.");return[(new qm).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Wm(t)).setValue(this.options._const.newValue,Wm(e)).setValue(this.options._const.route,i)]}if(i.length&&this.options.diffcap<Math.abs((t.childNodes||[]).length-(e.childNodes||[]).length))return[(new qm).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Wm(t)).setValue(this.options._const.newValue,Wm(e)).setValue(this.options._const.route,i)];if(Object.prototype.hasOwnProperty.call(t,"data")&&t.data!==e.data)return"#text"===t.nodeName?[(new qm).setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,i).setValue(this.options._const.oldValue,t.data).setValue(this.options._const.newValue,e.data)]:[(new qm).setValue(this.options._const.action,this.options._const.modifyComment).setValue(this.options._const.route,i).setValue(this.options._const.oldValue,t.data).setValue(this.options._const.newValue,e.data)];for(s=t.attributes?Object.keys(t.attributes).sort():[],r=e.attributes?Object.keys(e.attributes).sort():[],o=s.length,l=0;l<o;l++)n=s[l],-1===(a=r.indexOf(n))?c.push((new qm).setValue(this.options._const.action,this.options._const.removeAttribute).setValue(this.options._const.route,i).setValue(this.options._const.name,n).setValue(this.options._const.value,t.attributes[n])):(r.splice(a,1),t.attributes[n]!==e.attributes[n]&&c.push((new qm).setValue(this.options._const.action,this.options._const.modifyAttribute).setValue(this.options._const.route,i).setValue(this.options._const.name,n).setValue(this.options._const.oldValue,t.attributes[n]).setValue(this.options._const.newValue,e.attributes[n])));for(o=r.length,l=0;l<o;l++)n=r[l],c.push((new qm).setValue(this.options._const.action,this.options._const.addAttribute).setValue(this.options._const.route,i).setValue(this.options._const.name,n).setValue(this.options._const.value,e.attributes[n]));return c},t.prototype.findInnerDiff=function(t,e,i){var n=t.childNodes?t.childNodes.slice():[],s=e.childNodes?e.childNodes.slice():[],r=Math.max(n.length,s.length),o=Math.abs(n.length-s.length),a=[],l=0;if(!this.options.maxChildCount||r<this.options.maxChildCount){var c=Boolean(t.subsets&&t.subsetsAge--),d=c?t.subsets:t.childNodes&&e.childNodes?function(t,e){for(var i=t.childNodes?t.childNodes:[],n=e.childNodes?e.childNodes:[],s=Ym(i.length,!1),r=Ym(n.length,!1),o=[],a=function(){return arguments[1]},l=!1,c=function(){var t=function(t,e,i,n){var s=0,r=[],o=t.length,a=e.length,l=Array.apply(void 0,new Array(o+1)).map((function(){return[]})),c=Bm(t,e),d=o===a;d&&t.some((function(t,i){var n=Fm(t),s=Fm(e[i]);return n.length!==s.length?(d=!1,!0):(n.some((function(t,e){if(t!==s[e])return d=!1,!0})),!d||void 0)}));for(var h=0;h<o;h++)for(var u=t[h],f=0;f<a;f++){var p=e[f];i[h]||n[f]||!$m(u,p,c,d)?l[h+1][f+1]=0:(l[h+1][f+1]=l[h][f]?l[h][f]+1:1,l[h+1][f+1]>=s&&(s=l[h+1][f+1],r=[h+1,f+1]))}return 0!==s&&{oldValue:r[0]-s,newValue:r[1]-s,length:s}}(i,n,s,r);t?(o.push(t),Array.apply(void 0,new Array(t.length)).map(a).forEach((function(e){return i=r,o=e,s[(n=t).oldValue+o]=!0,void(i[n.newValue+o]=!0);var i,n,o}))):l=!0};!l;)c();return t.subsets=o,t.subsetsAge=100,o}(t,e):[];if(d.length>0&&(a=this.attemptGroupRelocation(t,e,d,i,c)).length>0)return a}for(var h=0;h<r;h+=1){var u=n[h],f=s[h];if(o&&(u&&!f?"#text"===u.nodeName?(a.push((new qm).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,i.concat(l)).setValue(this.options._const.value,u.data)),l-=1):(a.push((new qm).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,i.concat(l)).setValue(this.options._const.element,Wm(u))),l-=1):f&&!u&&("#text"===f.nodeName?a.push((new qm).setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,i.concat(l)).setValue(this.options._const.value,f.data)):a.push((new qm).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,i.concat(l)).setValue(this.options._const.element,Wm(f))))),u&&f)if(!this.options.maxChildCount||r<this.options.maxChildCount)a=a.concat(this.findNextDiff(u,f,i.concat(l)));else if(!Um(u,f))if(n.length>s.length)"#text"===u.nodeName?a.push((new qm).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,i.concat(l)).setValue(this.options._const.value,u.data)):a.push((new qm).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.element,Wm(u)).setValue(this.options._const.route,i.concat(l))),n.splice(h,1),h-=1,l-=1,o-=1;else if(n.length<s.length){var p=Wm(f);a=a.concat([(new qm).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.element,p).setValue(this.options._const.route,i.concat(l))]),n.splice(h,0,p),o-=1}else a=a.concat([(new qm).setValue(this.options._const.action,this.options._const.replaceElement).setValue(this.options._const.oldValue,Wm(u)).setValue(this.options._const.newValue,Wm(f)).setValue(this.options._const.route,i.concat(l))]);l+=1}return t.innerDone=!0,a},t.prototype.attemptGroupRelocation=function(t,e,i,n,s){for(var r,o,a,l,c,d,h=function(t,e,i){var n=t.childNodes?Ym(t.childNodes.length,!0):[],s=e.childNodes?Ym(e.childNodes.length,!0):[],r=0;return i.forEach((function(t){for(var e=t.oldValue+t.length,i=t.newValue+t.length,o=t.oldValue;o<e;o+=1)n[o]=r;for(o=t.newValue;o<i;o+=1)s[o]=r;r+=1})),{gaps1:n,gaps2:s}}(t,e,i),u=h.gaps1,f=h.gaps2,p=Math.min(u.length,f.length),g=[],m=0,v=0;m<p;v+=1,m+=1)if(!s||!0!==u[m]&&!0!==f[m])if(!0===u[m])if("#text"===(l=t.childNodes[v]).nodeName)if("#text"===e.childNodes[m].nodeName){if(l.data!==e.childNodes[m].data){for(d=v;t.childNodes.length>d+1&&"#text"===t.childNodes[d+1].nodeName;)if(d+=1,e.childNodes[m].data===t.childNodes[d].data){c=!0;break}if(!c)return g.push((new qm).setValue(this.options._const.action,this.options._const.modifyTextElement).setValue(this.options._const.route,n.concat(m)).setValue(this.options._const.oldValue,l.data).setValue(this.options._const.newValue,e.childNodes[m].data)),g}}else g.push((new qm).setValue(this.options._const.action,this.options._const.removeTextElement).setValue(this.options._const.route,n.concat(m)).setValue(this.options._const.value,l.data)),u.splice(m,1),p=Math.min(u.length,f.length),m-=1;else g.push((new qm).setValue(this.options._const.action,this.options._const.removeElement).setValue(this.options._const.route,n.concat(m)).setValue(this.options._const.element,Wm(l))),u.splice(m,1),p=Math.min(u.length,f.length),m-=1;else if(!0===f[m])"#text"===(l=e.childNodes[m]).nodeName?(g.push((new qm).setValue(this.options._const.action,this.options._const.addTextElement).setValue(this.options._const.route,n.concat(m)).setValue(this.options._const.value,l.data)),u.splice(m,0,!0),p=Math.min(u.length,f.length),v-=1):(g.push((new qm).setValue(this.options._const.action,this.options._const.addElement).setValue(this.options._const.route,n.concat(m)).setValue(this.options._const.element,Wm(l))),u.splice(m,0,!0),p=Math.min(u.length,f.length),v-=1);else if(u[m]!==f[m]){if(g.length>0)return g;if(a=i[u[m]],(o=Math.min(a.newValue,t.childNodes.length-a.length))!==a.oldValue){r=!1;for(var b=0;b<a.length;b+=1)$m(t.childNodes[o+b],t.childNodes[a.oldValue+b],{},!1,!0)||(r=!0);if(r)return[(new qm).setValue(this.options._const.action,this.options._const.relocateGroup).setValue(this.options._const.groupLength,a.length).setValue(this.options._const.from,a.oldValue).setValue(this.options._const.to,o).setValue(this.options._const.route,n)]}}return g},t.prototype.findValueDiff=function(t,e,i){var n=[];return t.selected!==e.selected&&n.push((new qm).setValue(this.options._const.action,this.options._const.modifySelected).setValue(this.options._const.oldValue,t.selected).setValue(this.options._const.newValue,e.selected).setValue(this.options._const.route,i)),(t.value||e.value)&&t.value!==e.value&&"OPTION"!==t.nodeName&&n.push((new qm).setValue(this.options._const.action,this.options._const.modifyValue).setValue(this.options._const.oldValue,t.value||"").setValue(this.options._const.newValue,e.value||"").setValue(this.options._const.route,i)),t.checked!==e.checked&&n.push((new qm).setValue(this.options._const.action,this.options._const.modifyChecked).setValue(this.options._const.oldValue,t.checked).setValue(this.options._const.newValue,e.checked).setValue(this.options._const.route,i)),n},t}(),ov={debug:!1,diffcap:10,maxDepth:!1,maxChildCount:50,valueDiffing:!0,textDiff:function(t,e,i,n){t.data=n},preVirtualDiffApply:function(){},postVirtualDiffApply:function(){},preDiffApply:function(){},postDiffApply:function(){},filterOuterDiff:null,compress:!1,_const:!1,document:!("undefined"==typeof window||!window.document)&&window.document,components:[]},av=function(){function t(t){if(void 0===t&&(t={}),Object.entries(ov).forEach((function(e){var i=e[0],n=e[1];Object.prototype.hasOwnProperty.call(t,i)||(t[i]=n)})),!t._const){var e=["addAttribute","modifyAttribute","removeAttribute","modifyTextElement","relocateGroup","removeElement","addElement","removeTextElement","addTextElement","replaceElement","modifyValue","modifyChecked","modifySelected","modifyComment","action","route","oldValue","newValue","element","group","groupLength","from","to","name","value","data","attributes","nodeName","childNodes","checked","selected"],i={};t.compress?e.forEach((function(t,e){return i[t]=e})):e.forEach((function(t){return i[t]=t})),t._const=i}this.options=t}return t.prototype.apply=function(t,e){return i=t,n=e,s=this.options,n.every((function(t){return zm(i,t,s)}));var i,n,s},t.prototype.undo=function(t,e){return i=t,n=e,s=this.options,(n=n.slice()).reverse(),void n.forEach((function(t){!function(t,e,i){switch(e[i._const.action]){case i._const.addAttribute:e[i._const.action]=i._const.removeAttribute,zm(t,e,i);break;case i._const.modifyAttribute:Hm(e,i._const.oldValue,i._const.newValue),zm(t,e,i);break;case i._const.removeAttribute:e[i._const.action]=i._const.addAttribute,zm(t,e,i);break;case i._const.modifyTextElement:case i._const.modifyValue:case i._const.modifyComment:case i._const.modifyChecked:case i._const.modifySelected:case i._const.replaceElement:Hm(e,i._const.oldValue,i._const.newValue),zm(t,e,i);break;case i._const.relocateGroup:Hm(e,i._const.from,i._const.to),zm(t,e,i);break;case i._const.removeElement:e[i._const.action]=i._const.addElement,zm(t,e,i);break;case i._const.addElement:e[i._const.action]=i._const.removeElement,zm(t,e,i);break;case i._const.removeTextElement:e[i._const.action]=i._const.addTextElement,zm(t,e,i);break;case i._const.addTextElement:e[i._const.action]=i._const.removeTextElement,zm(t,e,i);break;default:console.log("unknown action")}}(i,t,s)}));var i,n,s},t.prototype.diff=function(t,e){return new rv(t,e,this.options).init()},t}();const lv=(t,e,i,{classes:n,format:s,hiddenHeader:r,sortable:o,scrollY:a,type:l},{noColumnWidths:c,unhideHeader:d})=>({nodeName:"TR",childNodes:t.map(((t,h)=>{var u;const f=e[h]||{type:l,format:s,sortable:!0,searchable:!0};if(f.hidden)return;const p={};if(f.sortable&&o&&(!a.length||d)&&(f.filter?p["data-filterable"]="true":p["data-sortable"]="true"),f.headerClass&&(p.class=f.headerClass),i.sort&&i.sort.column===h){const t="asc"===i.sort.dir?n.ascending:n.descending;p.class=p.class?`${p.class} ${t}`:t,p["aria-sort"]="asc"===i.sort.dir?"ascending":"descending"}else i.filters[h]&&(p.class=p.class?`${p.class} ${n.filterActive}`:n.filterActive);let g="";i.widths[h]&&!c&&(g+=`width: ${i.widths[h]}%;`),a.length&&!d&&(g+="padding-bottom: 0;padding-top: 0;border: 0;"),g.length&&(p.style=g),f.headerClass&&(p.class=f.headerClass);const m="html"===t.type?t.data:[{nodeName:"#text",data:null!=(u=t.text)?u:String(t.data)}];return{nodeName:"TH",attributes:p,childNodes:!r&&!a.length||d?f.sortable&&o?[{nodeName:"a",attributes:{href:"#",class:f.filter?n.filter:n.sorter},childNodes:m}]:m:[{nodeName:"#text",data:""}]}})).filter((t=>t))}),cv=(t,e,i,n,s,r,{classes:o,hiddenHeader:a,header:c,footer:d,format:h,sortable:u,scrollY:f,type:p,rowRender:g,tabIndex:m},{noColumnWidths:v,unhideHeader:b,renderHeader:y})=>{const x={nodeName:"TABLE",attributes:l({},t),childNodes:[{nodeName:"TBODY",childNodes:i.map((({row:t,index:e})=>{const i={nodeName:"TR",attributes:{"data-index":String(e)},childNodes:t.map(((t,i)=>{var r;const o=n[i]||{type:p,format:h,sortable:!0,searchable:!0};if(o.hidden)return;const a="html"===o.type?{nodeName:"TD",childNodes:t.data}:{nodeName:"TD",childNodes:[{nodeName:"#text",data:null!=(r=t.text)?r:String(t.data)}]};if(c||d||!s.widths[i]||v||(a.attributes={style:`width: ${s.widths[i]}%;`}),o.cellClass&&(a.attributes||(a.attributes={}),a.attributes.class=o.cellClass),o.render){const n=o.render(t.data,a,e,i);if(n){if("string"!=typeof n)return n;{const t=sv(`<td>${n}</td>`);1===t.childNodes.length&&["#text","#comment"].includes(t.childNodes[0].nodeName)?a.childNodes[0].data=n:a.childNodes=t.childNodes}}}return a})).filter((t=>t))};if(e===r&&(i.attributes.class=o.cursor),g){const n=g(t,i,e);if(n){if("string"!=typeof n)return n;{const t=sv(`<tr>${n}</tr>`);!t.childNodes||1===t.childNodes.length&&["#text","#comment"].includes(t.childNodes[0].nodeName)?i.childNodes[0].data=n:i.childNodes=t.childNodes}}}return i}))}]};if(x.attributes.class=x.attributes.class?`${x.attributes.class} ${o.table}`:o.table,c||d||y){const t=lv(e,n,s,{classes:o,hiddenHeader:a,sortable:u,scrollY:f},{noColumnWidths:v,unhideHeader:b});if(c||y){const e={nodeName:"THEAD",childNodes:[t]};!f.length&&!a||b||(e.attributes={style:"height: 0px;"}),x.childNodes.unshift(e)}if(d){const e={nodeName:"TFOOT",childNodes:[c?structuredClone(t):t]};!f.length&&!a||b||(e.attributes={style:"height: 0px;"}),x.childNodes.push(e)}}return!1!==m&&(x.attributes.tabindex=String(m)),x};var dv={},hv={get exports(){return dv},set exports(t){dv=t}};hv.exports=function(){var t=6e4,e=36e5,i="millisecond",n="second",s="minute",r="hour",o="day",a="week",l="month",c="quarter",d="year",h="date",u="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],i=t%100;return"["+t+(e[(i-20)%10]||e[i]||e[0])+"]"}},m=function(t,e,i){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(i)+t},v={s:m,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),n=Math.floor(i/60),s=i%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(s,2,"0")},m:function t(e,i){if(e.date()<i.date())return-t(i,e);var n=12*(i.year()-e.year())+(i.month()-e.month()),s=e.clone().add(n,l),r=i-s<0,o=e.clone().add(n+(r?-1:1),l);return+(-(n+(i-s)/(r?s-o:o-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:d,w:a,d:o,D:h,h:r,m:s,s:n,ms:i,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},b="en",y={};y[b]=g;var x=function(t){return t instanceof S},w=function t(e,i,n){var s;if(!e)return b;if("string"==typeof e){var r=e.toLowerCase();y[r]&&(s=r),i&&(y[r]=i,s=r);var o=e.split("-");if(!s&&o.length>1)return t(o[0])}else{var a=e.name;y[a]=e,s=a}return!n&&s&&(b=s),s||!n&&b},_=function(t,e){if(x(t))return t.clone();var i="object"==typeof e?e:{};return i.date=t,i.args=arguments,new S(i)},E=v;E.l=w,E.i=x,E.w=function(t,e){return _(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function g(t){this.$L=w(t.locale,null,!0),this.parse(t)}var m=g.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)
return new Date(NaN);if(E.u(e))
return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(f);if(n){var s=n[2]-1||0,r=(n[7]||"0").substring(0,3);return i?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,r)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return E},m.isValid=function(){return!(this.$d.toString()===u)},m.isSame=function(t,e){var i=_(t);return this.startOf(e)<=i&&i<=this.endOf(e)},m.isAfter=function(t,e){return _(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<_(t)},m.$g=function(t,e,i){return E.u(t)?this[e]:this.set(i,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var i=this,c=!!E.u(e)||e,u=E.p(t),f=function(t,e){var n=E.w(i.$u?Date.UTC(i.$y,e,t):new Date(i.$y,e,t),i);return c?n:n.endOf(o)},p=function(t,e){return E.w(i.toDate()[t].apply(i.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),i)},g=this.$W,m=this.$M,v=this.$D,b="set"+(this.$u?"UTC":"");switch(u){case d:return c?f(1,0):f(31,11);case l:return c?f(1,m):f(0,m+1);case a:var y=this.$locale().weekStart||0,x=(g<y?g+7:g)-y;return f(c?v-x:v+(6-x),m);case o:case h:return p(b+"Hours",0);case r:return p(b+"Minutes",1);case s:return p(b+"Seconds",2);case n:return p(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var a,c=E.p(t),u="set"+(this.$u?"UTC":""),f=(a={},a[o]=u+"Date",a[h]=u+"Date",a[l]=u+"Month",a[d]=u+"FullYear",a[r]=u+"Hours",a[s]=u+"Minutes",a[n]=u+"Seconds",a[i]=u+"Milliseconds",a)[c],p=c===o?this.$D+(e-this.$W):e;if(c===l||c===d){var g=this.clone().set(h,1);g.$d[f](p),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[E.p(t)]()},m.add=function(i,c){var h,u=this;i=Number(i);var f=E.p(c),p=function(t){var e=_(u);return E.w(e.date(e.date()+Math.round(t*i)),u)};if(f===l)return this.set(l,this.$M+i);if(f===d)return this.set(d,this.$y+i);if(f===o)return p(1);if(f===a)return p(7);var g=(h={},h[s]=t,h[r]=e,h[n]=1e3,h)[f]||1,m=this.$d.getTime()+i*g;return E.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,i=this.$locale();if(!this.isValid())return i.invalidDate||u;var n=t||"YYYY-MM-DDTHH:mm:ssZ",s=E.z(this),r=this.$H,o=this.$m,a=this.$M,l=i.weekdays,c=i.months,d=function(t,i,s,r){return t&&(t[i]||t(e,n))||s[i].slice(0,r)},h=function(t){return E.s(r%12||12,t,"0")},f=i.meridiem||function(t,e,i){var n=t<12?"AM":"PM";return i?n.toLowerCase():n},g={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:E.s(a+1,2,"0"),MMM:d(i.monthsShort,a,c,3),MMMM:d(c,a),D:this.$D,DD:E.s(this.$D,2,"0"),d:String(this.$W),dd:d(i.weekdaysMin,this.$W,l,2),ddd:d(i.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(r),HH:E.s(r,2,"0"),h:h(1),hh:h(2),a:f(r,o,!0),A:f(r,o,!1),m:String(o),mm:E.s(o,2,"0"),s:String(this.$s),ss:E.s(this.$s,2,"0"),SSS:E.s(this.$ms,3,"0"),Z:s};return n.replace(p,(function(t,e){return e||g[t]||s.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(i,h,u){var f,p=E.p(h),g=_(i),m=(g.utcOffset()-this.utcOffset())*t,v=this-g,b=E.m(this,g);return b=(f={},f[d]=b/12,f[l]=b,f[c]=b/3,f[a]=(v-m)/6048e5,f[o]=(v-m)/864e5,f[r]=v/e,f[s]=v/t,f[n]=v/1e3,f)[p]||v,u?b:E.a(b)},m.daysInMonth=function(){return this.endOf(l).$D},m.$locale=function(){return y[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),n=w(t,e,!0);return n&&(i.$L=n),i},m.clone=function(){return E.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},g}(),A=S.prototype;return _.prototype=A,[["$ms",i],["$s",n],["$m",s],["$H",r],["$W",o],["$M",l],["$y",d],["$D",h]].forEach((function(t){A[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),_.extend=function(t,e){return t.$i||(t(e,S,_),t.$i=!0),_},_.locale=w,_.isDayjs=x,_.unix=function(t){return _(1e3*t)},_.en=y[b],_.Ls=y,_.p={},_}();var uv,fv,pv,gv,mv,vv,bv,yv,xv,wv,_v,Ev,Sv=dv,Av={},Dv={get exports(){return Av},set exports(t){Av=t}};Dv.exports=(uv={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},fv=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,vv={},bv=function(t){return(t=+t)+(t>68?1900:2e3)},xv=[/[+-]\d\d:?(\d\d)?|Z/,function(t){(this.zone||(this.zone={})).offset=function(t){if(!t)return 0;if("Z"===t)return 0;var e=t.match(/([+-]|\d\d)/g),i=60*e[1]+(+e[2]||0);return 0===i?0:"+"===e[0]?-i:i}(t)}],wv=function(t){var e=vv[t];return e&&(e.indexOf?e:e.s.concat(e.f))},_v=function(t,e){var i,n=vv.meridiem;if(n){for(var s=1;s<=24;s+=1)if(t.indexOf(n(s,0,e))>-1){i=s>12;break}}else i=t===(e?"pm":"PM");return i},Ev={A:[mv=/\d*[^-_:/,()\s\d]+/,function(t){this.afternoon=_v(t,!1)}],a:[mv,function(t){this.afternoon=_v(t,!0)}],S:[/\d/,function(t){this.milliseconds=100*+t}],SS:[pv=/\d\d/,function(t){this.milliseconds=10*+t}],SSS:[/\d{3}/,function(t){this.milliseconds=+t}],s:[gv=/\d\d?/,(yv=function(t){return function(e){this[t]=+e}})("seconds")],ss:[gv,yv("seconds")],m:[gv,yv("minutes")],mm:[gv,yv("minutes")],H:[gv,yv("hours")],h:[gv,yv("hours")],HH:[gv,yv("hours")],hh:[gv,yv("hours")],D:[gv,yv("day")],DD:[pv,yv("day")],Do:[mv,function(t){var e=vv.ordinal,i=t.match(/\d+/);if(this.day=i[0],e)for(var n=1;n<=31;n+=1)e(n).replace(/\[|\]/g,"")===t&&(this.day=n)}],M:[gv,yv("month")],MM:[pv,yv("month")],MMM:[mv,function(t){var e=wv("months"),i=(wv("monthsShort")||e.map((function(t){return t.slice(0,3)}))).indexOf(t)+1;if(i<1)throw new Error;this.month=i%12||i}],MMMM:[mv,function(t){var e=wv("months").indexOf(t)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,yv("year")],YY:[pv,function(t){this.year=bv(t)}],YYYY:[/\d{4}/,yv("year")],Z:xv,ZZ:xv},function(t,e,i){i.p.customParseFormat=!0,t&&t.parseTwoDigitYear&&(bv=t.parseTwoDigitYear);var n=e.prototype,s=n.parse;n.parse=function(t){var e=t.date,n=t.utc,r=t.args;this.$u=n;var o=r[1];if("string"==typeof o){var a=!0===r[2],l=!0===r[3],c=a||l,d=r[2];l&&(d=r[2]),vv=this.$locale(),!a&&d&&(vv=i.Ls[d]),this.$d=function(t,e,i){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*t);var n=function(t){var e,i;e=t,i=vv&&vv.formats;for(var n=(t=e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,e,n){var s=n&&n.toUpperCase();return e||i[n]||uv[n]||i[s].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(t,e,i){return e||i.slice(1)}))}))).match(fv),s=n.length,r=0;r<s;r+=1){var o=n[r],a=Ev[o],l=a&&a[0],c=a&&a[1];n[r]=c?{regex:l,parser:c}:o.replace(/^\[|\]$/g,"")}return function(t){for(var e={},i=0,r=0;i<s;i+=1){var o=n[i];if("string"==typeof o)r+=o.length;else{var a=o.regex,l=o.parser,c=t.slice(r),d=a.exec(c)[0];l.call(e,d),t=t.replace(d,"")}}return function(t){var e=t.afternoon;if(void 0!==e){var i=t.hours;e?i<12&&(t.hours+=12):12===i&&(t.hours=0),delete t.afternoon}}(e),e}}(e)(t),s=n.year,r=n.month,o=n.day,a=n.hours,l=n.minutes,c=n.seconds,d=n.milliseconds,h=n.zone,u=new Date,f=o||(s||r?1:u.getDate()),p=s||u.getFullYear(),g=0;s&&!r||(g=r>0?r-1:u.getMonth());var m=a||0,v=l||0,b=c||0,y=d||0;return h?new Date(Date.UTC(p,g,f,m,v,b,y+60*h.offset*1e3)):i?new Date(Date.UTC(p,g,f,m,v,b,y)):new Date(p,g,f,m,v,b,y)}catch(x){
return new Date("")}}(e,o,n),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),c&&e!=this.format(o)&&(this.$d=new Date("")),vv={}}else if(o instanceof Array)for(var h=o.length,u=1;u<=h;u+=1){r[1]=o[u-1];var f=i.apply(this,r);if(f.isValid()){this.$d=f.$d,this.$L=f.$L,this.init();break}u===h&&(this.$d=new Date(""))}else s.call(this,t)}});var Cv=Av;Sv.extend(Cv);const Mv=(t,e)=>{let i;if(e)switch(e){case"ISO_8601":i=t;break;case"RFC_2822":i=Sv(t.slice(5),"DD MMM YYYY HH:mm:ss ZZ").unix();break;case"MYSQL":i=Sv(t,"YYYY-MM-DD hh:mm:ss").unix();break;case"UNIX":i=Sv(t).unix();break;default:i=Sv(t,e,!0).valueOf()}return i},kv=(t,e)=>{if((null==t?void 0:t.constructor)===Object&&Object.prototype.hasOwnProperty.call(t,"data")&&!Object.keys(t).find((t=>!["text","order","data"].includes(t))))return t;const i={data:t};switch(e.type){case"string":"string"!=typeof t&&(i.text=String(i.data),i.order=i.text);break;case"date":e.format&&(i.order=Mv(String(i.data),e.format));break;case"number":i.text=String(i.data),i.data=parseInt(i.data,10);break;case"html":{const t=Array.isArray(i.data)?{nodeName:"TD",childNodes:i.data}:sv(`<td>${String(i.data)}</td>`);i.data=t.childNodes||[];const e=Pm(t);i.text=e,i.order=e;break}case"boolean":"string"==typeof i.data&&(i.data=i.data.toLowerCase().trim()),i.data=!["false",!1,null,void 0,0].includes(i.data),i.order=i.data?1:0,i.text=String(i.data);break;case"other":i.text="",i.order=0;break;default:i.text=JSON.stringify(i.data)}return i},Tv=t=>{if(t instanceof Object&&t.constructor===Object&&t.hasOwnProperty("data")&&("string"==typeof t.text||"string"==typeof t.data))return t;const e={data:t};if("string"==typeof t){if(t.length){const i=sv(`<th>${t}</th>`);if(i.childNodes&&(1!==i.childNodes.length||"#text"!==i.childNodes[0].nodeName)){e.data=i.childNodes,e.type="html";const t=Pm(i);e.text=t}}}else[null,void 0].includes(t)?e.text="":e.text=JSON.stringify(t);return e},Rv=(t,e,i,n,s)=>{var r,o;const a={data:[],headings:[]};t.headings?a.headings=t.headings.map((t=>Tv(t))):(null==e?void 0:e.tHead)?a.headings=Array.from(e.tHead.querySelectorAll("th")).map(((t,e)=>{var r,o,a,l,c;const d=(t=>{const e=Xm(t,{valueDiffing:!1});let i;return i=!e.childNodes||1===e.childNodes.length&&"#text"===e.childNodes[0].nodeName?{data:t.innerText,type:"string"}:{data:e.childNodes,type:"html",text:Pm(e)},i})(t);i[e]||(i[e]={type:n,format:s,searchable:!0,sortable:!0});const h=i[e];return"false"!==(null==(r=t.dataset.sortable)?void 0:r.trim().toLowerCase())&&"false"!==(null==(o=t.dataset.sort)?void 0:o.trim().toLowerCase())||(h.sortable=!1),"false"===(null==(a=t.dataset.searchable)?void 0:a.trim().toLowerCase())&&(h.searchable=!1),"true"!==(null==(l=t.dataset.hidden)?void 0:l.trim().toLowerCase())&&"true"!==(null==(c=t.getAttribute("hidden"))?void 0:c.trim().toLowerCase())||(h.hidden=!0),["number","string","html","date","boolean","other"].includes(t.dataset.type)&&(h.type=t.dataset.type,"date"===h.type&&t.dataset.format&&(h.format=t.dataset.format)),d})):(null==(r=t.data)?void 0:r.length)?a.headings=t.data[0].map((t=>Tv(""))):(null==e?void 0:e.tBodies.length)&&(a.headings=Array.from(e.tBodies[0].rows[0].cells).map((t=>Tv(""))));for(let l=0;l<a.headings.length;l++)i[l]||(i[l]={type:n,format:s,sortable:!0,searchable:!0});if(t.data?a.data=t.data.map((t=>t.map(((t,e)=>kv(t,i[e]))))):(null==(o=null==e?void 0:e.tBodies)?void 0:o.length)&&(a.data=Array.from(e.tBodies[0].rows).map((t=>Array.from(t.cells).map(((t,e)=>{const n=t.dataset.content?kv(t.dataset.content,i[e]):((t,e)=>{let i;switch(e.type){case"string":i={data:t.innerText};break;case"date":{const n=t.innerText;i={data:n,order:Mv(n,e.format)};break}case"number":i={data:parseInt(t.innerText,10),text:t.innerText};break;case"boolean":{const e=!["false","0","null","undefined"].includes(t.innerText.toLowerCase().trim());i={data:e,order:e?1:0,text:e?"1":"0"};break}default:i={data:Xm(t,{valueDiffing:!1}).childNodes||[],text:t.innerText,order:t.innerText}}return i})(t,i[e]);return t.dataset.order&&(n.order=isNaN(parseFloat(t.dataset.order))?t.dataset.order:parseFloat(t.dataset.order)),n}))))),a.data.length&&a.data[0].length!==a.headings.length)throw new Error("Data heading length mismatch.");return a};class Ov{constructor(t){this.dt=t,this.cursor=!1}setCursor(t=!1){if(t===this.cursor)return;const e=this.cursor;if(this.cursor=t,this.dt._renderTable(),!1!==t&&this.dt.options.scrollY){const t=this.dt.dom.querySelector(`tr.${this.dt.options.classes.cursor}`);t&&t.scrollIntoView({block:"nearest"})}this.dt.emit("datatable.cursormove",this.cursor,e)}add(t){const e=t.map(((t,e)=>{const i=this.dt.columns.settings[e];return kv(t,i)}));this.dt.data.data.push(e),this.dt.data.data.length&&(this.dt.hasRows=!0),this.dt.update(!0)}remove(t){if(!Array.isArray(t))return this.remove([t]);this.dt.data.data=this.dt.data.data.filter(((e,i)=>!t.includes(i))),this.dt.data.data.length||(this.dt.hasRows=!1),this.dt.update(!0)}findRowIndex(t,e){return this.dt.data.data.findIndex((i=>{var n;return(null!=(n=i[t].text)?n:String(i[t].data)).toLowerCase().includes(String(e).toLowerCase())}))}findRow(t,e){const i=this.findRowIndex(t,e);if(i<0)return{index:-1,row:null,cols:[]};const n=this.dt.data.data[i],s=n.map((t=>t.data));return{index:i,row:n,cols:s}}updateRow(t,e){const i=e.map(((t,e)=>{const i=this.dt.columns.settings[e];return kv(t,i)}));this.dt.data.data.splice(t,1,i),this.dt.update(!0)}}class Pv{constructor(t){this.dt=t,this.init()}init(){[this.settings,this._state]=((t=[],e,i)=>{let n=[],s=!1;const r=[];return t.forEach((t=>{(Array.isArray(t.select)?t.select:[t.select]).forEach((o=>{n[o]||(n[o]={type:t.type||e,sortable:!0,searchable:!0});const a=n[o];t.render&&(a.render=t.render),t.format?a.format=t.format:"date"===t.type&&(a.format=i),t.cellClass&&(a.cellClass=t.cellClass),t.headerClass&&(a.headerClass=t.headerClass),t.locale&&(a.locale=t.locale),!1===t.sortable?a.sortable=!1:(t.numeric&&(a.numeric=t.numeric),t.caseFirst&&(a.caseFirst=t.caseFirst)),!1===t.searchable?a.searchable=!1:t.sensitivity&&(a.sensitivity=t.sensitivity),(a.searchable||a.sortable)&&t.ignorePunctuation&&(a.ignorePunctuation=t.ignorePunctuation),t.hidden&&(a.hidden=!0),t.filter&&(a.filter=t.filter),t.sortSequence&&(a.sortSequence=t.sortSequence),t.sort&&(t.filter?r[o]=t.sort:s={column:o,dir:t.sort})}))})),n=n.map((t=>t||{type:e,format:"date"===e?i:void 0,sortable:!0,searchable:!0})),[n,{filters:r,sort:s,widths:[]}]})(this.dt.options.columns,this.dt.options.type,this.dt.options.format)}swap(t){if(2===t.length){const e=this.dt.data.headings.map(((t,e)=>e)),i=t[0],n=t[1],s=e[n];return e[n]=e[i],e[i]=s,this.order(e)}}order(t){this.dt.data.headings=t.map((t=>this.dt.data.headings[t])),this.dt.data.data=this.dt.data.data.map((e=>t.map((t=>e[t])))),this.settings=t.map((t=>this.settings[t])),this.dt.update()}hide(t){t.length&&(t.forEach((t=>{this.settings[t]||(this.settings[t]={type:"string"}),this.settings[t].hidden=!0})),this.dt.update())}show(t){t.length&&(t.forEach((t=>{this.settings[t]||(this.settings[t]={type:"string",sortable:!0}),delete this.settings[t].hidden})),this.dt.update())}visible(t){var e;return void 0===t&&(t=[...Array(this.dt.data.headings.length).keys()]),Array.isArray(t)?t.map((t=>{var e;return!(null==(e=this.settings[t])?void 0:e.hidden)})):!(null==(e=this.settings[t])?void 0:e.hidden)}add(t){const e=this.dt.data.headings.length;if(this.dt.data.headings=this.dt.data.headings.concat([Tv(t.heading)]),this.dt.data.data=this.dt.data.data.map(((e,i)=>e.concat([kv(t.data[i],t)]))),this.settings[e]={type:t.type||"string",sortable:!0,searchable:!0},t.type||t.format||t.sortable||t.render||t.filter){const i=this.settings[e];t.render&&(i.render=t.render),t.format&&(i.format=t.format),t.cellClass&&(i.cellClass=t.cellClass),t.headerClass&&(i.headerClass=t.headerClass),t.locale&&(i.locale=t.locale),!1===t.sortable?i.sortable=!1:(t.numeric&&(i.numeric=t.numeric),t.caseFirst&&(i.caseFirst=t.caseFirst)),!1===t.searchable?i.searchable=!1:t.sensitivity&&(i.sensitivity=t.sensitivity),(i.searchable||i.sortable)&&t.ignorePunctuation&&(i.ignorePunctuation=t.ignorePunctuation),t.hidden&&(i.hidden=!0),t.filter&&(i.filter=t.filter),t.sortSequence&&(i.sortSequence=t.sortSequence)}this.dt.update(!0)}remove(t){if(!Array.isArray(t))return this.remove([t]);this.dt.data.headings=this.dt.data.headings.filter(((e,i)=>!t.includes(i))),this.dt.data.data=this.dt.data.data.map((e=>e.filter(((e,i)=>!t.includes(i))))),this.dt.update(!0)}filter(t,e=!1){var i,n;if(!(null==(n=null==(i=this.settings[t])?void 0:i.filter)?void 0:n.length))return;const s=this._state.filters[t];let r;if(s){let e=!1;r=this.settings[t].filter.find((t=>!!e||(t===s&&(e=!0),!1)))}else{const e=this.settings[t].filter;r=e?e[0]:void 0}r?this._state.filters[t]=r:s&&(this._state.filters[t]=void 0),this.dt._currentPage=1,this.dt.update(),e||this.dt.emit("datatable.filter",t,r)}sort(t,e,i=!1){var n;const s=this.settings[t];if(i||this.dt.emit("datatable.sorting",t,e),!e){const t=!!this._state.sort&&(null==(n=this._state.sort)?void 0:n.dir),i=(null==s?void 0:s.sortSequence)||["asc","desc"];if(t){const n=i.indexOf(t);e=-1===n?"asc":n===i.length-1?i[0]:i[n+1]}else e=i.length?i[0]:"asc"}const r=!!["string","html"].includes(s.type)&&new Intl.Collator(s.locale||this.dt.options.locale,{usage:"sort",numeric:s.numeric||this.dt.options.numeric,caseFirst:s.caseFirst||this.dt.options.caseFirst,ignorePunctuation:s.ignorePunctuation||this.dt.options.ignorePunctuation});this.dt.data.data.sort(((i,n)=>{let s=i[t].order||i[t].data,o=n[t].order||n[t].data;if("desc"===e){const t=s;s=o,o=t}return r?r.compare(String(s),String(o)):s<o?-1:s>o?1:0})),this._state.sort={column:t,dir:e},this.dt._searchQueries.length?(this.dt.multiSearch(this.dt._searchQueries),this.dt.emit("datatable.sort",t,e)):i||(this.dt._currentPage=1,this.dt.update(),this.dt.emit("datatable.sort",t,e))}_measureWidths(){var t,e,i,n;const s=this.dt.data.headings.filter(((t,e)=>{var i;return!(null==(i=this.settings[e])?void 0:i.hidden)}));if((this.dt.options.scrollY.length||this.dt.options.fixedColumns)&&(null==s?void 0:s.length)){this._state.widths=[];const s={noPaging:!0};if(this.dt.options.header||this.dt.options.footer){this.dt.options.scrollY.length&&(s.unhideHeader=!0),this.dt.headerDOM&&this.dt.headerDOM.parentElement.removeChild(this.dt.headerDOM),s.noColumnWidths=!0,this.dt._renderTable(s);const i=Array.from((null==(e=null==(t=this.dt.dom.querySelector("thead, tfoot"))?void 0:t.firstElementChild)?void 0:e.querySelectorAll("th"))||[]);let n=0;const r=this.dt.data.headings.map(((t,e)=>{var s;if(null==(s=this.settings[e])?void 0:s.hidden)return 0;const r=i[n].offsetWidth;return n+=1,r})),o=r.reduce(((t,e)=>t+e),0);this._state.widths=r.map((t=>t/o*100))}else{s.renderHeader=!0,this.dt._renderTable(s);const t=Array.from((null==(n=null==(i=this.dt.dom.querySelector("thead, tfoot"))?void 0:i.firstElementChild)?void 0:n.querySelectorAll("th"))||[]);let e=0;const r=this.dt.data.headings.map(((i,n)=>{var s;if(null==(s=this.settings[n])?void 0:s.hidden)return 0;const r=t[e].offsetWidth;return e+=1,r})),o=r.reduce(((t,e)=>t+e),0);this._state.widths=r.map((t=>t/o*100))}this.dt._renderTable()}}}const Nv={sortable:!0,locale:"en",numeric:!0,caseFirst:"false",searchable:!0,sensitivity:"base",ignorePunctuation:!0,destroyable:!0,data:{},type:"html",format:"YYYY-MM-DD",columns:[],paging:!0,perPage:10,perPageSelect:[5,10,15,20,25],nextPrev:!0,firstLast:!1,prevText:"‹",nextText:"›",firstText:"«",lastText:"»",ellipsisText:"…",truncatePager:!0,pagerDelta:2,scrollY:"",fixedColumns:!0,fixedHeight:!1,footer:!1,header:!0,hiddenHeader:!1,rowNavigation:!1,tabIndex:!1,pagerRender:!1,rowRender:!1,tableRender:!1,labels:{placeholder:"Search...",searchTitle:"Search within table",perPage:"entries per page",noRows:"No entries found",noResults:"No results match your search query",info:"Showing {start} to {end} of {rows} entries"},template:(t,e)=>`<div class='${t.classes.top}'>\n    ${t.paging&&t.perPageSelect?`<div class='${t.classes.dropdown}'>\n            <label>\n                <select class='${t.classes.selector}'></select> ${t.labels.perPage}\n            </label>\n        </div>`:""}\n    ${t.searchable?`<div class='${t.classes.search}'>\n            <input class='${t.classes.input}' placeholder='${t.labels.placeholder}' type='search' title='${t.labels.searchTitle}'${e.id?` aria-controls="${e.id}"`:""}>\n        </div>`:""}\n</div>\n<div class='${t.classes.container}'${t.scrollY.length?` style='height: ${t.scrollY}; overflow-Y: auto;'`:""}></div>\n<div class='${t.classes.bottom}'>\n    ${t.paging?`<div class='${t.classes.info}'></div>`:""}\n    <nav class='${t.classes.pagination}'></nav>\n</div>`,classes:{active:"datatable-active",ascending:"datatable-ascending",bottom:"datatable-bottom",container:"datatable-container",cursor:"datatable-cursor",descending:"datatable-descending",disabled:"datatable-disabled",dropdown:"datatable-dropdown",ellipsis:"datatable-ellipsis",filter:"datatable-filter",filterActive:"datatable-filter-active",empty:"datatable-empty",headercontainer:"datatable-headercontainer",hidden:"datatable-hidden",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",paginationListItem:"datatable-pagination-list-item",paginationListItemLink:"datatable-pagination-list-item-link",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}},Iv=(t,e,i,n={})=>({nodeName:"LI",attributes:{class:n.active&&!n.hidden?`${i.classes.paginationListItem} ${i.classes.active}`:n.hidden?`${i.classes.paginationListItem} ${i.classes.hidden} ${i.classes.disabled}`:i.classes.paginationListItem},childNodes:[{nodeName:"A",attributes:{"data-page":String(t),class:i.classes.paginationListItemLink},childNodes:[{nodeName:"#text",data:e}]}]});class Lv{constructor(t,e={}){const i="string"==typeof t?document.querySelector(t):t;i instanceof HTMLTableElement?this.dom=i:(this.dom=document.createElement("table"),i.appendChild(this.dom));const n=l(l({},Nv.labels),e.labels),s=l(l({},Nv.classes),e.classes);this.options=c(l(l({},Nv),e),{labels:n,classes:s}),this._initialInnerHTML=this.options.destroyable?this.dom.innerHTML:"",this.options.tabIndex?this.dom.tabIndex=this.options.tabIndex:this.options.rowNavigation&&-1===this.dom.tabIndex&&(this.dom.tabIndex=0),this._listeners={onResize:()=>this._onResize()},this._dd=new av({valueDiffing:!1}),this.initialized=!1,this._events={},this._currentPage=0,this.onFirstPage=!0,this.hasHeadings=!1,this.hasRows=!1,this._searchQueries=[],this.init()}init(){if(this.initialized||this.dom.classList.contains(this.options.classes.table))return!1;this._virtualDOM=Xm(this.dom,{valueDiffing:!1}),this._tableAttributes=l({},this._virtualDOM.attributes),this.rows=new Ov(this),this.columns=new Pv(this),this.data=Rv(this.options.data,this.dom,this.columns.settings,this.options.type,this.options.format),this._render(),setTimeout((()=>{this.emit("datatable.init"),this.initialized=!0}),10)}_render(){this.wrapperDOM=Om("div",{class:`${this.options.classes.wrapper} ${this.options.classes.loading}`}),this.wrapperDOM.innerHTML=this.options.template(this.options,this.dom);const t=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);t&&this.options.paging&&this.options.perPageSelect?this.options.perPageSelect.forEach((e=>{const[i,n]=Array.isArray(e)?[e[0],e[1]]:[String(e),e],s=n===this.options.perPage,r=new Option(i,String(n),s,s);t.appendChild(r)})):t&&t.parentElement.removeChild(t),this.containerDOM=this.wrapperDOM.querySelector(`.${this.options.classes.container}`),this._pagerDOMs=[],Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.pagination}`)).forEach((t=>{t instanceof HTMLElement&&(t.innerHTML=`<ul class="${this.options.classes.paginationList}"></ul>`,this._pagerDOMs.push(t.firstElementChild))})),this._virtualPagerDOM={nodeName:"UL",attributes:{class:this.options.classes.paginationList}},this._label=this.wrapperDOM.querySelector(`.${this.options.classes.info}`),this.dom.parentElement.replaceChild(this.wrapperDOM,this.dom),this.containerDOM.appendChild(this.dom),this._rect=this.dom.getBoundingClientRect(),this._fixHeight(),this.options.header||this.wrapperDOM.classList.add("no-header"),this.options.footer||this.wrapperDOM.classList.add("no-footer"),this.options.sortable&&this.wrapperDOM.classList.add("sortable"),this.options.searchable&&this.wrapperDOM.classList.add("searchable"),this.options.fixedHeight&&this.wrapperDOM.classList.add("fixed-height"),this.options.fixedColumns&&this.wrapperDOM.classList.add("fixed-columns"),this._bindEvents(),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}_renderTable(t={}){let e=cv(this._tableAttributes,this.data.headings,(this.options.paging||this._searchQueries.length)&&this._currentPage&&this.pages.length&&!t.noPaging?this.pages[this._currentPage-1]:this.data.data.map(((t,e)=>({row:t,index:e}))),this.columns.settings,this.columns._state,this.rows.cursor,this.options,t);if(this.options.tableRender){const t=this.options.tableRender(this.data,e,"main");t&&(e=t)}const i=this._dd.diff(this._virtualDOM,e);this._dd.apply(this.dom,i),this._virtualDOM=e}_renderPage(t=!1){this.hasRows&&this.totalPages?(this._currentPage>this.totalPages&&(this._currentPage=1),this._renderTable(),this.onFirstPage=1===this._currentPage,this.onLastPage=this._currentPage===this.lastPage):this.setMessage(this.options.labels.noRows);let e,i=0,n=0,s=0;if(this.totalPages&&(i=this._currentPage-1,n=i*this.options.perPage,s=n+this.pages[i].length,n+=1,e=this._searchQueries.length?this._searchData.length:this.data.data.length),this._label&&this.options.labels.info.length){const t=this.options.labels.info.replace("{start}",String(n)).replace("{end}",String(s)).replace("{page}",String(this._currentPage)).replace("{pages}",String(this.totalPages)).replace("{rows}",String(e));this._label.innerHTML=e?t:""}if(1==this._currentPage&&this._fixHeight(),this.options.rowNavigation&&this._currentPage&&(!this.rows.cursor||!this.pages[this._currentPage-1].find((t=>t.index===this.rows.cursor)))){const e=this.pages[this._currentPage-1];e.length&&(t?this.rows.setCursor(e[e.length-1].index):this.rows.setCursor(e[0].index))}}_renderPagers(){if(!this.options.paging)return;let t=((t,e,i,n,s)=>{let r=[];if(s.firstLast&&r.push(Iv(1,s.firstText,s)),s.nextPrev){const e=t?1:i-1;r.push(Iv(e,s.prevText,s,{hidden:t}))}let o=[...Array(n).keys()].map((t=>Iv(t+1,String(t+1),s,{active:t===i-1})));if(s.truncatePager&&(o=((t,e,i,n)=>{const s=n.pagerDelta,r=n.classes,o=n.ellipsisText,a=2*s;let l=e-s,c=e+s;e<4-s+a?c=3+a:e>i-(3-s+a)&&(l=i-(2+a));const d=[];for(let f=1;f<=i;f++)if(1==f||f==i||f>=l&&f<=c){const e=t[f-1];d.push(e)}let h;const u=[];return d.forEach((e=>{const i=parseInt(e.childNodes[0].attributes["data-page"],10);if(h){const e=parseInt(h.childNodes[0].attributes["data-page"],10);if(i-e==2)u.push(t[e]);else if(i-e!=1){const t={nodeName:"LI",attributes:{class:`${r.paginationListItem} ${r.ellipsis} ${r.disabled}`},childNodes:[{nodeName:"A",attributes:{class:r.paginationListItemLink},childNodes:[{nodeName:"#text",data:o}]}]};u.push(t)}}u.push(e),h=e})),u})(o,i,n,s)),r=r.concat(o),s.nextPrev){const t=e?n:i+1;r.push(Iv(t,s.nextText,s,{hidden:e}))}return s.firstLast&&r.push(Iv(n,s.lastText,s)),{nodeName:"UL",attributes:{class:s.classes.paginationList},childNodes:o.length>1?r:[]}})(this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages,this.options);if(this.options.pagerRender){const e=this.options.pagerRender([this.onFirstPage,this.onLastPage,this._currentPage,this.totalPages],t);e&&(t=e)}const e=this._dd.diff(this._virtualPagerDOM,t);this._pagerDOMs.forEach((t=>{this._dd.apply(t,e)})),this._virtualPagerDOM=t}_renderSeparateHeader(){const t=this.dom.parentElement;this.headerDOM||(this.headerDOM=document.createElement("div"),this._virtualHeaderDOM={nodeName:"DIV"}),t.parentElement.insertBefore(this.headerDOM,t);let e={nodeName:"TABLE",attributes:{class:this.options.classes.table},childNodes:[{nodeName:"THEAD",childNodes:[lv(this.data.headings,this.columns.settings,this.columns._state,this.options,{unhideHeader:!0})]}]};if(this.options.tableRender){const t=this.options.tableRender(this.data,e,"header");t&&(e=t)}const i={nodeName:"DIV",attributes:{class:this.options.classes.headercontainer},childNodes:[e]},n=this._dd.diff(this._virtualHeaderDOM,i);this._dd.apply(this.headerDOM,n),this._virtualHeaderDOM=i;const s=this.headerDOM.firstElementChild.clientWidth-this.dom.clientWidth;if(s){const t=structuredClone(this._virtualHeaderDOM);t.attributes.style=`padding-right: ${s}px;`;const e=this._dd.diff(this._virtualHeaderDOM,t);this._dd.apply(this.headerDOM,e),this._virtualHeaderDOM=t}t.scrollHeight>t.clientHeight&&(t.style.overflowY="scroll")}_bindEvents(){if(this.options.perPageSelect){const t=this.wrapperDOM.querySelector(`select.${this.options.classes.selector}`);t&&t instanceof HTMLSelectElement&&t.addEventListener("change",(()=>{this.options.perPage=parseInt(t.value,10),this.update(),this._fixHeight(),this.emit("datatable.perpage",this.options.perPage)}),!1)}this.options.searchable&&this.wrapperDOM.addEventListener("keyup",(t=>{const e=t.target;if(!(e instanceof HTMLInputElement&&e.matches(`.${this.options.classes.input}`)))return;t.preventDefault();const i=Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).filter((t=>t.value.length)).map((t=>t.dataset.columns?{term:t.value,columns:JSON.parse(t.dataset.columns)}:{term:t.value,columns:void 0}));if(1===i.length){const t=i[0];this.search(t.term,t.columns)}else this.multiSearch(i)})),this.wrapperDOM.addEventListener("click",(t=>{const e=t.target.closest("a");if(e)if(e.hasAttribute("data-page"))this.page(parseInt(e.getAttribute("data-page"),10)),t.preventDefault();else if(e.classList.contains(this.options.classes.sorter)){const i=Array.from(e.parentElement.parentElement.children).indexOf(e.parentElement),n=Nm(i,this.columns.settings);this.columns.sort(n),t.preventDefault()}else if(e.classList.contains(this.options.classes.filter)){const i=Array.from(e.parentElement.parentElement.children).indexOf(e.parentElement),n=Nm(i,this.columns.settings);this.columns.filter(n),t.preventDefault()}}),!1),this.options.rowNavigation?(this.dom.addEventListener("keydown",(t=>{if("ArrowUp"===t.key){let e;t.preventDefault(),t.stopPropagation(),this.pages[this._currentPage-1].find((t=>t.index===this.rows.cursor||(e=t,!1))),e?this.rows.setCursor(e.index):this.onFirstPage||this.page(this._currentPage-1,!0)}else if("ArrowDown"===t.key){let e;t.preventDefault(),t.stopPropagation();const i=this.pages[this._currentPage-1].find((t=>!!e||(t.index===this.rows.cursor&&(e=!0),!1)));i?this.rows.setCursor(i.index):this.onLastPage||this.page(this._currentPage+1)}else["Enter"," "].includes(t.key)&&this.emit("datatable.selectrow",this.rows.cursor,t)})),this.dom.addEventListener("mousedown",(t=>{const e=t.target;if(e instanceof Element&&this.dom.matches(":focus")){const i=Array.from(this.dom.querySelectorAll("body tr")).find((t=>t.contains(e)));i&&i instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(i.dataset.index,10),t)}}))):this.dom.addEventListener("mousedown",(t=>{const e=t.target;if(!(e instanceof Element))return;const i=Array.from(this.dom.querySelectorAll("body tr")).find((t=>t.contains(e)));i&&i instanceof HTMLElement&&this.emit("datatable.selectrow",parseInt(i.dataset.index,10),t)})),window.addEventListener("resize",this._listeners.onResize)}_onResize(){this._rect=this.containerDOM.getBoundingClientRect(),this._rect.width&&this.update(!0)}destroy(){this.options.destroyable&&(this.dom.innerHTML=this._initialInnerHTML,this.dom.classList.remove(this.options.classes.table),this.wrapperDOM.parentElement&&this.wrapperDOM.parentElement.replaceChild(this.dom,this.wrapperDOM),this.initialized=!1,window.removeEventListener("resize",this._listeners.onResize))}update(t=!1){t&&(this.columns._measureWidths(),this.hasRows=Boolean(this.data.data.length),this.hasHeadings=Boolean(this.data.headings.length)),this.wrapperDOM.classList.remove(this.options.classes.empty),this._paginate(),this._renderPage(),this._renderPagers(),this.options.scrollY.length&&this._renderSeparateHeader(),this.emit("datatable.update")}_paginate(){let t=this.data.data.map(((t,e)=>({row:t,index:e})));return this._searchQueries.length&&(t=[],this._searchData.forEach((e=>t.push({index:e,row:this.data.data[e]})))),this.columns._state.filters.length&&this.columns._state.filters.forEach(((e,i)=>{e&&(t=t.filter((t=>{var n;return"function"==typeof e?e(t.row[i].data):(null!=(n=t.row[i].text)?n:t.row[i].data)===e})))})),this.options.paging&&this.options.perPage>0?this.pages=t.map(((e,i)=>i%this.options.perPage==0?t.slice(i,i+this.options.perPage):null)).filter((t=>t)):this.pages=[t],this.totalPages=this.lastPage=this.pages.length,this._currentPage||(this._currentPage=1),this.totalPages}_fixHeight(){this.options.fixedHeight&&(this.containerDOM.style.height=null,this._rect=this.containerDOM.getBoundingClientRect(),this.containerDOM.style.height=`${this._rect.height}px`)}search(t,e){if(!t.length)return this._currentPage=1,this._searchQueries=[],this._searchData=[],this.update(),this.emit("datatable.search","",[]),this.wrapperDOM.classList.remove("search-results"),!1;this.multiSearch([{term:t,columns:e||void 0}]),this.emit("datatable.search",t,this._searchData)}multiSearch(t){if(!this.hasRows)return!1;if(this._currentPage=1,this._searchQueries=t,this._searchData=[],!(t=t.filter((t=>t.term.length))).length)return this.update(),this.emit("datatable.multisearch",t,this._searchData),this.wrapperDOM.classList.remove("search-results"),!1;const e=t.map((t=>this.columns.settings.map(((e,i)=>{if(e.hidden||!e.searchable||t.columns&&!t.columns.includes(i))return!1;let n=t.term;const s=e.sensitivity||this.options.sensitivity;return["base","accent"].includes(s)&&(n=n.toLowerCase()),["base","case"].includes(s)&&(n=n.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")),(e.ignorePunctuation||this.options.ignorePunctuation)&&(n=n.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,"")),n}))));this.data.data.forEach(((t,i)=>{const n=t.map(((t,e)=>{let i=(t.text||String(t.data)).trim();if(i.length){const t=this.columns.settings[e],n=t.sensitivity||this.options.sensitivity;["base","accent"].includes(n)&&(i=i.toLowerCase()),["base","case"].includes(n)&&(i=i.normalize("NFD").replace(new RegExp("\\p{Diacritic}","gu"),"")),(t.ignorePunctuation||this.options.ignorePunctuation)&&(i=i.replace(/[.,/#!$%^&*;:{}=-_`~()]/g,""))}return i}));e.every((t=>t.find(((t,e)=>!!t&&t.split(" ").find((t=>n[e].includes(t)))))))&&this._searchData.push(i)})),this.wrapperDOM.classList.add("search-results"),this._searchData.length?this.update():(this.wrapperDOM.classList.remove("search-results"),this.setMessage(this.options.labels.noResults)),this.emit("datatable.multisearch",t,this._searchData)}page(t,e=!1){return t!==this._currentPage&&(isNaN(t)||(this._currentPage=t),!(t>this.pages.length||t<0)&&(this._renderPage(e),this._renderPagers(),void this.emit("datatable.page",t)))}insert(t){let e=[];if(Array.isArray(t)){const i=this.data.headings.map((t=>{var e;return null!=(e=t.text)?e:String(t.data)}));t.forEach(((t,n)=>{const s=[];Object.entries(t).forEach((([t,e])=>{const r=i.indexOf(t);r>-1?s[r]=kv(e,this.columns.settings[r]):this.hasHeadings||this.hasRows||0!==n||(s[i.length]=kv(e,this.columns.settings[i.length]),i.push(t),this.data.headings.push(Tv(t)))})),e.push(s)}))}else(t=>"[object Object]"===Object.prototype.toString.call(t))(t)&&(!t.headings||this.hasHeadings||this.hasRows?t.data&&Array.isArray(t.data)&&(e=t.data.map((t=>t.map(((t,e)=>kv(t,this.columns.settings[e])))))):this.data=Rv(t,void 0,this.columns.settings,this.options.type,this.options.format));e.length&&e.forEach((t=>this.data.data.push(t))),this.hasHeadings=Boolean(this.data.headings.length),this.columns._state.sort&&this.columns.sort(this.columns._state.sort.column,this.columns._state.sort.dir,!0),this.update(!0)}refresh(){this.options.searchable&&(Array.from(this.wrapperDOM.querySelectorAll(`.${this.options.classes.input}`)).forEach((t=>{t.value=""})),this._searchQueries=[]),this._currentPage=1,this.onFirstPage=!0,this.update(!0),this.emit("datatable.refresh")}print(){const t=Om("table");let e=cv(this._tableAttributes,this.data.headings,this.data.data.map(((t,e)=>({row:t,index:e}))),this.columns.settings,this.columns._state,!1,this.options,{noColumnWidths:!0,unhideHeader:!0});if(this.options.tableRender){const t=this.options.tableRender(this.data,e,"print");t&&(e=t)}const i=this._dd.diff({nodeName:"TABLE"},e);this._dd.apply(t,i);const n=window.open();n.document.body.appendChild(t),n.print()}setMessage(t){const e=this.data.headings.filter(((t,e)=>{var i;return!(null==(i=this.columns.settings[e])?void 0:i.hidden)})).length||1;this.wrapperDOM.classList.add(this.options.classes.empty),this._label&&(this._label.innerHTML=""),this.totalPages=0,this._renderPagers();let i={nodeName:"TABLE",attributes:{class:this.options.classes.table},childNodes:[{nodeName:"THEAD",childNodes:[lv(this.data.headings,this.columns.settings,this.columns._state,this.options,{})]},{nodeName:"TBODY",childNodes:[{nodeName:"TR",childNodes:[{nodeName:"TD",attributes:{class:this.options.classes.empty,colspan:String(e)},childNodes:[{nodeName:"#text",data:t}]}]}]}]};if(this.options.tableRender){const t=this.options.tableRender(this.data,i,"message");t&&(i=t)}const n=this._dd.diff(this._virtualDOM,i);this._dd.apply(this.dom,n),this._virtualDOM=i}on(t,e){this._events[t]=this._events[t]||[],this._events[t].push(e)}off(t,e){t in this._events!=0&&this._events[t].splice(this._events[t].indexOf(e),1)}emit(t,...e){if(t in this._events!=0)for(let i=0;i<this._events[t].length;i++)this._events[t][i](...e)}}const zv={class:"flex justify-between card-header"},Hv=v("h3",null,"Datatables",-1),Fv=v("div",{id:"myTable"},null,-1),Vv=h({__name:"DataTable",setup(t){const e={headings:["NAME","POSITION","OFFICE","AGE","STARTDATE","SALARY"],data:[["Tiger Nixon","System Architect","Edinburgh","61","2011/04/25","$320,800"]]};return f((()=>{const t=new Lv("#myTable",{header:!0,searchable:!0,fixedHeight:!0,fixedColumns:!0,classes:{active:"datatable-active",
// will be "datatable-active" in version 7
bottom:"datatable-bottom",container:"datatable-container",dropdown:"datatable-dropdown",ellipsis:"ellipsis",
// will be "datatable-ellipsis" in version 7
empty:"datatable-empty",headercontainer:"datatable-headercontainer",info:"datatable-info",input:"datatable-input",loading:"datatable-loading",pagination:"datatable-pagination",paginationList:"datatable-pagination-list",search:"datatable-search",selector:"datatable-selector",sorter:"datatable-sorter",table:"datatable-table",top:"datatable-top",wrapper:"datatable-wrapper"}});for(let i=0;i<99;i++)e.data.push(["Tiger Nixon","System Architect","Edinburgh","61","2011/04/25","$320,800"]);t.insert(e)})),(t,e)=>{const i=N,n=P;return p(),g(n,{class:"mb-4"},{header:m((()=>[v("div",zv,[Hv,b(i,{type:"primary",href:"https://github.com/fiduswriter/Simple-DataTables",target:"_blank"},{default:m((()=>[y("To Datatables")])),_:1})])])),default:m((()=>[Fv])),_:1})}}});
/*!
  * PhotoSwipe Lightbox 5.3.6 - https://photoswipe.com
  * (c) 2023 Dmytro Semenov
  */
function Bv(t,e,i){const n=document.createElement(e);return t&&(n.className=t),i&&i.appendChild(n),n}function jv(t,e,i){t.style.width="number"==typeof e?`${e}px`:e,t.style.height="number"==typeof i?`${i}px`:i}const Wv="idle",Uv="loading",$v="loaded",Yv="error";function Gv(t,e,i=document){let n=[];if(t instanceof Element)n=[t];else if(t instanceof NodeList||Array.isArray(t))n=Array.from(t);else{const s="string"==typeof t?t:e;s&&(n=Array.from(i.querySelectorAll(s)))}return n}function qv(){return!(!navigator.vendor||!navigator.vendor.match(/apple/i))}class Qv{
/**
   * @param {T} type
   * @param {PhotoSwipeEventsMap[T]} [details]
   */
constructor(t,e){this.type=t,this.defaultPrevented=!1,e&&Object.assign(this,e)}preventDefault(){this.defaultPrevented=!0}}class Zv{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}
/**
   * @template {keyof PhotoSwipeFiltersMap} T
   * @param {T} name
   * @param {PhotoSwipeFiltersMap[T]} fn
   * @param {number} priority
   */addFilter(t,e,i=100){var n,s,r;this._filters[t]||(this._filters[t]=[]),null==(n=this._filters[t])||n.push({fn:e,priority:i}),null==(s=this._filters[t])||s.sort(((t,e)=>t.priority-e.priority)),null==(r=this.pswp)||r.addFilter(t,e,i)}
/**
   * @template {keyof PhotoSwipeFiltersMap} T
   * @param {T} name
   * @param {PhotoSwipeFiltersMap[T]} fn
   */removeFilter(t,e){this._filters[t]&&(this._filters[t]=this._filters[t].filter((t=>t.fn!==e))),this.pswp&&this.pswp.removeFilter(t,e)}
/**
   * @template {keyof PhotoSwipeFiltersMap} T
   * @param {T} name
   * @param {Parameters<PhotoSwipeFiltersMap[T]>} args
   * @returns {Parameters<PhotoSwipeFiltersMap[T]>[0]}
   */applyFilters(t,...e){var i;return null==(i=this._filters[t])||i.forEach((t=>{e[0]=t.fn.apply(this,e)})),e[0]}
/**
   * @template {keyof PhotoSwipeEventsMap} T
   * @param {T} name
   * @param {EventCallback<T>} fn
   */on(t,e){var i,n;this._listeners[t]||(this._listeners[t]=[]),null==(i=this._listeners[t])||i.push(e),null==(n=this.pswp)||n.on(t,e)}
/**
   * @template {keyof PhotoSwipeEventsMap} T
   * @param {T} name
   * @param {EventCallback<T>} fn
   */off(t,e){var i;this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter((t=>e!==t))),null==(i=this.pswp)||i.off(t,e)}
/**
   * @template {keyof PhotoSwipeEventsMap} T
   * @param {T} name
   * @param {PhotoSwipeEventsMap[T]} [details]
   * @returns {AugmentedEvent<T>}
   */dispatch(t,e){var i;if(this.pswp)return this.pswp.dispatch(t,e);const n=
/** @type {AugmentedEvent<T>} */new Qv(t,e);return null==(i=this._listeners[t])||i.forEach((t=>{t.call(this,n)})),n}}class Xv{
/**
   * @param {string | false} imageSrc
   * @param {HTMLElement} container
   */
constructor(t,e){if(this.element=Bv("pswp__img pswp__img--placeholder",t?"img":"div",e),t){const e=
/** @type {HTMLImageElement} */this.element;e.decoding="async",e.alt="",e.src=t,e.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}
/**
   * @param {number} width
   * @param {number} height
   */setDisplayedSize(t,e){this.element&&("IMG"===this.element.tagName?(jv(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=function(t,e,i){let n=`translate3d(${t}px,${e||0}px,0)`;return void 0!==i&&(n+=` scale3d(${i},${i},1)`),n}(0,0,t/250)):jv(this.element,t,e))}destroy(){var t;(null==(t=this.element)?void 0:t.parentNode)&&this.element.remove(),this.element=null}}class Jv{
/**
   * @param {SlideData} itemData Slide data
   * @param {PhotoSwipeBase} instance PhotoSwipe or PhotoSwipeLightbox instance
   * @param {number} index
   */
constructor(t,e,i){this.instance=e,this.data=t,this.index=i,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Wv,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout((()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)}),1e3)}
/**
   * Preload content
   *
   * @param {boolean} isLazy
   * @param {boolean} [reload]
   */load(t,e){if(this.slide&&this.usePlaceholder())if(this.placeholder){const t=this.placeholder.element;t&&!t.parentElement&&this.slide.container.prepend(t)}else{const t=this.instance.applyFilters("placeholderSrc",
// use  image-based placeholder only for the first slide,
// as rendering (even small stretched thumbnail) is an expensive operation
!(!this.data.msrc||!this.slide.isFirstSlide)&&this.data.msrc,this);this.placeholder=new Xv(t,this.slide.container)}this.element&&!e||this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented||(this.isImageContent()?(this.element=Bv("pswp__img","img"),this.displayedImageWidth&&this.loadImage(t)):(this.element=Bv("pswp__content","div"),this.element.innerHTML=this.data.html||""),e&&this.slide&&this.slide.updateContentSize(!0))}
/**
   * Preload image
   *
   * @param {boolean} isLazy
   */loadImage(t){var e,i;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const n=
/** @type HTMLImageElement */this.element;this.updateSrcsetSizes(),this.data.srcset&&(n.srcset=this.data.srcset),n.src=null!=(e=this.data.src)?e:"",n.alt=null!=(i=this.data.alt)?i:"",this.state=Uv,n.complete?this.onLoaded():(n.onload=()=>{this.onLoaded()},n.onerror=()=>{this.onError()})}
/**
   * Assign slide to content
   *
   * @param {Slide} slide
   */setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}
/**
   * Content load success handler
   */onLoaded(){this.state=$v,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),this.state!==$v&&this.state!==Yv||this.removePlaceholder())}
/**
   * Content load error handler
   */onError(){this.state=Yv,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}
/**
   * @returns {Boolean} If the content is currently loading
   */isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Uv,this)}
/**
   * @returns {Boolean} If the content is in error state
   */isError(){return this.state===Yv}
/**
   * @returns {boolean} If the content is image
   */isImageContent(){return"image"===this.type}
/**
   * Update content size
   *
   * @param {Number} width
   * @param {Number} height
   */setDisplayedSize(t,e){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,e),!this.instance.dispatch("contentResize",{content:this,width:t,height:e}).defaultPrevented&&(jv(this.element,t,e),this.isImageContent()&&!this.isError()))){const i=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=e,i?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:e,content:this})}}
/**
   * @returns {boolean} If the content can be zoomed
   */isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Yv,this)}
/**
   * Update image srcset sizes attribute based on width and height
   */updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=
/** @type HTMLImageElement */this.element,e=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||e>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=e+"px",t.dataset.largestUsedSize=String(e))}
/**
   * @returns {boolean} If content should use a placeholder (from msrc by default)
   */usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}
/**
   * Preload content with lazy-loading param
   */lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}
/**
   * @returns {boolean} If placeholder should be kept after content is loaded
   */keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}
/**
   * Destroy the content
   */destroy(){this.hasSlide=!1,this.slide=void 0,this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented||(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}
/**
   * Display error message
   */displayError(){var t,e;if(this.slide){let i=Bv("pswp__error-msg","div");i.innerText=null!=(e=null==(t=this.instance.options)?void 0:t.errorMsg)?e:"",i=/** @type {HTMLDivElement} */
this.instance.applyFilters("contentErrorElement",i,this),this.element=Bv("pswp__content pswp__error-msg-container","div"),this.element.appendChild(i),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}
/**
   * Append the content
   */append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Yv)return void this.displayError();if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||qv())?(this.isDecoding=!0,this.element.decode().catch((()=>{})).finally((()=>{this.isDecoding=!1,this.appendImage()}))):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}
/**
   * Activate the slide,
   * active slide is generally the current one,
   * meaning the user can see it.
   */activate(){!this.instance.dispatch("contentActivate",{content:this}).defaultPrevented&&this.slide&&(this.isImageContent()&&this.isDecoding&&!qv()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}
/**
   * Deactivate the content
   */deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}
/**
   * Remove the content from DOM
   */remove(){this.isAttached=!1,this.instance.dispatch("contentRemove",{content:this}).defaultPrevented||(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}
/**
   * Append the image content to slide container
   */appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),this.state!==$v&&this.state!==Yv||this.removePlaceholder()))}}function Kv(t,e,i,n,s){let r=0;if(e.paddingFn)r=e.paddingFn(i,n,s)[t];else if(e.padding)r=e.padding[t];else{const i="padding"+t[0].toUpperCase()+t.slice(1);e[i]&&(r=e[i])}return Number(r)||0}class tb{
/**
   * @param {PhotoSwipeOptions} options PhotoSwipe options
   * @param {SlideData} itemData Slide data
   * @param {number} index Slide index
   * @param {PhotoSwipe} [pswp] PhotoSwipe instance, can be undefined if not initialized yet
   */
constructor(t,e,i,n){this.pswp=n,this.options=t,this.itemData=e,this.index=i,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}
/**
   * Calculate initial, secondary and maximum zoom level for the specified slide.
   *
   * It should be called when either image or viewport size changes.
   *
   * @param {number} maxWidth
   * @param {number} maxHeight
   * @param {Point} panAreaSize
   */update(t,e,i){const n={x:t,y:e};this.elementSize=n,this.panAreaSize=i;const s=i.x/n.x,r=i.y/n.y;this.fit=Math.min(1,s<r?s:r),this.fill=Math.min(1,s>r?s:r),this.vFill=Math.min(1,r),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}
/**
   * Parses user-defined zoom option.
   *
   * @private
   * @param {'initial' | 'secondary' | 'max'} optionPrefix Zoom level option prefix (initial, secondary, max)
   * @returns { number | undefined }
   */_parseZoomLevelOption(t){const e=
/** @type {'initialZoomLevel' | 'secondaryZoomLevel' | 'maxZoomLevel'} */t+"ZoomLevel",i=this.options[e];if(i)return"function"==typeof i?i(this):"fill"===i?this.fill:"fit"===i?this.fit:Number(i)}
/**
   * Get zoom level to which image will be zoomed after double-tap gesture,
   * or when user clicks on zoom icon,
   * or mouse-click on image itself.
   * If you return 1 image will be zoomed to its original size.
   *
   * @private
   * @return {number}
   */_getSecondary(){let t=this._parseZoomLevelOption("secondary");return t||(t=Math.min(1,3*this.fit),this.elementSize&&t*this.elementSize.x>4e3&&(t=4e3/this.elementSize.x),t)}
/**
   * Get initial image zoom level.
   *
   * @private
   * @return {number}
   */_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}
/**
   * Maximum zoom level when user zooms
   * via zoom/pinch gesture,
   * via cmd/ctrl-wheel or via trackpad.
   *
   * @private
   * @return {number}
   */_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,4*this.fit)}}function eb(t,e,i){const n=e.createContentFromData(t,i);let s;const{options:r}=e;if(r){let o;s=new tb(r,t,-1),o=e.pswp?e.pswp.viewportSize:function(t,e){if(t.getViewportSizeFn){const i=t.getViewportSizeFn(t,e);if(i)return i}return{x:document.documentElement.clientWidth,
// TODO: height on mobile is very incosistent due to toolbar
// find a way to improve this
// document.documentElement.clientHeight - doesn't seem to work well
y:window.innerHeight}}(r,e);const a=function(t,e,i,n){return{x:e.x-Kv("left",t,e,i,n)-Kv("right",t,e,i,n),y:e.y-Kv("top",t,e,i,n)-Kv("bottom",t,e,i,n)}}(r,o,t,i);s.update(n.width,n.height,a)}return n.lazyLoad(),s&&n.setDisplayedSize(Math.ceil(n.width*s.initial),Math.ceil(n.height*s.initial)),n}class ib extends Zv{
/**
   * Get total number of slides
   *
   * @returns {number}
   */
getNumItems(){var t;let e=0;const i=null==(t=this.options)?void 0:t.dataSource;i&&"length"in i?e=i.length:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),i.items&&(e=i.items.length));const n=this.dispatch("numItems",{dataSource:i,numItems:e});return this.applyFilters("numItems",n.numItems,i)}
/**
   * @param {SlideData} slideData
   * @param {number} index
   * @returns {Content}
   */createContentFromData(t,e){return new Jv(t,this,e)}
/**
   * Get item data by index.
   *
   * "item data" should contain normalized information that PhotoSwipe needs to generate a slide.
   * For example, it may contain properties like
   * `src`, `srcset`, `w`, `h`, which will be used to generate a slide with image.
   *
   * @param {number} index
   * @returns {SlideData}
   */getItemData(t){var e;const i=null==(e=this.options)?void 0:e.dataSource;let n={};Array.isArray(i)?n=i[t]:i&&"gallery"in i&&(i.items||(i.items=this._getGalleryDOMElements(i.gallery)),n=i.items[t]);let s=n;s instanceof Element&&(s=this._domElementToItemData(s));const r=this.dispatch("itemData",{itemData:s||{},index:t});return this.applyFilters("itemData",r.itemData,t)}
/**
   * Get array of gallery DOM elements,
   * based on childSelector and gallery element.
   *
   * @param {HTMLElement} galleryElement
   * @returns {HTMLElement[]}
   */_getGalleryDOMElements(t){var e,i;return(null==(e=this.options)?void 0:e.children)||(null==(i=this.options)?void 0:i.childSelector)?Gv(this.options.children,this.options.childSelector,t)||[]:[t]}
/**
   * Converts DOM element to item data object.
   *
   * @param {HTMLElement} element DOM element
   * @returns {SlideData}
   */_domElementToItemData(t){var e;const i={element:t},n=
/** @type {HTMLAnchorElement} */"A"===t.tagName?t:t.querySelector("a");if(n){i.src=n.dataset.pswpSrc||n.href,n.dataset.pswpSrcset&&(i.srcset=n.dataset.pswpSrcset),i.width=n.dataset.pswpWidth?parseInt(n.dataset.pswpWidth,10):0,i.height=n.dataset.pswpHeight?parseInt(n.dataset.pswpHeight,10):0,i.w=i.width,i.h=i.height,n.dataset.pswpType&&(i.type=n.dataset.pswpType);const s=t.querySelector("img");s&&(i.msrc=s.currentSrc||s.src,i.alt=null!=(e=s.getAttribute("alt"))?e:""),(n.dataset.pswpCropped||n.dataset.cropped)&&(i.thumbCropped=!0)}return this.applyFilters("domItemData",i,t,n)}
/**
   * Lazy-load by slide data
   *
   * @param {SlideData} itemData Data about the slide
   * @param {number} index
   * @returns {Content} Image that is being decoded or false.
   */lazyLoadData(t,e){return eb(t,this,e)}}class nb extends ib{
/**
   * @param {PhotoSwipeOptions} [options]
   */
constructor(t){super(),this.options=t||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}
/**
   * Initialize lightbox, should be called only once.
   * It's not included in the main constructor, so you may bind events before it.
   */init(){Gv(this.options.gallery,this.options.gallerySelector).forEach((t=>{t.addEventListener("click",this.onThumbnailsClick,!1)}))}
/**
   * @param {MouseEvent} e
   */onThumbnailsClick(t){if(function(t){return"button"in t&&1===t.button||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}(t)||window.pswp||!1===window.navigator.onLine)return;let e={x:t.clientX,y:t.clientY};e.x||e.y||(e=null);let i=this.getClickedIndex(t);i=this.applyFilters("clickedIndex",i,t,this);const n={gallery:
/** @type {HTMLElement} */t.currentTarget};i>=0&&(t.preventDefault(),this.loadAndOpen(i,n,e))}
/**
   * Get index of gallery item that was clicked.
   *
   * @param {MouseEvent} e click event
   * @returns {number}
   */getClickedIndex(t){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,t);const e=
/** @type {HTMLElement} */t.target,i=Gv(this.options.children,this.options.childSelector,
/** @type {HTMLElement} */
t.currentTarget).findIndex((t=>t===e||t.contains(e)));return-1!==i?i:this.options.children||this.options.childSelector?-1:0}
/**
   * Load and open PhotoSwipe
   *
   * @param {number} index
   * @param {DataSource} dataSource
   * @param {Point | null} [initialPoint]
   * @returns {boolean}
   */loadAndOpen(t,e,i){return!window.pswp&&(this.options.index=t,this.options.initialPointerPos=i,this.shouldOpen=!0,this.preload(t,e),!0)}
/**
   * Load the main module and the slide content by index
   *
   * @param {number} index
   * @param {DataSource} [dataSource]
   */preload(t,e){const{options:i}=this;e&&(i.dataSource=e);const n=[],s=typeof i.pswpModule;if("function"==typeof(r=i.pswpModule)&&r.prototype&&r.prototype.goTo)n.push(Promise.resolve(
/** @type {Type<PhotoSwipe>} */
i.pswpModule));else{if("string"===s)throw new Error("pswpModule as string is no longer supported");if("function"!==s)throw new Error("pswpModule is not valid");n.push(
/** @type {() => Promise<Type<PhotoSwipe>>} */
i.pswpModule())}var r;"function"==typeof i.openPromise&&n.push(i.openPromise()),!1!==i.preloadFirstSlide&&t>=0&&(this._preloadedContent=function(t,e){const i=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:i}).defaultPrevented)return eb(i,e,t)}(t,this));const o=++this._uid;Promise.all(n).then((t=>{if(this.shouldOpen){const e=t[0];this._openPhotoswipe(e,o)}}))}
/**
   * @private
   * @param {Type<PhotoSwipe> | { default: Type<PhotoSwipe> }} module
   * @param {number} uid
   */_openPhotoswipe(t,e){if(e!==this._uid&&this.shouldOpen)return;if(this.shouldOpen=!1,window.pswp)return;const i="object"==typeof t?new t.default(this.options):new t(this.options);this.pswp=i,window.pswp=i,Object.keys(this._listeners).forEach((t=>{var e;null==(e=this._listeners[t])||e.forEach((e=>{i.on(t,
/** @type {EventCallback<typeof name>} */
e)}))})),Object.keys(this._filters).forEach((t=>{var e;null==(e=this._filters[t])||e.forEach((e=>{i.addFilter(t,e.fn,e.priority)}))})),this._preloadedContent&&(i.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),i.on("destroy",(()=>{this.pswp=void 0,delete window.pswp})),i.init()}
/**
   * Unbinds all events, closes PhotoSwipe if it's open.
   */destroy(){var t;null==(t=this.pswp)||t.destroy(),this.shouldOpen=!1,this._listeners={},Gv(this.options.gallery,this.options.gallerySelector).forEach((t=>{t.removeEventListener("click",this.onThumbnailsClick,!1)}))}}const sb={class:"flex justify-between card-header"},rb=v("h3",null,"PhotoSwipe",-1),ob=v("div",{id:"my-gallery",class:"flex items-center gap-4"},[
v("a",{href:"https://unsplash.com","data-pswp-src":"https://startupstockphotos.com/wp-content/uploads/2023/01/ssp-work-tech-0001-2048x1367.jpg","data-pswp-width":"2048","data-pswp-height":"1367",target:"_blank"},[
v("img",{src:"https://startupstockphotos.com/wp-content/uploads/2023/01/ssp-work-tech-0001-2048x1367.jpg",alt:""})])],-1),ab=h({__name:"PhotoSwipe",setup(t){let e=null;return f((()=>{e=new nb({gallery:"#my-gallery",children:"a",pswpModule:()=>T((()=>import("./photoswipe.esm-82d70bb4.js")),[])}),e.init()})),R((()=>{e.destroy(),e=null})),(t,e)=>{const i=N,n=P;return p(),g(n,{class:"mb-4"},{header:m((()=>[v("div",sb,[rb,b(i,{type:"primary",href:"https://photoswipe.com/",target:"_blank"},{default:m((()=>[y("To PhotoSwipe")])),_:1})])])),default:m((()=>[ob])),_:1})}}}),lb={class:"flex justify-between card-header"},cb=v("h3",null,"Sweetalert2",-1),db={class:"flex flex-wrap gap-[2px] justify-center items-center"},hb=h({__name:"ShowAlertFire",setup(t){var e;const i=null==(e=E())?void 0:e.appContext.app.config.globalProperties.$swal,n=()=>{i.fire("Any fool can use a computer")},s=()=>{i.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"question",showCancelButton:!0})},r=()=>{i.fire({position:"top-end",title:"Are you sure?",text:"You won't be able to revert this!",icon:"success",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",timer:1500})},o=()=>{i.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((t=>{t.isConfirmed&&i.fire("Deleted!","Your file has been deleted.","success")}))},a=()=>{i.fire({title:"<strong>HTML <u>example</u></strong>",icon:"info",html:'You can use <b>bold text</b>, <a href="//sweetalert2.github.io">links</a> and other HTML tags',showCloseButton:!0,showCancelButton:!0,focusConfirm:!1,confirmButtonText:'<i class="fa fa-thumbs-up"></i> Great!',confirmButtonAriaLabel:"Thumbs up, great!",cancelButtonText:'<i class="fa fa-thumbs-down"></i>',cancelButtonAriaLabel:"Thumbs down"})},l=()=>{i.fire({title:"Do you want to save the changes?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Save",denyButtonText:"Don't save"}).then((t=>{t.isConfirmed?i.fire("Saved!","","success"):t.isDenied&&i.fire("Changes are not saved","","info")}))};return(t,e)=>{const i=N,c=D,d=P;return p(),g(d,{class:"mb-4"},{header:m((()=>[v("div",lb,[cb,b(i,{type:"primary",href:"https://sweetalert2.github.io/",target:"_blank"},{default:m((()=>[y("To Sweetalert2")])),_:1})])])),default:m((()=>[v("div",db,[b(c,{onClick:n},{default:m((()=>[y(" Default ")])),_:1}),b(c,{type:"info",onClick:a},{default:m((()=>[y(" Info ")])),_:1}),b(c,{type:"primary",onClick:s},{default:m((()=>[y(" Primary ")])),_:1}),b(c,{type:"success",onClick:r},{default:m((()=>[y(" Success ")])),_:1}),b(c,{type:"warning",onClick:o},{default:m((()=>[y(" Warning ")])),_:1}),b(c,{type:"danger",onClick:l},{default:m((()=>[y(" Danger ")])),_:1})])])),_:1})}}}),ub={class:"workPlatform"},fb=h({__name:"WorkBench",setup:t=>(t,e)=>(p(),O("div",ub,[b(Ca),b(um),b(Rm),b(Vv),b(ab),b(hb)]))});export{fb as default};
